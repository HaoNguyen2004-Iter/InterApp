!function(n){n.fn.extend({slimScroll:function(t){var i=n.extend({axis:"y",width:"auto",height:"250px",size:"7px",color:"#000",positionX:"bottom",positionY:"right",distance:"1px",startX:"left",startY:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClassX:"slimScrollRailX",barClassX:"slimScrollBarX",railClassY:"slimScrollRailY",barClassY:"slimScrollBarY",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},t);return i.axis=i.axis.toLowerCase(),this.each(function(){function ti(n){var i=0,t=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=n.wheelDelta/-6),"wheelDeltaY"in n&&(t=n.wheelDeltaY/-6),"wheelDeltaX"in n&&(i=n.wheelDeltaX/6),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(i=-1*t,t=0),i!==i&&t!==t&&(i=0,t=n.wheelDelta),"deltaY"in n&&(t=n.deltaY),"deltaX"in n&&(i=n.deltaX),[i,t]}function et(t){if(d){t=t||window.event;var u=ti(t),f=u[0],o=u[1],h=t.target||t.srcTarget||t.srcElement;n(h).closest("."+i.wrapperClass).is(r.parent())&&e(f,o,!0);t.preventDefault&&!s&&t.preventDefault();s||(t.returnValue=!1)}}function e(n,t,e,o){var h,d,l,c,g,a;(s=!1,v)&&(h=n,d=r.outerWidth()-u.outerWidth(),(e&&(h=parseInt(u.css("left"))+n*parseInt(i.wheelStep)/100,h=Math.min(Math.max(h,0),d),h=n>0?Math.ceil(h):Math.floor(h),u.css({left:h+"px"})),y=parseInt(u.css("left"))/(r.outerWidth()-u.outerWidth()),h=y*(r[0].scrollWidth-r.outerWidth()),o)&&(h=n,l=h/r[0].scrollWidth*r.outerWidth(),l=Math.min(Math.max(l,0),d),u.css({left:l+"px"})),r.scrollLeft(h),r.trigger("slimscrollingX",~~h),ht(),w());k&&(c=t,g=r.outerHeight()-f.outerHeight(),(e&&(c=parseInt(f.css("top"))+t*parseInt(i.wheelStep)/100,c=Math.min(Math.max(c,0),g),c=t>0?Math.ceil(c):Math.floor(c),f.css({top:c+"px"})),p=parseInt(f.css("top"))/(r.outerHeight()-f.outerHeight()),c=p*(r[0].scrollHeight-r.outerHeight()),o)&&(c=t,a=c/r[0].scrollHeight*r.outerHeight(),a=Math.min(Math.max(a,0),g),f.css({top:a+"px"})),r.scrollTop(c),r.trigger("slimscrollingY",~~c),ct(),b())}function ii(n){window.addEventListener?(n.addEventListener("DOMMouseScroll",et,!1),n.addEventListener("mousewheel",et,!1)):document.attachEvent("onmousewheel",et)}function ot(){if(u){rt=Math.max(r.outerWidth()/r[0].scrollWidth*r.outerWidth(),ui);u.css({width:rt+"px"});var n=v&&r[0].scrollWidth>r[0].clientWidth?"block":"none";u.css({display:n})}}function st(){if(f){it=Math.max(r.outerHeight()/r[0].scrollHeight*r.outerHeight(),ri);f.css({height:it+"px"});var n=k&&r[0].scrollHeight>r[0].clientHeight?"block":"none";f.css({display:n})}}function ht(){if(u){if(ot(),clearTimeout(pt),y==~~y){if(s=i.allowPageScroll,bt!=y){var n=0==~~y?"left":"right";r.trigger("slimscrollX",n)}}else s=!1;if(bt=y,rt>=r.outerWidth())return void(s=!0);u.stop(!0,!0).fadeIn("fast");i.railVisible&&l.stop(!0,!0).fadeIn("fast")}}function w(){u&&(i.alwaysVisible||(pt=setTimeout(function(){i.disableFadeOut&&d||lt||c||(u.fadeOut("slow"),l.fadeOut("slow"))},1e3)))}function ct(){if(f){if(st(),clearTimeout(wt),p==~~p){if(s=i.allowPageScroll,kt!=p){var n=0==~~p?"top":"bottom";r.trigger("slimscrollY",n)}}else s=!1;if(kt=p,it>=r.outerHeight())return void(s=!0);f.stop(!0,!0).fadeIn("fast");i.railVisible&&a.stop(!0,!0).fadeIn("fast")}}function b(){f&&(i.alwaysVisible||(wt=setTimeout(function(){i.disableFadeOut&&d||at||c||(f.fadeOut("slow"),a.fadeOut("slow"))},1e3)))}var v,k,h,nt,tt,d,lt,at,c,pt,wt,vt,yt,it,rt,y,bt,p,kt,g="<div><\/div>",ri=30,ui=30,s=!1,r=n(this),o=n(document),ut,ft,dt;if(r.parent().hasClass(i.wrapperClass))return n.extend(i,r.data("slimScrollConfig")||{}),ut=r.scrollLeft(),ft=r.scrollTop(),u=r.siblings("."+i.barClassX),l=r.siblings("."+i.railClassX),f=r.siblings("."+i.barClassY),a=r.siblings("."+i.railClassY),v="both"==i.axis||"x"==i.axis,k="both"==i.axis||"y"==i.axis,ot(),st(),n.isPlainObject(t)&&("width"in t&&v&&("auto"==t.width?(r.parent().css("width","auto"),r.css("width","auto"),i.width=r.parent().parent().width()):(i.width=t.width,r.css({"white-space":"nowrap"}))),"height"in t&&k&&("auto"==t.height?(r.parent().css("height","auto"),r.css("height","auto"),i.height=r.parent().parent().height()):i.height=t.height),r.parent().css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),r.css({overflow:"hidden",width:i.width,height:i.height}),"scrollToX"in t?ut=parseInt(i.scrollToX):"scrollByX"in t&&(ut+=parseInt(i.scrollByX)),"scrollToY"in t?ft=parseInt(i.scrollToY):"scrollByY"in t&&(ft+=parseInt(i.scrollByY)),"destroy"in t)?(u.remove(),l.remove(),f.remove(),a.remove(),void r.unwrap()):void e(ut,ft,!1,!0);if(!(n.isPlainObject(t)&&"destroy"in t)){if(v="both"==i.axis||"x"==i.axis,k="both"==i.axis||"y"==i.axis,i.height="auto"==i.height?r.parent().height():i.height,i.width="auto"==i.width?r.parent().width():i.width,r.data("slimScrollConfig",i),dt=n(g).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),r.css({overflow:"hidden",width:i.width,height:i.height}),r.wrap(dt),v){"auto"!=i.width&&v&&r.css({"white-space":"nowrap"});var l=n(g).addClass(i.railClassX).css({width:"100%",height:i.size,position:"absolute",left:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),u=n(g).addClass(i.barClassX).css({background:i.color,height:i.size,position:"absolute",left:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),gt="top"==i.positionX?{top:i.distance}:{bottom:i.distance};l.css(gt);u.css(gt);r.parent().append(u);r.parent().append(l);i.railDraggable&&(u.on("mousedown",function(n){return c=!0,h=parseFloat(u.css("left")),nt=n.pageX,o.on("mousemove.slimscrollX",function(n){currLeft=h+n.pageX-nt;u.css("left",currLeft);e(0,0,u.position().left)}),o.on("mouseup.slimscrollX",function(){c=!1;w();o.unbind(".slimscrollX")}),!1}).on("selectstart.slimscrollX",function(n){return n.stopPropagation(),n.preventDefault(),!1}),l.on("mousedown",function(n){var t=(n.offsetX-rt/2)*r[0].scrollWidth/r.outerWidth();return e(t,0,!1,!0),h=parseFloat(u.css("left")),nt=n.pageX,o.on("mousemove.slimscrollX",function(n){currLeft=h+n.pageX-nt;u.css("left",currLeft);e(0,0,u.position().left)}),o.on("mouseup.slimscrollX",function(){c=!1;w();o.unbind(".slimscrollX")}),!1}));l.hover(function(){ht()},function(){w()});u.hover(function(){lt=!0},function(){lt=!1});ot();"right"===i.startX?(u.css({left:r.outerWidth()-u.outerWidth()}),e(0,0,!0)):"left"!==i.startX&&(e(n(i.startX).position().left,null,null,!0),i.alwaysVisible||u.hide())}if(k){var a=n(g).addClass(i.railClassY).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),f=n(g).addClass(i.barClassY).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),ni="right"==i.positionY?{right:i.distance}:{left:i.distance};a.css(ni);f.css(ni);r.parent().append(f);r.parent().append(a);i.railDraggable&&(f.on("mousedown",function(n){return c=!0,h=parseFloat(f.css("top")),tt=n.pageY,o.on("mousemove.slimscrollY",function(n){currTop=h+n.pageY-tt;f.css("top",currTop);e(0,0,f.position().top)}),o.on("mouseup.slimscrollY",function(){c=!1;b();o.unbind(".slimscrollY")}),!1}).on("selectstart.slimscrollY",function(n){return n.stopPropagation(),n.preventDefault(),!1}),a.on("mousedown",function(n){var t=(n.offsetY-it/2)*r[0].scrollHeight/r.outerHeight();return e(0,t,!1,!0),h=parseFloat(f.css("top")),tt=n.pageY,o.on("mousemove.slimscrollY",function(n){currTop=h+n.pageY-tt;f.css("top",currTop);e(0,0,f.position().top)}),o.on("mouseup.slimscrollY",function(){c=!1;b();o.unbind(".slimscrollY")}),!1}));a.hover(function(){ct()},function(){b()});f.hover(function(){at=!0},function(){at=!1});st();"bottom"===i.startY?(f.css({top:r.outerHeight()-f.outerHeight()}),e(0,0,!0)):"top"!==i.startY&&(e(null,n(i.startY).position().top,null,!0),i.alwaysVisible||f.hide())}r.hover(function(){d=!0;ht();ct();w();b()},function(){d=!1;w();b()});r.on("touchstart",function(n){n.originalEvent.touches.length&&(vt=n.originalEvent.touches[0].pageX,yt=n.originalEvent.touches[0].pageY)});r.on("touchmove",function(n){if(s||n.originalEvent.preventDefault(),n.originalEvent.touches.length){var t=(vt-n.originalEvent.touches[0].pageX)/i.touchScrollStep,r=(yt-n.originalEvent.touches[0].pageY)/i.touchScrollStep;e(t,r,!0);vt=n.originalEvent.touches[0].pageX;yt=n.originalEvent.touches[0].pageY}});ii(this)}}),this}});n.fn.extend({slimscroll:n.fn.slimScroll})}(jQuery)