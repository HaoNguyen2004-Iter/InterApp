var define,require,esl;!function(n){function lt(n){u(n,f)||(g[n]=1)}function o(n,r){function e(n){0===n.indexOf(".")&&u.push(n)}var u=[],f;if("string"==typeof n?e(n):t(n,function(n){e(n)}),u.length>0)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+u.join(", "));return f=i.waitSeconds,f&&n instanceof Array&&(st&&clearTimeout(st),st=setTimeout(ui,1e3*f)),h(n,r)}function ui(){function o(c,l){if(!h[c]&&!u(c,f)){h[c]=1;u(c,d)||i[c]||(i[c]=1,n.push(c));var a=r[c];a?l&&(i[c]||(i[c]=1,n.push(c)),t(a.depMs,function(n){o(n.absId,n.hard)})):s[c]||(s[c]=1,e.push(c))}}var n=[],e=[],i={},s={},h={};for(var c in g)o(c,1);if(n.length||e.length)throw new Error("[MODULE_TIMEOUT]Hang( "+(n.join(", ")||"none")+" ) Miss( "+(e.join(", ")||"none")+" )");}function at(n){t(nt,function(t){yt(n,t.deps,t.factory)});nt.length=0}function ut(n,t,i){var r,u;(null==i&&(null==t?(i=n,n=null):(i=t,t=null,n instanceof Array&&(t=n,n=null))),null!=i)&&(r=window.opera,n||!document.attachEvent||r&&"[object Opera]"===r.toString()||(u=li(),n=u&&u.getAttribute("data-require-id")),n?yt(n,t,i):nt[0]={deps:t,factory:i})}function vt(){var n=i.config[this.id];return n&&"object"==typeof n?n:{}}function yt(n,t,i){r[n]||(r[n]={id:n,depsDec:t,deps:t||["require","exports","module"],factoryDeps:[],factory:i,exports:{},config:vt,state:vi,require:gt(n),depMs:[],depMkv:{},depRs:[]})}function pt(n){var i=r[n],l,f;if(i&&!u(n,k)){var o=i.deps,h=i.factory,c=0;"function"==typeof h&&(c=Math.min(h.length,o.length),!i.depsDec&&h.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"'])([^'"]+)\1\s*\)/g,function(n,t,i){o.push(i)}));l=[];f=[];t(o,function(t,r){var o,a,h=b(t),u=e(h.mod,n);u&&!s[u]?(h.res&&(a={id:t,mod:u,res:h.res},f.push(t),i.depRs.push(a)),o=i.depMkv[u],o||(o={id:h.mod,absId:u,hard:c>r},i.depMs.push(o),i.depMkv[u]=o,l.push(u))):o={absId:u};c>r&&i.factoryDeps.push(a||o)});i.state=k;ei(n);ot(l);f.length&&i.require(f,function(){t(i.depRs,function(t){t.absId||(t.absId=e(t.id,n))});p()})}}function p(){for(var n in g)pt(n),fi(n),ft(n)}function fi(n){function i(n){if(pt(n),!u(n,k))return!1;if(u(n,d)||f[n])return!0;f[n]=1;var o=r[n],e=!0;return t(o.depMs,function(n){return e=i(n.absId)}),e&&t(o.depRs,function(n){return e=!!n.absId}),e&&(o.state=d),e}var f={};i(n)}function ei(i){function h(){var h,r,c,l;if(!o&&e.state===d&&(o=1,h=1,t(e.factoryDeps,function(n){var t=n.absId;if(!s[t])return(ft(t),h=u(t,f))}),h)){try{r=e.factory;c="function"==typeof r?r.apply(n,et(e.factoryDeps,{require:e.require,exports:e.exports,module:e})):r;null!=c&&(e.exports=c);e.invokeFactory=null}catch(a){if(/^\[MODULE_MISS\]"([^"]+)/.test(a.message))return l=e.depMkv[RegExp.$1],l&&(l.hard=1),void(o=0);throw a;}wt(i)}}var o,e=r[i];e.invokeFactory=h}function u(n,t){return r[n]&&r[n].state>=t}function ft(n){var t=r[n];t&&t.invokeFactory&&t.invokeFactory()}function et(n,i){var u=[];return t(n,function(n,t){"object"==typeof n&&(n=n.absId);u[t]=i[n]||r[n].exports}),u}function oi(n,t){if(u(n,f))return void t();var i=l[n];i||(i=l[n]=[]);i.push(t)}function wt(n){var u=r[n],t,i;for(u.state=f,delete g[n],t=l[n]||[],i=t.length;i--;)t[i]();t.length=0;l[n]=null}function ot(i,r,e){function o(){if("function"==typeof r&&!h){var e=1;t(i,function(n){if(!s[n])return e=!!u(n,f)});e&&(h=1,r.apply(n,et(i,s)))}}var h=0;t(i,function(n){s[n]||u(n,f)||(oi(n,o),(n.indexOf("!")>0?si:bt)(n,e))});o()}function bt(u){function o(){var n=v[u];ai(n||u,c)}function c(){if(f){var i;"function"==typeof f.init&&(i=f.init.apply(n,et(e,s)));null==i&&f.exports&&(i=n,t(f.exports.split("."),function(n){return i=i[n],!!i}));ut(u,e,i||{})}else at(u);p()}var f,e;ht[u]||r[u]||(ht[u]=1,f=i.shim[u],f instanceof Array&&(i.shim[u]=f={deps:f}),e=f&&(f.deps||[]),e?(t(e,function(n){i.shim[n]||(i.shim[n]={})}),h(e,o)):o())}function si(n,t){function e(t){f.exports=t||!0;wt(n)}function o(i){var f=t?r[t].require:h;i.load(u.res,f,e,vt.call({id:n}))}var i,u,f;if(!r[n]){if(i=v[n],i)return void bt(i);u=b(n);f={id:n,state:k};r[n]=f;e.fromText=function(n,t){new Function(t)();at(n)};o(h(u.mod))}}function w(n,t){var i=ci(n,1,t);return i.sort(ti),i}function kt(){function r(t){v[t]=n}i.baseUrl=i.baseUrl.replace(/\/$/,"")+"/";ii=w(i.paths);ct=w(i.map,1);t(ct,function(n){n.v=w(n.v)});a=[];t(i.packages,function(n){var t=n;"string"==typeof n&&(t={name:n.split("/")[0],location:n,main:"main"});t.location=t.location||t.name;t.main=(t.main||"main").replace(/\.js$/i,"");t.reg=ni(t.name);a.push(t)});a.sort(ti);ri=w(i.urlArgs,1);v={};for(var n in i.bundles)t(i.bundles[n],r)}function c(n,i,r){t(i,function(t){if(t.reg.test(n))return(r(t.v,t.k,t),!1)})}function dt(n){var u=/(\.[a-z0-9]+)$/i,f=/(\?[^#]*)$/,e="",r=n,o="",s,t;return f.test(n)&&(o=RegExp.$1,n=n.replace(f,"")),u.test(n)&&(e=RegExp.$1,r=n.replace(u,"")),t=r,c(r,ii,function(n,i){t=t.replace(i,n);s=1}),s||c(r,a,function(n,i,r){t=t.replace(r.name,r.location)}),/^([a-z]{2,10}:\/)?\//i.test(t)||(t=i.baseUrl+t),t+=e+o,c(r,ri,function(n){t+=(t.indexOf("?")>0?"&":"?")+n}),t}function gt(n){function o(o,s){var h,l,c;if("string"==typeof o){if(!i[o]){if(h=e(o,n),ft(h),!u(h,f))throw new Error('[MODULE_MISS]"'+h+'" is not exists!');i[o]=r[h].exports}return i[o]}o instanceof Array&&(l=[],c=[],t(o,function(t,i){var s=b(t),r=e(s.mod,n),u=s.res,f=r,o;u&&(o=r+"!"+u,0!==u.indexOf(".")&&v[o]?r=f=o:f=null);c[i]=f;lt(r);l.push(r)}),ot(l,function(){t(c,function(t,i){null==t&&(t=c[i]=e(o[i],n),lt(t))});ot(c,s,n);p()},n),p())}var i={};return o.toUrl=function(t){return dt(e(t,n))},o}function e(n,i){var s,o,r,l;return n?(i=i||"",s=b(n),!s)?n:(o=s.res,r=hi(s.mod,i),(t(a,function(n){var t=n.name;if(t===r)return(r=t+"/"+n.main,!1)}),c(i,ct,function(n){c(r,n,function(n,t){r=r.replace(t,n)})}),o)&&(l=u(r,f)&&h(r),o=l&&l.normalize?l.normalize(o,function(n){return e(n,i)}):e(o,i),r+="!"+o),r):""}function hi(n,t){var r;if(0===n.indexOf(".")){var u=t.split("/"),i=n.split("/"),o=u.length-1,s=i.length,f=0,e=0;n:for(r=0;s>r;r++)switch(i[r]){case"..":if(!(o>f))break n;f++;e++;break;case".":e++;break;default:break n}return u.length=o-f,i=i.slice(e),u.concat(i).join("/")}return n}function b(n){var t=n.split("!");if(t[0])return{mod:t[0],res:t[1]}}function ci(n,t,i){var f=[],r,u;for(r in n)n.hasOwnProperty(r)&&(u={k:r,v:n[r]},f.push(u),t&&(u.reg="*"===r&&i?/^/:ni(r)));return f}function li(){var t,i,n;if(tt)return tt;if(it&&"interactive"===it.readyState)return it;for(t=document.getElementsByTagName("script"),i=t.length;i--;)if(n=t[i],"interactive"===n.readyState)return it=n,n}function ai(n,t){function r(){var n=i.readyState;("undefined"==typeof n||/^(loaded|complete)$/.test(n))&&(i.onload=i.onreadystatechange=null,i=null,t())}var i=document.createElement("script");i.setAttribute("data-require-id",n);i.src=dt(n+".js");i.async=!0;i.readyState?i.onreadystatechange=r:i.onload=r;tt=i;y?rt.insertBefore(i,y):rt.appendChild(i);tt=null}function ni(n){return new RegExp("^"+n+"(/|$)")}function t(n,t){if(n instanceof Array)for(var i=0,r=n.length;r>i&&t(n[i],i)!==!1;i++);}function ti(n,t){var i=n.k||n.name,r=t.k||t.name;return"*"===r?-1:"*"===i?1:r.length-i.length}var st,r={},vi=1,k=2,d=3,f=4,g={},s={require:o,exports:1,module:1},h=gt(),i={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}},nt,l,ht,ii,a,ct,v,ri,tt,it,rt,y;o.version="2.0.2";o.loader="esl";o.toUrl=h.toUrl;nt=[];ut.amd={};l={};ht={};o.config=function(n){var u,t,r,f;if(n){for(u in i)if(t=n[u],r=i[u],t)if("urlArgs"===u&&"string"==typeof t)i.urlArgs["*"]=t;else if(r instanceof Array)r.push.apply(r,t);else if("object"==typeof r)for(f in t)r[f]=t[f];else i[u]=t;kt()}};kt();rt=document.getElementsByTagName("head")[0];y=document.getElementsByTagName("base")[0];y&&(rt=y.parentNode);define||(define=ut,require||(require=o),esl=o)}(this);define("echarts",["echarts/echarts"],function(n){return n});define("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(n){function o(){l.Dispatcher.call(this)}function c(n){n.innerHTML="";this._themeConfig={};this.dom=n;this._connected=!1;this._status={dragIn:!1,dragOut:!1,needRefresh:!1};this._curEventType=!1;this._chartList=[];this._messageCenter=new o;this._messageCenterOutSide=new o;this.resize=this.resize();this._init()}function r(n,t,i,r,u){for(var o,f=n._chartList,e=f.length;e--;)o=f[e],"function"==typeof o[t]&&o[t](i,r,u)}var t=n("./config"),i=n("zrender/tool/util"),l=n("zrender/tool/event"),f={},e=n("zrender/tool/env").canvasSupported,v=new Date-0,u={},s="_echarts_instance_",a,h;return f.version="2.2.7",f.dependencies={zrender:"2.1.1"},f.init=function(t,i){var o=n("zrender"),r;return o.version.replace(".","")-0<f.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+o.version+" is too old for ECharts "+f.version+". Current version need ZRender "+f.dependencies.zrender+"+"),t=t instanceof Array?t[0]:t,r=t.getAttribute(s),r||(r=v++,t.setAttribute(s,r)),u[r]&&u[r].dispose(),u[r]=new c(t),u[r].id=r,u[r].canvasSupported=e,u[r].setTheme(i),u[r]},f.getInstanceById=function(n){return u[n]},i.merge(o.prototype,l.Dispatcher.prototype,!0),a=n("zrender/config").EVENT,h=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"],c.prototype={_init:function(){var u=this,r=n("zrender").init(this.dom),i,o,f,l,s,c,v,y,e;this._zr=r;this._messageCenter.dispatch=function(n,t,i,r){i=i||{};i.type=n;i.event=t;u._messageCenter.dispatchWithContext(n,i,r);u._messageCenterOutSide.dispatchWithContext(n,i,r)};this._onevent=function(n){return u.__onevent(n)};for(i in t.EVENT)"CLICK"!=i&&"DBLCLICK"!=i&&"HOVER"!=i&&"MOUSEOUT"!=i&&"MAP_ROAM"!=i&&this._messageCenter.bind(t.EVENT[i],this._onevent,this);for(o={},this._onzrevent=function(n){return u[o[n.type]](n)},f=0,l=h.length;l>f;f++)s=h[f],c=a[s],o[c]="_on"+s.toLowerCase(),r.on(c,this._onzrevent);this.chart={};this.component={};v=n("./chart/island");this._island=new v(this._themeConfig,this._messageCenter,r,{},this);this.chart.island=this._island;y=n("./component/toolbox");this._toolbox=new y(this._themeConfig,this._messageCenter,r,{},this);this.component.toolbox=this._toolbox;e=n("./component");e.define("title",n("./component/title"));e.define("tooltip",n("./component/tooltip"));e.define("legend",n("./component/legend"));(0===r.getWidth()||0===r.getHeight())&&console.error("Dom’s width & height should be ready before init.")},__onevent:function(n){var r,u,f,i,e;n.__echartsId=n.__echartsId||this.id;r=n.__echartsId===this.id;switch(this._curEventType||(this._curEventType=n.type),n.type){case t.EVENT.LEGEND_SELECTED:this._onlegendSelected(n);break;case t.EVENT.DATA_ZOOM:r||(u=this.component.dataZoom,u&&(u.silence(!0),u.absoluteZoom(n.zoom),u.silence(!1)));this._ondataZoom(n);break;case t.EVENT.DATA_RANGE:r&&this._ondataRange(n);break;case t.EVENT.MAGIC_TYPE_CHANGED:r||(f=this.component.toolbox,f&&(f.silence(!0),f.setMagicType(n.magicType),f.silence(!1)));this._onmagicTypeChanged(n);break;case t.EVENT.DATA_VIEW_CHANGED:r&&this._ondataViewChanged(n);break;case t.EVENT.TOOLTIP_HOVER:r&&this._tooltipHover(n);break;case t.EVENT.RESTORE:this._onrestore();break;case t.EVENT.REFRESH:r&&this._onrefresh(n);break;case t.EVENT.TOOLTIP_IN_GRID:case t.EVENT.TOOLTIP_OUT_GRID:r?this._connected&&(i=this.component.grid,i&&(n.x=(n.event.zrenderX-i.getX())/i.getWidth(),n.y=(n.event.zrenderY-i.getY())/i.getHeight())):(i=this.component.grid,i&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:i.getX()+n.x*i.getWidth(),zrenderY:i.getY()+n.y*i.getHeight()}))}if(this._connected&&r&&this._curEventType===n.type){for(e in this._connected)this._connected[e].connectedEventHandler(n);this._curEventType=null}r&&(this._connected||!r)||(this._curEventType=null)},_onclick:function(n){if(r(this,"onclick",n),n.target){var i=this._eventPackage(n.target);i&&null!=i.seriesIndex&&this._messageCenter.dispatch(t.EVENT.CLICK,n.event,i,this)}},_ondblclick:function(n){if(r(this,"ondblclick",n),n.target){var i=this._eventPackage(n.target);i&&null!=i.seriesIndex&&this._messageCenter.dispatch(t.EVENT.DBLCLICK,n.event,i,this)}},_onmouseover:function(n){if(n.target){var i=this._eventPackage(n.target);i&&null!=i.seriesIndex&&this._messageCenter.dispatch(t.EVENT.HOVER,n.event,i,this)}},_onmouseout:function(n){if(n.target){var i=this._eventPackage(n.target);i&&null!=i.seriesIndex&&this._messageCenter.dispatch(t.EVENT.MOUSEOUT,n.event,i,this)}},_ondragstart:function(n){this._status={dragIn:!1,dragOut:!1,needRefresh:!1};r(this,"ondragstart",n)},_ondragenter:function(n){r(this,"ondragenter",n)},_ondragover:function(n){r(this,"ondragover",n)},_ondragleave:function(n){r(this,"ondragleave",n)},_ondrop:function(n){r(this,"ondrop",n,this._status);this._island.ondrop(n,this._status)},_ondragend:function(n){if(r(this,"ondragend",n,this._status),this._timeline&&this._timeline.ondragend(n,this._status),this._island.ondragend(n,this._status),this._status.needRefresh){this._syncBackupData(this._option);var i=this._messageCenter;i.dispatch(t.EVENT.DATA_CHANGED,n.event,this._eventPackage(n.target),this);i.dispatch(t.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(n){this._status.needRefresh=!1;r(this,"onlegendSelected",n,this._status);this._status.needRefresh&&this._messageCenter.dispatch(t.EVENT.REFRESH,null,null,this)},_ondataZoom:function(n){this._status.needRefresh=!1;r(this,"ondataZoom",n,this._status);this._status.needRefresh&&this._messageCenter.dispatch(t.EVENT.REFRESH,null,null,this)},_ondataRange:function(n){this._clearEffect();this._status.needRefresh=!1;r(this,"ondataRange",n,this._status);this._status.needRefresh&&this._zr.refreshNextFrame()},_onmagicTypeChanged:function(){this._clearEffect();this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(n){this._syncBackupData(n.option);this._messageCenter.dispatch(t.EVENT.DATA_CHANGED,null,n,this);this._messageCenter.dispatch(t.EVENT.REFRESH,null,null,this)},_tooltipHover:function(n){r(this,"ontooltipHover",n,[])},_onrestore:function(){this.restore()},_onrefresh:function(n){this._refreshInside=!0;this.refresh(n);this._refreshInside=!1},_syncBackupData:function(n){this.component.dataZoom&&this.component.dataZoom.syncBackupData(n)},_eventPackage:function(t){if(t){var i=n("./util/ecData"),u=i.get(t,"seriesIndex"),r=i.get(t,"dataIndex");return r=-1!=u&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(u,r):r,{seriesIndex:u,seriesName:(i.get(t,"series")||{}).name,dataIndex:r,data:i.get(t,"data"),name:i.get(t,"name"),value:i.get(t,"value"),special:i.get(t,"special")}}},_noDataCheck:function(n){for(var u,r=n.series,i=0,f=r.length;f>i;i++)if(r[i].type==t.CHART_TYPE_MAP||r[i].data&&r[i].data.length>0||r[i].markPoint&&r[i].markPoint.data&&r[i].markPoint.data.length>0||r[i].markLine&&r[i].markLine.data&&r[i].markLine.data.length>0||r[i].nodes&&r[i].nodes.length>0||r[i].links&&r[i].links.length>0||r[i].matrix&&r[i].matrix.length>0||r[i].eventList&&r[i].eventList.length>0)return!1;return u=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||t.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||t.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||t.noDataEffect},this.clear(),this.showLoading(u),!0},_render:function(i){var c,s,p,w,y,u;if(this._mergeGlobalConifg(i),!this._noDataCheck(i)){c=i.backgroundColor;c&&(e||-1==c.indexOf("rgba")?this.dom.style.backgroundColor=c:(s=c.split(","),this.dom.style.filter="alpha(opacity="+100*s[3].substring(0,s[3].lastIndexOf(")"))+")",s.length=3,s[0]=s[0].replace("a",""),this.dom.style.backgroundColor=s.join(",")+")"));this._zr.clearAnimation();this._chartList=[];p=n("./chart");w=n("./component");(i.xAxis||i.yAxis)&&(i.grid=i.grid||{},i.dataZoom=i.dataZoom||{});for(var b,f,o,k=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],h=0,d=k.length;d>h;h++)f=k[h],o=this.component[f],i[f]?(o?o.refresh&&o.refresh(i):(b=w.get(/^[xy]Axis$/.test(f)?"axis":f),o=new b(this._themeConfig,this._messageCenter,this._zr,i,this,f),this.component[f]=o),this._chartList.push(o)):o&&(o.dispose(),this.component[f]=null,delete this.component[f]);for(var a,r,l,v={},h=0,d=i.series.length;d>h;h++)r=i.series[h].type,r?v[r]||(v[r]=!0,a=p.get(r),a?(this.chart[r]?(l=this.chart[r],l.refresh(i)):l=new a(this._themeConfig,this._messageCenter,this._zr,i,this),this._chartList.push(l),this.chart[r]=l):console.error(r+" has not been required.")):console.error("series["+h+"] chart type has not been defined.");for(r in this.chart)r==t.CHART_TYPE_ISLAND||v[r]||(this.chart[r].dispose(),this.chart[r]=null,delete this.chart[r]);this.component.grid&&this.component.grid.refixAxisShape(this.component);this._island.refresh(i);this._toolbox.refresh(i);i.animation&&!i.renderAsImage?this._zr.refresh():this._zr.render();y="IMG"+this.id;u=document.getElementById(y);i.renderAsImage&&e?(u?u.src=this.getDataURL(i.renderAsImage):(u=this.getImage(i.renderAsImage),u.id=y,u.style.position="absolute",u.style.left=0,u.style.top=0,this.dom.firstChild.appendChild(u)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):u&&u.parentNode.removeChild(u);u=null;this._option=i}},restore:function(){this._clearEffect();this._option=i.clone(this._optionRestore);this._disposeChartList();this._island.clear();this._toolbox.reset(this._option,!0);this._render(this._option)},refresh:function(n){var t,r,u;for(this._clearEffect(),n=n||{},t=n.option,!this._refreshInside&&t&&(t=this.getOption(),i.merge(t,n.option,!0),i.merge(this._optionRestore,n.option,!0),this._toolbox.reset(t)),this._island.refresh(t),this._toolbox.refresh(t),this._zr.clearAnimation(),r=0,u=this._chartList.length;u>r;r++)this._chartList[r].refresh&&this._chartList[r].refresh(t);this.component.grid&&this.component.grid.refixAxisShape(this.component);this._zr.refresh()},_disposeChartList:function(){var i,n,t;for(this._clearEffect(),this._zr.clearAnimation(),i=this._chartList.length;i--;)n=this._chartList[i],n&&(t=n.type,this.chart[t]&&delete this.chart[t],this.component[t]&&delete this.component[t],n.dispose&&n.dispose());this._chartList=[]},_mergeGlobalConifg:function(i){for(var r,u,f=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],o=f.length;o--;)r=f[o],null==i[r]&&(i[r]=null!=this._themeConfig[r]?this._themeConfig[r]:t[r]);u=i.color;u&&u.length||(u=this._themeConfig.color||t.color);this._zr.getColor=function(t){var i=n("zrender/tool/color");return i.getColor(t,u)};e||(i.animation=!1,i.addDataAnimation=!1)},setOption:function(n,t){return n.timeline?this._setTimelineOption(n):this._setOption(n,t)},_setOption:function(n,t,r){return!t&&this._option?this._option=i.merge(this.getOption(),i.clone(n),!0):(this._option=i.clone(n),!r&&this._timeline&&this._timeline.dispose()),this._optionRestore=i.clone(this._option),this._option.series&&0!==this._option.series.length?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function n(n){var u=r._optionRestore[n],f;if(u)if(u instanceof Array)for(f=u.length;f--;)t[n][f].data=i.clone(u[f].data);else t[n].data=i.clone(u.data)}var t=i.clone(this._option),r=this;return n("xAxis"),n("yAxis"),n("series"),t},setSeries:function(n,t){return t?(this._option.series=n,this.setOption(this._option,t)):this.setOption({series:n}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(t){this._timeline&&this._timeline.dispose();var i=n("./component/timeline"),r=new i(this._themeConfig,this._messageCenter,this._zr,t,this);return this._timeline=r,this.component.timeline=this._timeline,this},addData:function(n,r,u,f,e){function ut(){if(d._zr){d._zr.clearAnimation();for(var n=0,i=b.length;i>n;n++)b[n].motionlessOnce=o.addDataAnimation&&b[n].addDataAnimation;d._messageCenter.dispatch(t.EVENT.REFRESH,null,{option:o},d)}}for(var tt,it,et,g,nt,y,p,w,c,a=n instanceof Array?n:[[n,r,u,f,e]],o=this.getOption(),h=this._optionRestore,d=this,s=0,ft=a.length;ft>s;s++){n=a[s][0];r=a[s][1];u=a[s][2];f=a[s][3];e=a[s][4];var k=h.series[n],l=u?"unshift":"push",v=u?"pop":"shift";k&&(tt=k.data,it=o.series[n].data,(tt[l](r),it[l](r),f||(tt[v](),r=it[v]()),null!=e)&&(k.type===t.CHART_TYPE_PIE&&(et=h.legend)&&(g=et.data)?(nt=o.legend.data,(g[l](e),nt[l](e),f)||(y=i.indexOf(g,r.name),-1!=y&&g.splice(y,1),y=i.indexOf(nt,r.name),-1!=y&&nt.splice(y,1))):null!=h.xAxis&&null!=h.yAxis&&(c=k.xAxisIndex||0,(null==h.xAxis[c].type||"category"===h.xAxis[c].type)&&(p=h.xAxis[c].data,w=o.xAxis[c].data,p[l](e),w[l](e),f||(p[v](),w[v]())),c=k.yAxisIndex||0,"category"===h.yAxis[c].type&&(p=h.yAxis[c].data,w=o.yAxis[c].data,p[l](e),w[l](e),f||(p[v](),w[v]())))),this._option.series[n].data=o.series[n].data)}this._zr.clearAnimation();for(var b=this._chartList,rt=0,ot=function(){rt--;0===rt&&ut()},s=0,ft=b.length;ft>s;s++)o.addDataAnimation&&b[s].addDataAnimation&&(rt++,b[s].addDataAnimation(a,ot));return this.component.dataZoom&&this.component.dataZoom.syncOption(o),this._option=o,o.addDataAnimation||setTimeout(ut,0),this},addMarkPoint:function(n,t){return this._addMark(n,t,"markPoint")},addMarkLine:function(n,t){return this._addMark(n,t,"markLine")},_addMark:function(n,t,r){var o,h=this._option.series,u,s;if(h&&(o=h[n])){var l=this._optionRestore.series,c=l[n],f=o[r],e=c[r];f=o[r]=f||{data:[]};e=c[r]=e||{data:[]};for(u in t)"data"===u?(f.data=f.data.concat(t.data),e.data=e.data.concat(t.data)):"object"!=typeof t[u]||null==f[u]?f[u]=e[u]=t[u]:(i.merge(f[u],t[u],!0),i.merge(e[u],t[u],!0));s=this.chart[o.type];s&&s.addMark(n,t,r)}return this},delMarkPoint:function(n,t){return this._delMark(n,t,"markPoint")},delMarkLine:function(n,t){return this._delMark(n,t,"markLine")},_delMark:function(n,t,i){var o,h,e,c=this._option.series,f,s;if(!(c&&(o=c[n])&&(h=o[i])&&(e=h.data)))return this;t=t.split(" > ");for(var r=-1,u=0,l=e.length;l>u;u++)if(f=e[u],f instanceof Array){if(f[0].name===t[0]&&f[1].name===t[1]){r=u;break}}else if(f.name===t[0]){r=u;break}return r>-1&&(e.splice(r,1),this._optionRestore.series[n][i].data.splice(r,1),s=this.chart[o.type],s&&s.delMark(n,t.join(" > "),i)),this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(n){var u,i,r,t;if(!e)return"";if(0===this._chartList.length&&(u="IMG"+this.id,i=document.getElementById(u),i))return i.src;r=this.component.tooltip;switch(r&&r.hideTip(),n){case"jpeg":break;default:n="png"}return t=this._option.backgroundColor,t&&"rgba(0,0,0,0)"===t.replace(" ","")&&(t="#fff"),this._zr.toDataURL("image/"+n,t)},getImage:function(n){var i=this._optionRestore.title,t=document.createElement("img");return t.src=this.getDataURL(n),t.title=i&&i.text||"ECharts",t},getConnectedDataURL:function(t){var f,e,a,u,o,v;if(!this.isConnected())return this.getDataURL(t);var i=this.dom,r={self:{img:this.getDataURL(t),left:i.offsetLeft,top:i.offsetTop,right:i.offsetLeft+i.offsetWidth,bottom:i.offsetTop+i.offsetHeight}},s=r.self.left,h=r.self.top,c=r.self.right,l=r.self.bottom;for(u in this._connected)i=this._connected[u].getDom(),r[u]={img:this._connected[u].getDataURL(t),left:i.offsetLeft,top:i.offsetTop,right:i.offsetLeft+i.offsetWidth,bottom:i.offsetTop+i.offsetHeight},s=Math.min(s,r[u].left),h=Math.min(h,r[u].top),c=Math.max(c,r[u].right),l=Math.max(l,r[u].bottom);f=document.createElement("div");f.style.position="absolute";f.style.left="-4000px";f.style.width=c-s+"px";f.style.height=l-h+"px";document.body.appendChild(f);e=n("zrender").init(f);a=n("zrender/shape/Image");for(u in r)e.addShape(new a({style:{x:r[u].left-s,y:r[u].top-h,image:r[u].img}}));return e.render(),o=this._option.backgroundColor,o&&"rgba(0,0,0,0)"===o.replace(/ /g,"")&&(o="#fff"),v=e.toDataURL("image/png",o),setTimeout(function(){e.dispose();f.parentNode.removeChild(f);f=null},100),v},getConnectedImage:function(n){var i=this._optionRestore.title,t=document.createElement("img");return t.src=this.getConnectedDataURL(n),t.title=i&&i.text||"ECharts",t},on:function(n,t){return this._messageCenterOutSide.bind(n,t,this),this},un:function(n,t){return this._messageCenterOutSide.unbind(n,t),this},connect:function(n){if(!n)return this;if(this._connected||(this._connected={}),n instanceof Array)for(var t=0,i=n.length;i>t;t++)this._connected[n[t].id]=n[t];else this._connected[n.id]=n;return this},disConnect:function(n){var t,i,r;if(!n||!this._connected)return this;if(n instanceof Array)for(t=0,i=n.length;i>t;t++)delete this._connected[n[t].id];else delete this._connected[n.id];for(r in this._connected)return this;return this._connected=!1,this},connectedEventHandler:function(n){n.__echartsId!=this.id&&this._onevent(n)},isConnected:function(){return!!this._connected},showLoading:function(r){var o={bar:n("zrender/loadingEffect/Bar"),bubble:n("zrender/loadingEffect/Bubble"),dynamicLine:n("zrender/loadingEffect/DynamicLine"),ring:n("zrender/loadingEffect/Ring"),spin:n("zrender/loadingEffect/Spin"),whirling:n("zrender/loadingEffect/Whirling")},u,f,e;return this._toolbox.hideDataView(),r=r||{},u=r.textStyle||{},r.textStyle=u,f=i.merge(i.merge(i.clone(u),this._themeConfig.textStyle),t.textStyle),u.textFont=f.fontStyle+" "+f.fontWeight+" "+f.fontSize+"px "+f.fontFamily,u.text=r.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||t.loadingText,null!=r.x&&(u.x=r.x),null!=r.y&&(u.y=r.y),r.effectOption=r.effectOption||{},r.effectOption.textStyle=u,e=r.effect,("string"==typeof e||null==e)&&(e=o[r.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||t.loadingEffect]||o.spin),this._zr.showLoading(new e(r.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(i){if(i){if("string"==typeof i)switch(i){case"macarons":i=n("./theme/macarons");break;case"infographic":i=n("./theme/infographic");break;default:i={}}else i=i||{};this._themeConfig=i}if(!e){var r=this._themeConfig.textStyle;r&&r.fontFamily&&r.fontFamily2&&(r.fontFamily=r.fontFamily2);r=t.textStyle;r.fontFamily=r.fontFamily2}this._timeline&&this._timeline.setTheme(!0);this._optionRestore&&this.restore()},resize:function(){var n=this;return function(){if(n._clearEffect(),n._zr.resize(),n._option&&n._option.renderAsImage&&e)return n._render(n._option),n;n._zr.clearAnimation();n._island.resize();n._toolbox.resize();n._timeline&&n._timeline.resize();for(var i=0,r=n._chartList.length;r>i;i++)n._chartList[i].resize&&n._chartList[i].resize();return n.component.grid&&n.component.grid.refixAxisShape(n.component),n._zr.refresh(),n._messageCenter.dispatch(t.EVENT.RESIZE,null,null,n),n}},_clearEffect:function(){this._zr.modLayer(t.EFFECT_ZLEVEL,{motionBlur:!1});this._zr.painter.clearLayer(t.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var n=this.dom.getAttribute(s);n&&delete u[n];this._island.dispose();this._toolbox.dispose();this._timeline&&this._timeline.dispose();this._messageCenter.unbind();this.clear();this._zr.dispose();this._zr=null}},f});define("echarts/config",[],function(){return{CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",CHART_TYPE_HEATMAP:"heatmap",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:.2,precision:2,effect:{show:!1,loop:!0,period:15,scaleSize:2},bundling:{enable:!1,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,effectBlendAlpha:.95,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"数据读取中...",noDataEffect:"bubble",noDataText:"暂无数据",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2e3,animationDuration:2e3,animationDurationUpdate:500,animationEasing:"ExponentialOut"}});define("zrender/tool/util",["require","../dep/excanvas"],function(n){function u(n){return n&&1===n.nodeType&&"string"==typeof n.nodeName}function i(n){var t,r,s,f;if("object"==typeof n&&null!==n){if(t=n,n instanceof Array)for(t=[],r=0,s=n.length;s>r;r++)t[r]=i(n[r]);else if(!e[o.call(n)]&&!u(n)){t={};for(f in n)n.hasOwnProperty(f)&&(t[f]=i(n[f]))}return t}return n}function s(n,t,i,r){if(t.hasOwnProperty(i)){var s=n[i];"object"!=typeof s||e[o.call(s)]||u(s)?!r&&i in n||(n[i]=t[i]):f(n[i],t[i],r)}}function f(n,t,i){for(var r in t)s(n,t,r,i);return n}function h(){if(!t)if(n("../dep/excanvas"),window.G_vmlCanvasManager){var i=document.createElement("div");i.style.position="absolute";i.style.top="-1000px";document.body.appendChild(i);t=G_vmlCanvasManager.initElement(i).getContext("2d")}else t=document.createElement("canvas").getContext("2d");return t}function c(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1}function l(n,t){function r(){}var u=n.prototype,i;r.prototype=t.prototype;n.prototype=new r;for(i in u)n.prototype[i]=u[i];n.constructor=n}function a(n,t,i){var r,f,u;if(n&&t)if(n.forEach&&n.forEach===w)n.forEach(t,i);else if(n.length===+n.length)for(r=0,f=n.length;f>r;r++)t.call(i,n[r],r,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function v(n,t,i){if(n&&t){if(n.map&&n.map===b)return n.map(t,i);for(var u=[],r=0,f=n.length;f>r;r++)u.push(t.call(i,n[r],r,n));return u}}function y(n,t,i){if(n&&t){if(n.filter&&n.filter===k)return n.filter(t,i);for(var u=[],r=0,f=n.length;f>r;r++)t.call(i,n[r],r,n)&&u.push(n[r]);return u}}function p(n,t){return function(){n.apply(t,arguments)}}var t,r=Array.prototype,w=r.forEach,b=r.map,k=r.filter,e={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},o=Object.prototype.toString;return{inherits:l,clone:i,merge:f,getContext:h,indexOf:c,each:a,map:v,filter:y,bind:p}});define("zrender/tool/event",["require","../mixin/Eventful"],function(n){"use strict";function t(n){return"undefined"!=typeof n.zrenderX&&n.zrenderX||"undefined"!=typeof n.offsetX&&n.offsetX||"undefined"!=typeof n.layerX&&n.layerX||"undefined"!=typeof n.clientX&&n.clientX}function i(n){return"undefined"!=typeof n.zrenderY&&n.zrenderY||"undefined"!=typeof n.offsetY&&n.offsetY||"undefined"!=typeof n.layerY&&n.layerY||"undefined"!=typeof n.clientY&&n.clientY}function r(n){return"undefined"!=typeof n.zrenderDelta&&n.zrenderDelta||"undefined"!=typeof n.wheelDelta&&n.wheelDelta||"undefined"!=typeof n.detail&&-n.detail}var u=n("../mixin/Eventful"),f="function"==typeof addEventListener?function(n){n.preventDefault();n.stopPropagation();n.cancelBubble=!0}:function(n){n.returnValue=!1;n.cancelBubble=!0};return{getX:t,getY:i,getDelta:r,stop:f,Dispatcher:u}});define("zrender/tool/env",[],function(){function n(n){var t=this.os={},i=this.browser={},c=n.match(/Web[kK]it[\/]{0,1}([\d.]+)/),f=n.match(/(Android);?[\s\/]+([\d.]+)?/),e=n.match(/(iPad).*OS\s([\d_]+)/),o=n.match(/(iPod)(.*OS\s([\d_]+))?/),l=!e&&n.match(/(iPhone\sOS)\s([\d_]+)/),s=n.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=s&&n.match(/TouchPad/),p=n.match(/Kindle\/([\d.]+)/),a=n.match(/Silk\/([\d._]+)/),v=n.match(/(BlackBerry).*Version\/([\d.]+)/),y=n.match(/(BB10).*Version\/([\d.]+)/),w=n.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=n.match(/PlayBook/),r=n.match(/Chrome\/([\d.]+)/)||n.match(/CriOS\/([\d.]+)/),h=n.match(/Firefox\/([\d.]+)/),u=n.match(/MSIE ([\d.]+)/),d=c&&n.match(/Mobile\//)&&!r,g=n.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!r,u=n.match(/MSIE\s([\d.]+)/);return(i.webkit=!!c)&&(i.version=c[1]),f&&(t.android=!0,t.version=f[2]),l&&!o&&(t.ios=t.iphone=!0,t.version=l[2].replace(/_/g,".")),e&&(t.ios=t.ipad=!0,t.version=e[2].replace(/_/g,".")),o&&(t.ios=t.ipod=!0,t.version=o[3]?o[3].replace(/_/g,"."):null),s&&(t.webos=!0,t.version=s[2]),k&&(t.touchpad=!0),v&&(t.blackberry=!0,t.version=v[2]),y&&(t.bb10=!0,t.version=y[2]),w&&(t.rimtabletos=!0,t.version=w[2]),b&&(i.playbook=!0),p&&(t.kindle=!0,t.version=p[1]),a&&(i.silk=!0,i.version=a[1]),!a&&t.android&&n.match(/Kindle Fire/)&&(i.silk=!0),r&&(i.chrome=!0,i.version=r[1]),h&&(i.firefox=!0,i.version=h[1]),u&&(i.ie=!0,i.version=u[1]),d&&(n.match(/Safari/)||t.ios)&&(i.safari=!0),g&&(i.webview=!0),u&&(i.ie=!0,i.version=u[1]),t.tablet=!!(e||b||f&&!n.match(/Mobile/)||h&&n.match(/Tablet/)||u&&!n.match(/Phone/)&&n.match(/Touch/)),t.phone=!(t.tablet||t.ipod||!(f||l||s||v||y||r&&n.match(/Android/)||r&&n.match(/CriOS\/([\d.]+)/)||h&&n.match(/Mobile/)||u&&n.match(/Touch/))),{browser:i,os:t,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return n(navigator.userAgent)});define("zrender",["zrender/zrender"],function(n){return n});define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(n){function e(n){return function(){n._needsRefreshNextFrame&&n.refresh()}}var t;n("./dep/excanvas");var o=n("./tool/util"),u=n("./tool/log"),f=n("./tool/guid"),s=n("./Handler"),h=n("./Painter"),c=n("./Storage"),l=n("./animation/Animation"),r={},i={};return i.version="2.1.1",i.init=function(n){var i=new t(f(),n);return r[i.id]=i,i},i.dispose=function(n){if(n)n.dispose();else{for(var t in r)r[t].dispose();r={}}return i},i.getInstance=function(n){return r[n]},i.delInstance=function(n){return delete r[n],i},t=function(t,i){var u;this.id=t;this.env=n("./tool/env");this.storage=new c;this.painter=new h(i,this.storage);this.handler=new s(i,this.storage,this.painter);this.animation=new l({stage:{update:e(this)}});this.animation.start();u=this;this.painter.refreshNextFrame=function(){u.refreshNextFrame()};this._needsRefreshNextFrame=!1;var u=this,r=this.storage,f=r.delFromMap;r.delFromMap=function(n){var t=r.get(n);u.stopAnimation(t);f.call(r,n)}},t.prototype.getId=function(){return this.id},t.prototype.addShape=function(n){return this.addElement(n),this},t.prototype.addGroup=function(n){return this.addElement(n),this},t.prototype.delShape=function(n){return this.delElement(n),this},t.prototype.delGroup=function(n){return this.delElement(n),this},t.prototype.modShape=function(n,t){return this.modElement(n,t),this},t.prototype.modGroup=function(n,t){return this.modElement(n,t),this},t.prototype.addElement=function(n){return this.storage.addRoot(n),this._needsRefreshNextFrame=!0,this},t.prototype.delElement=function(n){return this.storage.delRoot(n),this._needsRefreshNextFrame=!0,this},t.prototype.modElement=function(n,t){return this.storage.mod(n,t),this._needsRefreshNextFrame=!0,this},t.prototype.modLayer=function(n,t){return this.painter.modLayer(n,t),this._needsRefreshNextFrame=!0,this},t.prototype.addHoverShape=function(n){return this.storage.addHover(n),this},t.prototype.render=function(n){return this.painter.render(n),this._needsRefreshNextFrame=!1,this},t.prototype.refresh=function(n){return this.painter.refresh(n),this._needsRefreshNextFrame=!1,this},t.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},t.prototype.refreshHover=function(n){return this.painter.refreshHover(n),this},t.prototype.refreshShapes=function(n,t){return this.painter.refreshShapes(n,t),this},t.prototype.resize=function(){return this.painter.resize(),this},t.prototype.animate=function(n,t,i){var l=this,f,h,e;if("string"==typeof n&&(n=this.storage.get(n)),n){if(t){for(var c=t.split("."),r=n,s=0,a=c.length;a>s;s++)r&&(r=r[c[s]]);r&&(f=r)}else f=n;return f?(null==n.__animators&&(n.__animators=[]),h=n.__animators,e=this.animation.animate(f,{loop:i}).during(function(){l.modShape(n)}).done(function(){var t=o.indexOf(n.__animators,e);t>=0&&h.splice(t,1)}),h.push(e),e):void u('Property "'+t+'" is not existed in element '+n.id)}u("Element not existed")},t.prototype.stopAnimation=function(n){if(n.__animators){for(var t=n.__animators,r=t.length,i=0;r>i;i++)t[i].stop();t.length=0}return this},t.prototype.clearAnimation=function(){return this.animation.clear(),this},t.prototype.showLoading=function(n){return this.painter.showLoading(n),this},t.prototype.hideLoading=function(){return this.painter.hideLoading(),this},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.toDataURL=function(n,t,i){return this.painter.toDataURL(n,t,i)},t.prototype.shapeToImage=function(n,t,i){var r=f();return this.painter.shapeToImage(r,n,t,i)},t.prototype.on=function(n,t,i){return this.handler.on(n,t,i),this},t.prototype.un=function(n,t){return this.handler.un(n,t),this},t.prototype.trigger=function(n,t){return this.handler.trigger(n,t),this},t.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},t.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;i.delInstance(this.id)},i});define("zrender/config",[],function(){return{EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)}});define("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(n){function i(n,i,f,e,o){u.call(this,n,i,f,e,o);this._nameConnector;this._valueConnector;this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();var s=this;s.shapeHandler.onmousewheel=function(n){var i=n.target,h=n.event,f=r.getDelta(h),u,e,o;f=f>0?-1:1;i.style.r-=f;i.style.r=i.style.r<5?5:i.style.r;u=t.get(i,"value");e=u*s.option.island.calculateStep;u=e>1?Math.round(u-e*f):+(u-e*f).toFixed(2);o=t.get(i,"name");i.style.text=o+":"+u;t.set(i,"value",u);t.set(i,"name",o);s.zr.modShape(i.id);s.zr.refreshNextFrame();r.stop(h)}}var u=n("./base"),e=n("zrender/shape/Circle"),f=n("../config");f.island={zlevel:0,z:5,r:15,calculateStep:.1};var t=n("../util/ecData"),o=n("zrender/tool/util"),r=n("zrender/tool/event");return i.prototype={type:f.CHART_TYPE_ISLAND,_combine:function(i,r){var e=n("zrender/tool/color"),o=n("../util/accMath"),u=o.accAdd(t.get(i,"value"),t.get(r,"value")),f=t.get(i,"name")+this._nameConnector+t.get(r,"name");i.style.text=f+this._valueConnector+u;t.set(i,"value",u);t.set(i,"name",f);i.style.r=this.option.island.r;i.style.color=e.mix(i.style.color,r.style.color)},refresh:function(n){n&&(n.island=this.reformOption(n.island),this.option=n,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var t=this.zr.getWidth(),i=this.zr.getHeight(),r=t/(this._zrWidth||t),u=i/(this._zrHeight||i),n,f;if(1!==r||1!==u)for(this._zrWidth=t,this._zrHeight=i,n=0,f=this.shapeList.length;f>n;n++)this.zr.modShape(this.shapeList[n].id,{style:{x:Math.round(this.shapeList[n].style.x*r),y:Math.round(this.shapeList[n].style.y*u)}})},add:function(n){var r=t.get(n,"name"),u=t.get(n,"value"),o=null!=t.get(n,"series")?t.get(n,"series").name:"",s=this.getFont(this.option.island.textStyle),f=this.option.island,i={zlevel:f.zlevel,z:f.z,style:{x:n.style.x,y:n.style.y,r:this.option.island.r,color:n.style.color||n.style.strokeColor,text:r+this._valueConnector+u,textFont:s},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"===i.style.color&&(i.style.color=n.style.strokeColor);this.setCalculable(i);i.dragEnableTime=0;t.pack(i,{name:o},-1,u,-1,r);i=new e(i);this.shapeList.push(i);this.zr.addShape(i)},del:function(n){this.zr.delShape(n.id);for(var i=[],t=0,r=this.shapeList.length;r>t;t++)this.shapeList[t].id!=n.id&&i.push(this.shapeList[t]);this.shapeList=i},ondrop:function(n,t){if(this.isDrop&&n.target){var i=n.target,r=n.dragged;this._combine(i,r);this.zr.modShape(i.id);t.dragIn=!0;this.isDrop=!1}},ondragend:function(n,t){var i=n.target;this.isDragend?t.dragIn&&(this.del(i),t.needRefresh=!0):t.dragIn||(i.style.x=r.getX(n.event),i.style.y=r.getY(n.event),this.add(i),t.needRefresh=!0);this.isDragend=!1}},o.inherits(i,u),n("../chart").define("island",i),i});define("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(n){function o(n,t,i,r,u){s.call(this,n,t,i,r,u);this.dom=u.dom;this._magicType={};this._magicMap={};this._isSilence=!1;this._iconList;this._iconShapeMap={};this._featureTitle={};this._featureIcon={};this._featureColor={};this._featureOption={};this._enableColor="red";this._disableColor="#ccc";this._markShapeList=[];var f=this;f._onMark=function(n){f.__onMark(n)};f._onMarkUndo=function(n){f.__onMarkUndo(n)};f._onMarkClear=function(n){f.__onMarkClear(n)};f._onDataZoom=function(n){f.__onDataZoom(n)};f._onDataZoomReset=function(n){f.__onDataZoomReset(n)};f._onDataView=function(n){f.__onDataView(n)};f._onRestore=function(n){f.__onRestore(n)};f._onSaveAsImage=function(n){f.__onSaveAsImage(n)};f._onMagicType=function(n){f.__onMagicType(n)};f._onCustomHandler=function(n){f.__onCustomHandler(n)};f._onmousemove=function(n){return f.__onmousemove(n)};f._onmousedown=function(n){return f.__onmousedown(n)};f._onmouseup=function(n){return f.__onmouseup(n)};f._onclick=function(n){return f.__onclick(n)}}var s=n("./base"),c=n("zrender/shape/Line"),l=n("zrender/shape/Image"),h=n("zrender/shape/Rectangle"),a=n("../util/shape/Icon"),t=n("../config");t.toolbox={zlevel:0,z:6,show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:!1,title:"数据视图",readOnly:!1,lang:["数据视图","关闭","刷新"]},magicType:{show:!1,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺",force:"力导向布局图切换",chord:"和弦图切换",pie:"饼图切换",funnel:"漏斗图切换"},type:[]},restore:{show:!1,title:"还原"},saveAsImage:{show:!1,title:"保存为图片",type:"png",lang:["点击保存"]}}};var e=n("zrender/tool/util"),i=n("zrender/config"),r=n("zrender/tool/event"),u="stack",f="tiled";return o.prototype={type:t.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){var e,t,r,u,n,i,f;this._iconList=[];e=this.option.toolbox;this._enableColor=e.effectiveColor;this._disableColor=e.disableColor;t=e.feature;r=[];for(n in t)if(t[n].show)switch(n){case"mark":r.push({key:n,name:"mark"});r.push({key:n,name:"markUndo"});r.push({key:n,name:"markClear"});break;case"magicType":for(i=0,f=t[n].type.length;f>i;i++)t[n].title[t[n].type[i]+"Chart"]=t[n].title[t[n].type[i]],t[n].option&&(t[n].option[t[n].type[i]+"Chart"]=t[n].option[t[n].type[i]]),r.push({key:n,name:t[n].type[i]+"Chart"});break;case"dataZoom":r.push({key:n,name:"dataZoom"});r.push({key:n,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&r.push({key:n,name:"saveAsImage"});break;default:r.push({key:n,name:n})}if(r.length>0){for(i=0,f=r.length;f>i;i++)u=r[i].name,n=r[i].key,this._iconList.push(u),this._featureTitle[u]=t[n].title[u]||t[n].title,t[n].icon&&(this._featureIcon[u]=t[n].icon[u]||t[n].icon),t[n].color&&(this._featureColor[u]=t[n].color[u]||t[n].color),t[n].option&&(this._featureOption[u]=t[n].option[u]||t[n].option);for(this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem(),i=0,f=this.shapeList.length;f>i;i++)this.zr.addShape(this.shapeList[i]);this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear));this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var t,v,o,s,u=this.option.toolbox,y=this._iconList.length,h=this._itemGroupLocation.x,e=this._itemGroupLocation.y,f=u.itemSize,p=u.itemGap,c=u.color instanceof Array?u.color:[u.color],b=this.getFont(u.textStyle),r,i,w;for("horizontal"===u.orient?(v=this._itemGroupLocation.y/this.zr.getHeight()<.5?"bottom":"top",o=this._itemGroupLocation.x/this.zr.getWidth()<.5?"left":"right",s=this._itemGroupLocation.y/this.zr.getHeight()<.5?"top":"bottom"):v=this._itemGroupLocation.x/this.zr.getWidth()<.5?"right":"left",this._iconShapeMap={},r=this,i=0;y>i;i++){switch(t={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:h,y:e,width:f,height:f,iconType:this._iconList[i],lineWidth:1,strokeColor:this._featureColor[this._iconList[i]]||c[i%c.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:u.showTitle?this._featureTitle[this._iconList[i]]:void 0,textFont:b,textPosition:v,strokeColor:this._featureColor[this._iconList[i]]||c[i%c.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[i]]&&(t.style.image=this._featureIcon[this._iconList[i]].replace(new RegExp("^image:\\/\\/"),""),t.style.opacity=.8,t.highlightStyle.opacity=1,t.type="image"),"horizontal"===u.orient&&(0===i&&"left"===o&&(t.highlightStyle.textPosition="specific",t.highlightStyle.textAlign=o,t.highlightStyle.textBaseline=s,t.highlightStyle.textX=h,t.highlightStyle.textY="top"===s?e+f+10:e-10),i===y-1&&"right"===o&&(t.highlightStyle.textPosition="specific",t.highlightStyle.textAlign=o,t.highlightStyle.textBaseline=s,t.highlightStyle.textX=h+f,t.highlightStyle.textY="top"===s?e+f+10:e-10)),this._iconList[i]){case"mark":t.onclick=r._onMark;break;case"markUndo":t.onclick=r._onMarkUndo;break;case"markClear":t.onclick=r._onMarkClear;break;case"dataZoom":t.onclick=r._onDataZoom;break;case"dataZoomReset":t.onclick=r._onDataZoomReset;break;case"dataView":this._dataView||(w=n("./dataView"),this._dataView=new w(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart));t.onclick=r._onDataView;break;case"restore":t.onclick=r._onRestore;break;case"saveAsImage":t.onclick=r._onSaveAsImage;break;default:this._iconList[i].match("Chart")?(t._name=this._iconList[i].replace("Chart",""),t.onclick=r._onMagicType):t.onclick=r._onCustomHandler}"icon"===t.type?t=new a(t):"image"===t.type&&(t=new l(t));this.shapeList.push(t);this._iconShapeMap[this._iconList[i]]=t;"horizontal"===u.orient?h+=f+p:e+=f+p}},_buildBackground:function(){var t=this.option.toolbox,n=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new h({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-n[3],y:this._itemGroupLocation.y-n[0],width:this._itemGroupLocation.width+n[3]+n[1],height:this._itemGroupLocation.height+n[0]+n[2],brushType:0===t.borderWidth?"fill":"both",color:t.backgroundColor,strokeColor:t.borderColor,lineWidth:t.borderWidth}}))},_getItemGroupLocation:function(){var n=this.option.toolbox,f=this.reformCssArray(this.option.toolbox.padding),c=this._iconList.length,e=n.itemGap,o=n.itemSize,r=0,u=0,t,s,i,h;"horizontal"===n.orient?(r=(o+e)*c-e,u=o):(u=(o+e)*c-e,r=o);s=this.zr.getWidth();switch(n.x){case"center":t=Math.floor((s-r)/2);break;case"left":t=f[3]+n.borderWidth;break;case"right":t=s-r-f[1]-n.borderWidth;break;default:t=n.x-0;t=isNaN(t)?0:t}h=this.zr.getHeight();switch(n.y){case"top":i=f[0]+n.borderWidth;break;case"bottom":i=h-u-f[2]-n.borderWidth;break;case"center":i=Math.floor((h-u)/2);break;default:i=n.y-0;i=isNaN(i)?0:i}return{x:t,y:i,width:r,height:u}},__onmousemove:function(n){this._marking&&(this._markShape.style.xEnd=r.getX(n.event),this._markShape.style.yEnd=r.getY(n.event),this.zr.addHoverShape(this._markShape));this._zooming&&(this._zoomShape.style.width=r.getX(n.event)-this._zoomShape.style.x,this._zoomShape.style.height=r.getY(n.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair",r.stop(n.event));this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(n){if(!n.target){this._zooming=!0;var u=r.getX(n.event),f=r.getY(n.event),i=this.option.dataZoom||{};return this._zoomShape=new h({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:u,y:f,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:i.fillerColor||t.dataZoom.fillerColor,strokeColor:i.handleColor||t.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10)return this._zooming=!1,!0;if(this._zooming&&this.component.dataZoom){this._zooming=!1;var n=this.component.dataZoom.rectZoom(this._zoomShape.style);n&&(this._zoomQueue.push({start:n.start,end:n.end,start2:n.start2,end2:n.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame())}return!0},__onclick:function(n){if(!n.target)if(this._marking)this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refreshNextFrame();else if(this._markStart){this._marking=!0;var t=r.getX(n.event),i=r.getY(n.event);this._markShape=new c({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:t,yStart:i,xEnd:t,yEnd:i,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}});this.zr.addHoverShape(this._markShape)}},__onMark:function(n){var r=n.target,t;return this._marking||this._markStart?(this._resetMark(),this.zr.refreshNextFrame()):(this._resetZoom(),this.zr.modShape(r.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._markStart=!0,t=this,setTimeout(function(){t.zr&&t.zr.on(i.EVENT.CLICK,t._onclick)&&t.zr.on(i.EVENT.MOUSEMOVE,t._onmousemove)},10)),!0},__onMarkUndo:function(){var n,t;return this._marking?this._marking=!1:(n=this._markShapeList.length,n>=1&&(t=this._markShapeList[n-1],this.zr.delShape(t.id),this.zr.refreshNextFrame(),this._markShapeList.pop(),1===n&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)))),!0},__onMarkClear:function(){this._marking&&(this._marking=!1);var n=this._markShapeList.length;if(n>0){for(;n--;)this.zr.delShape(this._markShapeList.pop().id);this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear);this.zr.refreshNextFrame()}return!0},__onDataZoom:function(n){var r=n.target,t;return this._zooming||this._zoomStart?(this._resetZoom(),this.zr.refreshNextFrame(),this.dom.style.cursor="default"):(this._resetMark(),this.zr.modShape(r.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._zoomStart=!0,t=this,setTimeout(function(){t.zr&&t.zr.on(i.EVENT.MOUSEDOWN,t._onmousedown)&&t.zr.on(i.EVENT.MOUSEUP,t._onmouseup)&&t.zr.on(i.EVENT.MOUSEMOVE,t._onmousemove)},10),this.dom.style.cursor="crosshair"),!0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),this._zoomQueue.length>0?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame()),!0},_resetMark:function(){this._marking=!1;this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(i.EVENT.CLICK,this._onclick),this.zr.un(i.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1;this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(i.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(i.EVENT.MOUSEUP,this._onmouseup),this.zr.un(i.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(n){"image"!=n.type?this.zr.modShape(n.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(n.id,{hoverable:!1,clickable:!1,style:{opacity:.3}})},_iconEnable:function(n){"image"!=n.type?this.zr.modShape(n.id,{hoverable:!0,clickable:!0,style:{strokeColor:n.highlightStyle.strokeColor}}):this.zr.modShape(n.id,{hoverable:!0,clickable:!0,style:{opacity:.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(t.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var r=this.option.toolbox.feature.saveAsImage,n=r.type||"png",u,t,i;"png"!=n&&"jpeg"!=n&&(n="png");u=this.myChart.isConnected()?this.myChart.getConnectedDataURL(n):this.zr.toDataURL("image/"+n,this.option.backgroundColor&&"rgba(0,0,0,0)"===this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);t=document.createElement("div");t.id="__echarts_download_wrap__";t.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";i=document.createElement("a");i.href=u;i.setAttribute("download",(r.name?r.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+n);i.innerHTML='<img style="vertical-align:middle" src="'+u+'" title="'+(window.ActiveXObject||"ActiveXObject"in window?"右键->图片另存为":r.lang?r.lang[0]:"点击保存")+'"/>';t.appendChild(i);document.body.appendChild(t);i=null;t=null;setTimeout(function(){var n=document.getElementById("__echarts_download_wrap__");n&&(n.onclick=function(){var n=document.getElementById("__echarts_download_wrap__");n.onclick=null;n.innerHTML="";document.body.removeChild(n);n=null},n=null)},500)},__onMagicType:function(n){this._resetMark();var i=n.target._name;return this._magicType[i]||(this._magicType[i]=!0,i===t.CHART_TYPE_LINE?this._magicType[t.CHART_TYPE_BAR]=!1:i===t.CHART_TYPE_BAR&&(this._magicType[t.CHART_TYPE_LINE]=!1),i===t.CHART_TYPE_PIE?this._magicType[t.CHART_TYPE_FUNNEL]=!1:i===t.CHART_TYPE_FUNNEL&&(this._magicType[t.CHART_TYPE_PIE]=!1),i===t.CHART_TYPE_FORCE?this._magicType[t.CHART_TYPE_CHORD]=!1:i===t.CHART_TYPE_CHORD&&(this._magicType[t.CHART_TYPE_FORCE]=!1),i===u?this._magicType[f]=!1:i===f&&(this._magicType[u]=!1),this.messageCenter.dispatch(t.EVENT.MAGIC_TYPE_CHANGED,n.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(n){this._resetMark();this._magicType=n;!this._isSilence&&this.messageCenter.dispatch(t.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(n){var i=n.target.style.iconType,t=this.option.toolbox.feature[i].onclick;"function"==typeof t&&t.call(this,this.option)},reset:function(n,t){var c,i,l,r,a,o,h,s;if(t&&this.clear(),this.query(n,"toolbox.show")&&this.query(n,"toolbox.feature.magicType.show")){for(c=n.toolbox.feature.magicType.type,i=c.length,this._magicMap={};i--;)this._magicMap[c[i]]=!0;for(i=n.series.length;i--;)l=n.series[i].type,this._magicMap[l]&&(r=n.xAxis instanceof Array?n.xAxis[n.series[i].xAxisIndex||0]:n.xAxis,r&&"category"===(r.type||"category")&&(r.__boundaryGap=null!=r.boundaryGap?r.boundaryGap:!0),r=n.yAxis instanceof Array?n.yAxis[n.series[i].yAxisIndex||0]:n.yAxis,r&&"category"===r.type&&(r.__boundaryGap=null!=r.boundaryGap?r.boundaryGap:!0),n.series[i].__type=l,n.series[i].__itemStyle=e.clone(n.series[i].itemStyle||{})),(this._magicMap[u]||this._magicMap[f])&&(n.series[i].__stack=n.series[i].stack)}this._magicType=t?{}:this._magicType||{};for(a in this._magicType)if(this._magicType[a]){this.option=n;this.getMagicOption();break}o=n.dataZoom;o&&o.show?(h=null!=o.start&&o.start>=0&&o.start<=100?o.start:0,s=null!=o.end&&o.end>=0&&o.end<=100?o.end:100,h>s&&(h+=s,s=h-s,h-=s),this._zoomQueue=[{start:h,end:s,start2:0,end2:100}]):this._zoomQueue=[]},getMagicOption:function(){var i,r,n,o;if(this._magicType[t.CHART_TYPE_LINE]||this._magicType[t.CHART_TYPE_BAR]){for(var s=this._magicType[t.CHART_TYPE_LINE]?!1:!0,n=0,o=this.option.series.length;o>n;n++)r=this.option.series[n].type,(r==t.CHART_TYPE_LINE||r==t.CHART_TYPE_BAR)&&(i=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[n].xAxisIndex||0]:this.option.xAxis,i&&"category"===(i.type||"category")&&(i.boundaryGap=s?!0:i.__boundaryGap),i=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[n].yAxisIndex||0]:this.option.yAxis,i&&"category"===i.type&&(i.boundaryGap=s?!0:i.__boundaryGap));this._defaultMagic(t.CHART_TYPE_LINE,t.CHART_TYPE_BAR)}if(this._defaultMagic(t.CHART_TYPE_CHORD,t.CHART_TYPE_FORCE),this._defaultMagic(t.CHART_TYPE_PIE,t.CHART_TYPE_FUNNEL),this._magicType[u]||this._magicType[f])for(n=0,o=this.option.series.length;o>n;n++)this._magicType[u]?(this.option.series[n].stack="_ECHARTS_STACK_KENER_2014_",r=u):this._magicType[f]&&(this.option.series[n].stack=null,r=f),this._featureOption[r+"Chart"]&&e.merge(this.option.series[n],this._featureOption[r+"Chart"]||{},!0);return this.option},_defaultMagic:function(n,t){var i,u,r;if(this._magicType[n]||this._magicType[t])for(i=0,u=this.option.series.length;u>i;i++)r=this.option.series[i].type,(r==n||r==t)&&(this.option.series[i].type=this._magicType[n]?n:t,this.option.series[i].itemStyle=e.clone(this.option.series[i].__itemStyle),r=this.option.series[i].type,this._featureOption[r+"Chart"]&&e.merge(this.option.series[i],this._featureOption[r+"Chart"]||{},!0))},silence:function(n){this._isSilence=n},resize:function(){this._resetMark();this.clear();this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape();this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(n){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],n||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null);this._markShapeList=null},refresh:function(n){n&&(this._resetMark(),this._resetZoom(),n.toolbox=this.reformOption(n.toolbox),this.option=n,this.clear(!0),n.toolbox.show&&this._buildShape(),this.hideDataView())}},e.inherits(o,s),n("../component").define("toolbox",o),o});define("echarts/component",[],function(){var n={},t={};return n.define=function(i,r){return t[i]=r,n},n.get=function(n){return t[n]},n});define("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(n){function t(n,t,i,u,f){r.call(this,n,t,i,u,f);this.refresh(u)}var r=n("./base"),u=n("zrender/shape/Text"),o=n("zrender/shape/Rectangle"),f=n("../config");f.title={zlevel:0,z:6,show:!0,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var s=n("zrender/tool/util"),i=n("zrender/tool/area"),e=n("zrender/tool/color");return t.prototype={type:f.COMPONENT_TYPE_TITLE,_buildShape:function(){if(this.titleOption.show){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var n=0,t=this.shapeList.length;t>n;n++)this.zr.addShape(this.shapeList[n])}},_buildItem:function(){var a=this.titleOption.text,r=this.titleOption.link,o=this.titleOption.target,s=this.titleOption.subtext,f=this.titleOption.sublink,h=this.titleOption.subtarget,v=this.getFont(this.titleOption.textStyle),y=this.getFont(this.titleOption.subtextStyle),i=this._itemGroupLocation.x,c=this._itemGroupLocation.y,l=this._itemGroupLocation.width,p=this._itemGroupLocation.height,t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:c,color:this.titleOption.textStyle.color,text:a,textFont:v,textBaseline:"top"},highlightStyle:{color:e.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1},n;r&&(t.hoverable=!0,t.clickable=!0,t.onclick=function(){o&&"self"==o?window.location=r:window.open(r)});n={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:c+p,color:this.titleOption.subtextStyle.color,text:s,textFont:y,textBaseline:"bottom"},highlightStyle:{color:e.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(f&&(n.hoverable=!0,n.clickable=!0,n.onclick=function(){h&&"self"==h?window.location=f:window.open(f)}),this.titleOption.x){case"center":t.style.x=n.style.x=i+l/2;t.style.textAlign=n.style.textAlign="center";break;case"left":t.style.x=n.style.x=i;t.style.textAlign=n.style.textAlign="left";break;case"right":t.style.x=n.style.x=i+l;t.style.textAlign=n.style.textAlign="right";break;default:i=this.titleOption.x-0;i=isNaN(i)?0:i;t.style.x=n.style.x=i}this.titleOption.textAlign&&(t.style.textAlign=n.style.textAlign=this.titleOption.textAlign);this.shapeList.push(new u(t));""!==s&&this.shapeList.push(new u(n))},_buildBackground:function(){var n=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-n[3],y:this._itemGroupLocation.y-n[0],width:this._itemGroupLocation.width+n[3]+n[1],height:this._itemGroupLocation.height+n[0]+n[2],brushType:0===this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var n,r=this.reformCssArray(this.titleOption.padding),s=this.titleOption.text,u=this.titleOption.subtext,h=this.getFont(this.titleOption.textStyle),c=this.getFont(this.titleOption.subtextStyle),f=Math.max(i.getTextWidth(s,h),i.getTextWidth(u,c)),e=i.getTextHeight(s,h)+(""===u?0:this.titleOption.itemGap+i.getTextHeight(u,c)),l=this.zr.getWidth(),t,o;switch(this.titleOption.x){case"center":n=Math.floor((l-f)/2);break;case"left":n=r[3]+this.titleOption.borderWidth;break;case"right":n=l-f-r[1]-this.titleOption.borderWidth;break;default:n=this.titleOption.x-0;n=isNaN(n)?0:n}o=this.zr.getHeight();switch(this.titleOption.y){case"top":t=r[0]+this.titleOption.borderWidth;break;case"bottom":t=o-e-r[2]-this.titleOption.borderWidth;break;case"center":t=Math.floor((o-e)/2);break;default:t=this.titleOption.y-0;t=isNaN(t)?0:t}return{x:n,y:t,width:f,height:e}},refresh:function(n){n&&(this.option=n,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle),this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle));this.clear();this._buildShape()}},s.inherits(t,r),n("../component").define("title",t),t});define("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(n){function f(n,t,i,r,f){o.call(this,n,t,i,r,f);this.dom=f.dom;var e=this;e._onmousemove=function(n){return e.__onmousemove(n)};e._onglobalout=function(n){return e.__onglobalout(n)};this.zr.on(u.EVENT.MOUSEMOVE,e._onmousemove);this.zr.on(u.EVENT.GLOBALOUT,e._onglobalout);e._hide=function(n){return e.__hide(n)};e._tryShow=function(n){return e.__tryShow(n)};e._refixed=function(n){return e.__refixed(n)};e._setContent=function(n,t){return e.__setContent(n,t)};this._tDom=this._tDom||document.createElement("div");this._tDom.onselectstart=function(){return!1};this._tDom.onmouseover=function(){e._mousein=!0};this._tDom.onmouseout=function(){e._mousein=!1};this._tDom.className="echarts-tooltip";this._tDom.style.position="absolute";this.hasAppend=!1;this._axisLineShape&&this.zr.delShape(this._axisLineShape.id);this._axisLineShape=new s({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1});this.shapeList.push(this._axisLineShape);this.zr.addShape(this._axisLineShape);this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id);this._axisShadowShape=new s({zlevel:this.getZlevelBase(),z:1,invisible:!0,hoverable:!1});this.shapeList.push(this._axisShadowShape);this.zr.addShape(this._axisShadowShape);this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id);this._axisCrossShape=new h({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1});this.shapeList.push(this._axisCrossShape);this.zr.addShape(this._axisCrossShape);this.showing=!1;this.refresh(r)}var o=n("./base"),h=n("../util/shape/Cross"),s=n("zrender/shape/Line"),c=n("zrender/shape/Rectangle"),l=new c({}),t=n("../config");t.tooltip={zlevel:1,z:8,show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var i=n("../util/ecData"),u=n("zrender/config"),r=n("zrender/tool/event"),a=n("zrender/tool/area"),v=n("zrender/tool/color"),e=n("zrender/tool/util"),y=n("zrender/shape/Base");return f.prototype={type:t.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(n){var t,u,i,r;return n?(t=[],n.transitionDuration&&(u="left "+n.transitionDuration+"s,top "+n.transitionDuration+"s",t.push("transition:"+u),t.push("-moz-transition:"+u),t.push("-webkit-transition:"+u),t.push("-o-transition:"+u)),n.backgroundColor&&(t.push("background-Color:"+v.toHex(n.backgroundColor)),t.push("filter:alpha(opacity=70)"),t.push("background-Color:"+n.backgroundColor)),null!=n.borderWidth&&t.push("border-width:"+n.borderWidth+"px"),null!=n.borderColor&&t.push("border-color:"+n.borderColor),null!=n.borderRadius&&(t.push("border-radius:"+n.borderRadius+"px"),t.push("-moz-border-radius:"+n.borderRadius+"px"),t.push("-webkit-border-radius:"+n.borderRadius+"px"),t.push("-o-border-radius:"+n.borderRadius+"px")),i=n.textStyle,i&&(i.color&&t.push("color:"+i.color),i.decoration&&t.push("text-decoration:"+i.decoration),i.align&&t.push("text-align:"+i.align),i.fontFamily&&t.push("font-family:"+i.fontFamily),i.fontSize&&t.push("font-size:"+i.fontSize+"px"),i.fontSize&&t.push("line-height:"+Math.round(3*i.fontSize/2)+"px"),i.fontStyle&&t.push("font-style:"+i.fontStyle),i.fontWeight&&t.push("font-weight:"+i.fontWeight)),r=n.padding,null!=r&&(r=this.reformCssArray(r),t.push("padding:"+r[0]+"px "+r[1]+"px "+r[2]+"px "+r[3]+"px")),t=t.join(";")+";"):""},__hide:function(){this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId=-1;this._tDom&&(this._tDom.style.display="none");var n=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),n=!0);this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),n=!0);this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),n=!0);this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2);n&&this.zr.refreshNextFrame();this.showing=!1},_show:function(n,t,i,r){var u=this._tDom.offsetHeight,f=this._tDom.offsetWidth;n&&("function"==typeof n&&(n=n([t,i])),n instanceof Array&&(t=n[0],i=n[1]));t+f>this._zrWidth&&(t-=f+40);i+u>this._zrHeight&&(i-=u-20);20>i&&(i=0);this._tDom.style.cssText=this._gCssText+this._defaultCssText+(r?r:"")+"left:"+t+"px;top:"+i+"px;";(10>u||10>f)&&setTimeout(this._refixed,20);this.showing=!0},__refixed:function(){if(this._tDom){var n="",t=this._tDom.offsetHeight,i=this._tDom.offsetWidth;this._tDom.offsetLeft+i>this._zrWidth&&(n+="left:"+(this._zrWidth-i-20)+"px;");this._tDom.offsetTop+t>this._zrHeight&&(n+="top:"+(this._zrHeight-t-10)+"px;");""!==n&&(this._tDom.style.cssText+=n)}},__tryShow:function(){var r,u,n,t;if(this._curTarget){if("island"===this._curTarget._type&&this.option.tooltip.show)return void this._showItemTrigger();n=i.get(this._curTarget,"series");t=i.get(this._curTarget,"data");r=this.deepQuery([t,n,this.option],"tooltip.show");null!=n&&null!=t&&r?(u=this.deepQuery([t,n,this.option],"tooltip.trigger"),"axis"===u?this._showAxisTrigger(n.xAxisIndex,n.yAxisIndex,i.get(this._curTarget,"dataIndex")):this._showItemTrigger()):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else this._findPolarTrigger()||this._findAxisTrigger()},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis)return void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));for(var n,i,u=this.option.series,r=0,f=u.length;f>r;r++)if("axis"===this.deepQuery([u[r],this.option],"tooltip.trigger"))return n=u[r].xAxisIndex||0,i=u[r].yAxisIndex||0,this.component.xAxis.getAxis(n)&&this.component.xAxis.getAxis(n).type===t.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(n,i,this._getNearestDataIndex("x",this.component.xAxis.getAxis(n))):this.component.yAxis.getAxis(i)&&this.component.yAxis.getAxis(i).type===t.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(n,i,this._getNearestDataIndex("y",this.component.yAxis.getAxis(i))):void this._showAxisTrigger(n,i,-1);"cross"===this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)},_findPolarTrigger:function(){if(!this.component.polar)return!1;var t,i=r.getX(this._event),u=r.getY(this._event),n=this.component.polar.getNearestIndex([i,u]);return n?(t=n.valueIndex,n=n.polarIndex):n=-1,-1!=n?this._showPolarTrigger(n,t):!1},_getNearestDataIndex:function(n,t){var i=-1,f=r.getX(this._event),e=r.getY(this._event),o,s,h,c,l,a,u;if("x"===n){for(h=this.component.grid.getXend(),u=t.getCoordByIndex(i);h>u&&(s=u,f>=u);)o=u,u=t.getCoordByIndex(++i);return 0>=i?i=0:s-f>=f-o?i-=1:null==t.getNameByIndex(i)&&(i-=1),i}for(a=this.component.grid.getY(),u=t.getCoordByIndex(i);u>a&&(c=u,u>=e);)l=u,u=t.getCoordByIndex(++i);return 0>=i?i=0:e-c>=l-e?i-=1:null==t.getNameByIndex(i)&&(i-=1),i},_showAxisTrigger:function(n,i,u){var a,c,v,d,w,o,g,f,y;if(!this._event.connectTrigger&&this.messageCenter.dispatch(t.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),null==this.component.xAxis||null==this.component.yAxis||null==n||null==i)return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));var l,e,b,k,h=this.option.series,s=[],p=[],nt="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return;e=this.option.tooltip.formatter;b=this.option.tooltip.position}if(v=-1!=n&&this.component.xAxis.getAxis(n).type===t.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":-1!=i&&this.component.yAxis.getAxis(i).type===t.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":!1,v){for(d="xAxis"==v?n:i,l=this.component[v].getAxis(d),f=0,y=h.length;y>f;f++)this._isSelected(h[f].name)&&h[f][v+"Index"]===d&&"axis"===this.deepQuery([h[f],this.option],"tooltip.trigger")&&(k=this.query(h[f],"tooltip.showContent")||k,e=this.query(h[f],"tooltip.formatter")||e,b=this.query(h[f],"tooltip.position")||b,nt+=this._style(this.query(h[f],"tooltip")),null!=h[f].stack&&"xAxis"==v?(s.unshift(h[f]),p.unshift(f)):(s.push(h[f]),p.push(f)));this.messageCenter.dispatch(t.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:p,dataIndex:u},this.myChart);"xAxis"==v?(a=this.subPixelOptimize(l.getCoordByIndex(u),this._axisLineWidth),c=r.getY(this._event),w=[a,this.component.grid.getY(),a,this.component.grid.getYend()]):(a=r.getX(this._event),c=this.subPixelOptimize(l.getCoordByIndex(u),this._axisLineWidth),w=[this.component.grid.getX(),c,this.component.grid.getXend(),c]);this._styleAxisPointer(s,w[0],w[1],w[2],w[3],l.getGap(),a,c)}else a=r.getX(this._event),c=r.getY(this._event),this._styleAxisPointer(h,this.component.grid.getX(),c,this.component.grid.getXend(),c,0,a,c),u>=0?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none");if(s.length>0){if(this._lastItemTriggerId=-1,this._lastDataIndex!=u||this._lastSeriesIndex!=p[0])if(this._lastDataIndex=u,this._lastSeriesIndex=p[0],"function"==typeof e){for(var tt=[],f=0,y=s.length;y>f;f++)o=s[f].data[u],g=this.getDataFromOption(o,"-"),tt.push({seriesIndex:p[f],seriesName:s[f].name||"",series:s[f],dataIndex:u,data:o,name:l.getNameByIndex(u),value:g,0:s[f].name||"",1:l.getNameByIndex(u),2:g,3:o});this._curTicket="axis:"+u;this._tDom.innerHTML=e.call(this.myChart,tt,this._curTicket,this._setContent)}else if("string"==typeof e){for(this._curTicket=NaN,e=e.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),f=0,y=s.length;y>f;f++)e=e.replace("{a"+f+"}",this._encodeHTML(s[f].name||"")),e=e.replace("{b"+f+"}",this._encodeHTML(l.getNameByIndex(u))),o=s[f].data[u],o=this.getDataFromOption(o,"-"),e=e.replace("{c"+f+"}",o instanceof Array?o:this.numAddCommas(o));this._tDom.innerHTML=e}else{for(this._curTicket=NaN,e=this._encodeHTML(l.getNameByIndex(u)),f=0,y=s.length;y>f;f++)e+="<br/>"+this._encodeHTML(s[f].name||"")+" : ",o=s[f].data[u],o=this.getDataFromOption(o,"-"),e+=o instanceof Array?o:this.numAddCommas(o);this._tDom.innerHTML=e}if(k===!1||!this.option.tooltip.showContent)return;this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0);this._show(b,a+10,c+10,nt)}},_showPolarTrigger:function(n,t){var a,k,i,h;if(null==this.component.polar||null==n||null==t||0>t)return!1;var u,c,v,e=this.option.series,s=[],l=[],w="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return!1;u=this.option.tooltip.formatter;c=this.option.tooltip.position}for(var b=this.option.polar[n].indicator[t].text,i=0,h=e.length;h>i;i++)this._isSelected(e[i].name)&&e[i].polarIndex===n&&"axis"===this.deepQuery([e[i],this.option],"tooltip.trigger")&&(v=this.query(e[i],"tooltip.showContent")||v,u=this.query(e[i],"tooltip.formatter")||u,c=this.query(e[i],"tooltip.position")||c,w+=this._style(this.query(e[i],"tooltip")),s.push(e[i]),l.push(i));if(s.length>0){for(var y,o,p,f=[],i=0,h=s.length;h>i;i++)for(y=s[i].data,a=0,k=y.length;k>a;a++)o=y[a],this._isSelected(o.name)&&(o=null!=o?o:{name:"",value:{dataIndex:"-"}},p=this.getDataFromOption(o.value[t]),f.push({seriesIndex:l[i],seriesName:s[i].name||"",series:s[i],dataIndex:t,data:o,name:o.name,indicator:b,value:p,0:s[i].name||"",1:o.name,2:p,3:b}));if(f.length<=0)return;if(this._lastItemTriggerId=-1,this._lastDataIndex!=t||this._lastSeriesIndex!=l[0])if(this._lastDataIndex=t,this._lastSeriesIndex=l[0],"function"==typeof u)this._curTicket="axis:"+t,this._tDom.innerHTML=u.call(this.myChart,f,this._curTicket,this._setContent);else if("string"==typeof u){for(u=u.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}"),i=0,h=f.length;h>i;i++)u=u.replace("{a"+i+"}",this._encodeHTML(f[i].seriesName)),u=u.replace("{b"+i+"}",this._encodeHTML(f[i].name)),u=u.replace("{c"+i+"}",this.numAddCommas(f[i].value)),u=u.replace("{d"+i+"}",this._encodeHTML(f[i].indicator));this._tDom.innerHTML=u}else{for(u=this._encodeHTML(f[0].name)+"<br/>"+this._encodeHTML(f[0].indicator)+" : "+this.numAddCommas(f[0].value),i=1,h=f.length;h>i;i++)u+="<br/>"+this._encodeHTML(f[i].name)+"<br/>",u+=this._encodeHTML(f[i].indicator)+" : "+this.numAddCommas(f[i].value);this._tDom.innerHTML=u}return v===!1||!this.option.tooltip.showContent?void 0:(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(c,r.getX(this._event),r.getY(this._event),w),!0)}},_showItemTrigger:function(n){var b,k,a;if(this._curTarget){var u,s,c,f=i.get(this._curTarget,"series"),d=i.get(this._curTarget,"seriesIndex"),o=i.get(this._curTarget,"data"),y=i.get(this._curTarget,"dataIndex"),h=i.get(this._curTarget,"name"),e=i.get(this._curTarget,"value"),l=i.get(this._curTarget,"special"),p=i.get(this._curTarget,"special2"),v=[o,f,this.option],w="";"island"!=this._curTarget._type?(b=n?"axis":"item",this.option.tooltip.trigger===b&&(u=this.option.tooltip.formatter,s=this.option.tooltip.position),this.query(f,"tooltip.trigger")===b&&(c=this.query(f,"tooltip.showContent")||c,u=this.query(f,"tooltip.formatter")||u,s=this.query(f,"tooltip.position")||s,w+=this._style(this.query(f,"tooltip"))),c=this.query(o,"tooltip.showContent")||c,u=this.query(o,"tooltip.formatter")||u,s=this.query(o,"tooltip.position")||s,w+=this._style(this.query(o,"tooltip"))):(this._lastItemTriggerId=NaN,c=this.deepQuery(v,"tooltip.showContent"),u=this.deepQuery(v,"tooltip.islandFormatter"),s=this.deepQuery(v,"tooltip.islandPosition"));this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,"function"==typeof u?(this._curTicket=(f.name||"")+":"+y,this._tDom.innerHTML=u.call(this.myChart,{seriesIndex:d,seriesName:f.name||"",series:f,dataIndex:y,data:o,name:h,value:e,percent:l,indicator:l,value2:p,indicator2:p,0:f.name||"",1:h,2:e,3:l,4:p,5:o,6:d,7:y},this._curTicket,this._setContent)):"string"==typeof u?(this._curTicket=NaN,u=u.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),u=u.replace("{a0}",this._encodeHTML(f.name||"")).replace("{b0}",this._encodeHTML(h)).replace("{c0}",e instanceof Array?e:this.numAddCommas(e)),u=u.replace("{d}","{d0}").replace("{d0}",l||""),u=u.replace("{e}","{e0}").replace("{e0}",i.get(this._curTarget,"special2")||""),this._tDom.innerHTML=u):(this._curTicket=NaN,this._tDom.innerHTML=f.type===t.CHART_TYPE_RADAR&&l?this._itemFormatter.radar.call(this,f,h,e,l):f.type===t.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,f,h,e,o):""+(null!=f.name?this._encodeHTML(f.name)+"<br/>":"")+(""===h?"":this._encodeHTML(h)+" : ")+(e instanceof Array?e:this.numAddCommas(e))));k=r.getX(this._event);a=r.getY(this._event);this.deepQuery(v,"tooltip.axisPointer.show")&&this.component.grid?this._styleAxisPointer([f],this.component.grid.getX(),a,this.component.grid.getXend(),a,0,k,a):this._hide();c!==!1&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(s,k+20,a-20,w))}},_itemFormatter:{radar:function(n,t,i,r){var u="",f;for(u+=this._encodeHTML(""===t?n.name||"":t),u+=""===u?"":"<br />",f=0;f<r.length;f++)u+=this._encodeHTML(r[f].text)+" : "+this.numAddCommas(i[f])+"<br />";return u},chord:function(n,t,i,r,u){if(null==u)return this._encodeHTML(t)+" ("+this.numAddCommas(i)+")";var f=this._encodeHTML(t),e=this._encodeHTML(r);return""+(null!=n.name?this._encodeHTML(n.name)+"<br/>":"")+f+" -> "+e+" ("+this.numAddCommas(i)+")<br />"+e+" -> "+f+" ("+this.numAddCommas(u)+")"},eventRiver:function(n,t,i,r){var u="",f,e;for(u+=this._encodeHTML(""===n.name?"":n.name+" : "),u+=this._encodeHTML(t),u+=""===u?"":"<br />",r=r.evolution,f=0,e=r.length;e>f;f++)u+='<div style="padding-top:5px;">',r[f].detail&&(r[f].detail.img&&(u+='<img src="'+r[f].detail.img+'" style="float:left;width:40px;height:40px;">'),u+='<div style="margin-left:45px;">'+r[f].time+"<br/>",u+='<a href="'+r[f].detail.link+'" target="_blank">',u+=r[f].detail.text+"<\/a><\/div>",u+="<\/div>");return u}},_styleAxisPointer:function(n,t,i,r,u,f,e,o){var c,w,k,l,y,b;if(n.length>0){var a,h,p=this.option.tooltip.axisPointer,v=p.type,s={line:{},cross:{},shadow:{}};for(c in s)s[c].color=p[c+"Style"].color,s[c].width=p[c+"Style"].width,s[c].type=p[c+"Style"].type;for(w=0,k=n.length;k>w;w++)a=n[w],h=this.query(a,"tooltip.axisPointer.type"),v=h||v,h&&(s[h].color=this.query(a,"tooltip.axisPointer."+h+"Style.color")||s[h].color,s[h].width=this.query(a,"tooltip.axisPointer."+h+"Style.width")||s[h].width,s[h].type=this.query(a,"tooltip.axisPointer."+h+"Style.type")||s[h].type);"line"===v?(l=s.line.width,y=t==r,this._axisLineShape.style={xStart:y?this.subPixelOptimize(t,l):t,yStart:y?i:this.subPixelOptimize(i,l),xEnd:y?this.subPixelOptimize(r,l):r,yEnd:y?u:this.subPixelOptimize(u,l),strokeColor:s.line.color,lineWidth:l,lineType:s.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)):"cross"===v?(b=s.cross.width,this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(e,b),y:this.subPixelOptimize(o,b),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(e)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(o)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:s.cross.color,lineWidth:b,lineType:s.cross.type},this.component.grid.getXend()-e>100?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=e+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=e-10),o-this.component.grid.getY()>50?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=o-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=o+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)):"shadow"===v&&((null==s.shadow.width||"auto"===s.shadow.width||isNaN(s.shadow.width))&&(s.shadow.width=f),t===r?Math.abs(this.component.grid.getX()-t)<2?(s.shadow.width/=2,t=r+=s.shadow.width/2):Math.abs(this.component.grid.getXend()-t)<2&&(s.shadow.width/=2,t=r-=s.shadow.width/2):i===u&&(Math.abs(this.component.grid.getY()-i)<2?(s.shadow.width/=2,i=u+=s.shadow.width/2):Math.abs(this.component.grid.getYend()-i)<2&&(s.shadow.width/=2,i=u-=s.shadow.width/2)),this._axisShadowShape.style={xStart:t,yStart:i,xEnd:r,yEnd:u,strokeColor:s.shadow.color,lineWidth:s.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id));this.zr.refreshNextFrame()}},__onmousemove:function(n){var s;if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var o=n.target,i=r.getX(n.event),u=r.getY(n.event);if(o){if(this._curTarget=o,this._event=n.event,this._event.zrenderX=i,this._event.zrenderY=u,this._needAxisTrigger&&this.component.polar&&-1!=(s=this.component.polar.isInside([i,u])))for(var e=this.option.series,f=0,h=e.length;h>f;f++)if(e[f].polarIndex===s&&"axis"===this.deepQuery([e[f],this.option],"tooltip.trigger")){this._curTarget=null;break}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else this._curTarget=!1,this._event=n.event,this._event.zrenderX=i,this._event.zrenderY=u,this._needAxisTrigger&&this.component.grid&&a.isInside(l,this.component.grid.getArea(),i,u)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([i,u])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(t.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}},__onglobalout:function(){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(n,t){this._tDom&&(n===this._curTicket&&(this._tDom.innerHTML=t),setTimeout(this._refixed,20))},ontooltipHover:function(n,t){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=n.dataIndex){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var i=0,r=t.length;r>i;i++)t[i].zlevel=this.getZlevelBase(),t[i].z=this.getZBase(),t[i].style=y.prototype.getHighlightStyle(t[i].style,t[i].highlightStyle),t[i].draggable=!1,t[i].hoverable=!1,t[i].clickable=!1,t[i].ondragend=null,t[i].ondragover=null,t[i].ondrop=null,this.shapeList.push(t[i]),this.zr.addShape(t[i]);this._lastTipShape={dataIndex:n.dataIndex,tipShape:t}}},ondragend:function(){this._hide()},onlegendSelected:function(n){this._selectedMap=n.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?e.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(n){return null!=this._selectedMap[n]?this._selectedMap[n]:!0},showTip:function(n){var l,w,h,a,d,v,k,o,s,f,y,e,p;if(n){if(w=this.option.series,null!=n.seriesIndex)l=n.seriesIndex;else for(var g=n.seriesName,r=0,c=w.length;c>r;r++)if(w[r].name===g){l=r;break}if(h=w[l],null!=h&&(a=this.myChart.chart[h.type],d="axis"===this.deepQuery([h,this.option],"tooltip.trigger"),a))if(d){v=n.dataIndex;switch(a.type){case t.CHART_TYPE_LINE:case t.CHART_TYPE_BAR:case t.CHART_TYPE_K:case t.CHART_TYPE_RADAR:if(null==this.component.polar||h.data[0].value.length<=v)return;k=h.polarIndex||0;y=this.component.polar.getVector(k,v,"max");this._event={zrenderX:y[0],zrenderY:y[1]};this._showPolarTrigger(k,v)}}else{f=a.shapeList;switch(a.type){case t.CHART_TYPE_LINE:case t.CHART_TYPE_BAR:case t.CHART_TYPE_K:case t.CHART_TYPE_TREEMAP:case t.CHART_TYPE_SCATTER:for(var v=n.dataIndex,r=0,c=f.length;c>r;r++)if(null==f[r]._mark&&i.get(f[r],"seriesIndex")==l&&i.get(f[r],"dataIndex")==v){this._curTarget=f[r];o=f[r].style.x;s=a.type!=t.CHART_TYPE_K?f[r].style.y:f[r].style.y[0];break}break;case t.CHART_TYPE_RADAR:for(var v=n.dataIndex,r=0,c=f.length;c>r;r++)if("polygon"===f[r].type&&i.get(f[r],"seriesIndex")==l&&i.get(f[r],"dataIndex")==v){this._curTarget=f[r];y=this.component.polar.getCenter(h.polarIndex||0);o=y[0];s=y[1];break}break;case t.CHART_TYPE_PIE:for(var b=n.name,r=0,c=f.length;c>r;r++)if("sector"===f[r].type&&i.get(f[r],"seriesIndex")==l&&i.get(f[r],"name")==b){this._curTarget=f[r];e=this._curTarget.style;p=(e.startAngle+e.endAngle)/2*Math.PI/180;o=this._curTarget.style.x+Math.cos(p)*e.r/1.5;s=this._curTarget.style.y-Math.sin(p)*e.r/1.5;break}break;case t.CHART_TYPE_MAP:for(var b=n.name,nt=h.mapType,r=0,c=f.length;c>r;r++)if("text"===f[r].type&&f[r]._mapType===nt&&f[r].style._name===b){this._curTarget=f[r];o=this._curTarget.style.x+this._curTarget.position[0];s=this._curTarget.style.y+this._curTarget.position[1];break}break;case t.CHART_TYPE_CHORD:for(var b=n.name,r=0,c=f.length;c>r;r++)if("sector"===f[r].type&&i.get(f[r],"name")==b)return this._curTarget=f[r],e=this._curTarget.style,p=(e.startAngle+e.endAngle)/2*Math.PI/180,o=this._curTarget.style.x+Math.cos(p)*(e.r-2),s=this._curTarget.style.y-Math.sin(p)*(e.r-2),void this.zr.trigger(u.EVENT.MOUSEMOVE,{zrenderX:o,zrenderY:s});break;case t.CHART_TYPE_FORCE:for(var b=n.name,r=0,c=f.length;c>r;r++)if("circle"===f[r].type&&i.get(f[r],"name")==b){this._curTarget=f[r];o=this._curTarget.position[0];s=this._curTarget.position[1];break}}null!=o&&null!=s&&(this._event={zrenderX:o,zrenderY:s},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}},hideTip:function(){this._hide()},refresh:function(n){var i;if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,n){this.option=n;this.option.tooltip=this.reformOption(this.option.tooltip);this.option.tooltip.textStyle=e.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle);this._needAxisTrigger=!1;"axis"===this.option.tooltip.trigger&&(this._needAxisTrigger=!0);for(var r=this.option.series,t=0,f=r.length;f>t;t++)if("axis"===this.query(r[t],"tooltip.trigger")){this._needAxisTrigger=!0;break}this._showDelay=this.option.tooltip.showDelay;this._hideDelay=this.option.tooltip.hideDelay;this._defaultCssText=this._style(this.option.tooltip);this._setSelectedMap();this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width;this._enterable=this.option.tooltip.enterable;!this._enterable&&this._tDom.className.indexOf(u.elementClassName)<0&&(this._tDom.className+=" "+u.elementClassName)}this.showing&&(i=this,setTimeout(function(){i.zr.trigger(u.EVENT.MOUSEMOVE,i.zr.handler._event)},50))},onbeforDispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape);clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this.zr.un(u.EVENT.MOUSEMOVE,this._onmousemove);this.zr.un(u.EVENT.GLOBALOUT,this._onglobalout);this.hasAppend&&this.dom.firstChild&&this.dom.firstChild.removeChild(this._tDom);this._tDom=null},_encodeHTML:function(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},e.inherits(f,o),n("../component").define("tooltip",f),f});define("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(n){function f(n,t,i,r,u){if(!this.query(r,"legend.data"))return void console.error("option.legend.data has not been defined.");s.call(this,n,t,i,r,u);var f=this;f._legendSelected=function(n){f.__legendSelected(n)};f._dispatchHoverLink=function(n){return f.__dispatchHoverLink(n)};this._colorIndex=0;this._colorMap={};this._selectedMap={};this._hasDataMap={};this.refresh(r)}var s=n("./base"),h=n("zrender/shape/Text"),c=n("zrender/shape/Rectangle"),l=n("zrender/shape/Sector"),e=n("../util/shape/Icon"),a=n("../util/shape/Candle"),t=n("../config"),u,i,r,o;t.legend={zlevel:0,z:4,show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0};u=n("zrender/tool/util");i=n("zrender/tool/area");f.prototype={type:t.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var n=0,t=this.shapeList.length;t>n;n++)this.zr.addShape(this.shapeList[n])}},_buildItem:function(){var r,d,c,t,p,w,b,y,l=this.legendOption.data,k=l.length,tt=this.legendOption.textStyle,g=this.zr.getWidth(),nt=this.zr.getHeight(),n=this._itemGroupLocation.x,f=this._itemGroupLocation.y,a=this.legendOption.itemWidth,v=this.legendOption.itemHeight,o=this.legendOption.itemGap,s;for("vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(n=this._itemGroupLocation.x+this._itemGroupLocation.width-a),s=0;k>s;s++)p=u.merge(l[s].textStyle||{},tt),w=this.getFont(p),r=this._getName(l[s]),b=this._getFormatterName(r),""!==r?(d=l[s].icon||this._getSomethingByName(r).type,y=this.getColor(r),"horizontal"===this.legendOption.orient?200>g-n&&a+5+i.getTextWidth(b,w)+(s===k-1||""===l[s+1]?0:o)>=g-n&&(n=this._itemGroupLocation.x,f+=v+o):200>nt-f&&v+(s===k-1||""===l[s+1]?0:o)>=nt-f&&("right"===this.legendOption.x?n-=this._itemGroupLocation.maxWidth+o:n+=this._itemGroupLocation.maxWidth+o,f=this._itemGroupLocation.y),c=this._getItemShapeByType(n,f,a,v,this._selectedMap[r]&&this._hasDataMap[r]?y:"#ccc",d,y),c._name=r,c=new e(c),t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:n+a+5,y:f+v/2,color:this._selectedMap[r]?"auto"===p.color?y:p.color:"#ccc",text:b,textFont:w,textBaseline:"middle"},highlightStyle:{color:y,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(t.style.x-=a+10,t.style.textAlign="right"),t._name=r,t=new h(t),this.legendOption.selectedMode&&(c.onclick=t.onclick=this._legendSelected,c.onmouseover=t.onmouseover=this._dispatchHoverLink,c.hoverConnect=t.id,t.hoverConnect=c.id),this.shapeList.push(c),this.shapeList.push(t),"horizontal"===this.legendOption.orient?n+=a+5+i.getTextWidth(b,w)+o:f+=v+o):"horizontal"===this.legendOption.orient?(n=this._itemGroupLocation.x,f+=v+o):("right"===this.legendOption.x?n-=this._itemGroupLocation.maxWidth+o:n+=this._itemGroupLocation.maxWidth+o,f=this._itemGroupLocation.y);"horizontal"===this.legendOption.orient&&"center"===this.legendOption.x&&f!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(n){return"undefined"!=typeof n.name?n.name:n},_getFormatterName:function(n){var t=this.legendOption.formatter;return"function"==typeof t?t.call(this.myChart,n):"string"==typeof t?t.replace("{name}",n):n},_getFormatterNameFromData:function(n){var t=this._getName(n);return this._getFormatterName(t)},_mLineOptimize:function(){for(var t=[],r=this._itemGroupLocation.x,n=2,u=this.shapeList.length;u>n;n++)this.shapeList[n].style.x===r?t.push((this._itemGroupLocation.width-(this.shapeList[n-1].style.x+i.getTextWidth(this.shapeList[n-1].style.text,this.shapeList[n-1].style.textFont)-r))/2):n===u-1&&t.push((this._itemGroupLocation.width-(this.shapeList[n].style.x+i.getTextWidth(this.shapeList[n].style.text,this.shapeList[n].style.textFont)-r))/2);for(var f=-1,n=1,u=this.shapeList.length;u>n;n++)this.shapeList[n].style.x===r&&f++,0!==t[f]&&(this.shapeList[n].style.x+=t[f])},_buildBackground:function(){var n=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new c({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-n[3],y:this._itemGroupLocation.y-n[0],width:this._itemGroupLocation.width+n[3]+n[1],height:this._itemGroupLocation.height+n[0]+n[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var s=this.legendOption.data,p=s.length,r=this.legendOption.itemGap,w=this.legendOption.itemWidth+5,c=this.legendOption.itemHeight,b=this.legendOption.textStyle,d=this.getFont(b),f=0,e=0,o=this.reformCssArray(this.legendOption.padding),l=this.zr.getWidth()-o[1]-o[3],a=this.zr.getHeight()-o[0]-o[2],n=0,h=0,k,t,v,y;if("horizontal"===this.legendOption.orient)for(e=c,t=0;p>t;t++)""!==this._getName(s[t])?(k=i.getTextWidth(this._getFormatterNameFromData(s[t]),s[t].textStyle?this.getFont(u.merge(s[t].textStyle||{},b)):d),n+w+k+r>l?(n-=r,f=Math.max(f,n),e+=c+r,n=0):(n+=w+k+r,f=Math.max(f,n-r))):(n-=r,f=Math.max(f,n),e+=c+r,n=0);else{for(t=0;p>t;t++)h=Math.max(h,i.getTextWidth(this._getFormatterNameFromData(s[t]),s[t].textStyle?this.getFont(u.merge(s[t].textStyle||{},b)):d));for(h+=w,f=h,t=0;p>t;t++)""!==this._getName(s[t])?n+c+r>a?(f+=h+r,n-=r,e=Math.max(e,n),n=0):(n+=c+r,e=Math.max(e,n-r)):(f+=h+r,n-=r,e=Math.max(e,n),n=0)}l=this.zr.getWidth();a=this.zr.getHeight();switch(this.legendOption.x){case"center":v=Math.floor((l-f)/2);break;case"left":v=o[3]+this.legendOption.borderWidth;break;case"right":v=l-f-o[1]-o[3]-2*this.legendOption.borderWidth;break;default:v=this.parsePercent(this.legendOption.x,l)}switch(this.legendOption.y){case"top":y=o[0]+this.legendOption.borderWidth;break;case"bottom":y=a-e-o[0]-o[2]-2*this.legendOption.borderWidth;break;case"center":y=Math.floor((a-e)/2);break;default:y=this.parsePercent(this.legendOption.y,a)}return{x:v,y:y,width:f,height:e,maxWidth:h}},_getSomethingByName:function(n){for(var u,e,f,r=this.option.series,i=0,o=r.length;o>i;i++){if(r[i].name===n)return{type:r[i].type,series:r[i],seriesIndex:i,data:null,dataIndex:-1};if(r[i].type===t.CHART_TYPE_PIE||r[i].type===t.CHART_TYPE_RADAR||r[i].type===t.CHART_TYPE_CHORD||r[i].type===t.CHART_TYPE_FORCE||r[i].type===t.CHART_TYPE_FUNNEL||r[i].type===t.CHART_TYPE_TREEMAP)for(f=r[i].categories||r[i].data||r[i].nodes,u=0,e=f.length;e>u;u++)if(f[u].name===n)return{type:r[i].type,series:r[i],seriesIndex:i,data:f[u],dataIndex:u}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(n,i,r,u,f,e,o){var c="#ccc"===f?o:f,s={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+e,x:n,y:i,width:r,height:u,color:f,strokeColor:f,lineWidth:2},highlightStyle:{color:c,strokeColor:c,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode},h;e.match("image")&&(h=e.replace(new RegExp("^image:\\/\\/"),""),e="image");switch(e){case"line":s.style.brushType="stroke";s.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":s.highlightStyle.lineWidth=3;break;case"k":s.style.brushType="both";s.highlightStyle.lineWidth=3;s.highlightStyle.color=s.style.color=this.deepQuery([this.ecTheme,t],"k.itemStyle.normal.color")||"#fff";s.style.strokeColor="#ccc"!=f?this.deepQuery([this.ecTheme,t],"k.itemStyle.normal.lineStyle.color")||"#ff3200":f;break;case"image":s.style.iconType="image";s.style.image=h;"#ccc"===f&&(s.style.opacity=.5)}return s},__legendSelected:function(n){var i=n.target._name,r;if("single"===this.legendOption.selectedMode)for(r in this._selectedMap)this._selectedMap[r]=!1;this._selectedMap[i]=!this._selectedMap[i];this.messageCenter.dispatch(t.EVENT.LEGEND_SELECTED,n.event,{selected:this._selectedMap,target:i},this.myChart)},__dispatchHoverLink:function(n){this.messageCenter.dispatch(t.EVENT.LEGEND_HOVERLINK,n.event,{target:n.target._name},this.myChart)},refresh:function(n){var r,i,e,s,o,u,f,h;if(n){if(this.option=n||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend,o=this.legendOption.data||[],this.legendOption.selected)for(u in this.legendOption.selected)this._selectedMap[u]="undefined"!=typeof this._selectedMap[u]?this._selectedMap[u]:this.legendOption.selected[u];for(f=0,h=o.length;h>f;f++)r=this._getName(o[f]),""!==r&&(i=this._getSomethingByName(r),i.series?(this._hasDataMap[r]=!0,s=!i.data||i.type!==t.CHART_TYPE_PIE&&i.type!==t.CHART_TYPE_FORCE&&i.type!==t.CHART_TYPE_FUNNEL?[i.series]:[i.data,i.series],e=this.getItemStyleColor(this.deepQuery(s,"itemStyle.normal.color"),i.seriesIndex,i.dataIndex,i.data),e&&i.type!=t.CHART_TYPE_K&&this.setColor(r,e),this._selectedMap[r]=null!=this._selectedMap[r]?this._selectedMap[r]:!0):this._hasDataMap[r]=!1)}this.clear();this._buildShape()},getRelatedAmount:function(n){for(var u,o,f,e=0,r=this.option.series,i=0,s=r.length;s>i;i++)if(r[i].name===n&&e++,r[i].type===t.CHART_TYPE_PIE||r[i].type===t.CHART_TYPE_RADAR||r[i].type===t.CHART_TYPE_CHORD||r[i].type===t.CHART_TYPE_FORCE||r[i].type===t.CHART_TYPE_FUNNEL)for(f=r[i].type!=t.CHART_TYPE_FORCE?r[i].data:r[i].categories,u=0,o=f.length;o>u;u++)f[u].name===n&&"-"!=f[u].value&&e++;return e},setColor:function(n,t){this._colorMap[n]=t},getColor:function(n){return this._colorMap[n]||(this._colorMap[n]=this.zr.getColor(this._colorIndex++)),this._colorMap[n]},hasColor:function(n){return this._colorMap[n]?this._colorMap[n]:!1},add:function(n,t){for(var r=this.legendOption.data,i=0,u=r.length;u>i;i++)if(this._getName(r[i])===n)return;this.legendOption.data.push(n);this.setColor(n,t);this._selectedMap[n]=!0;this._hasDataMap[n]=!0},del:function(n){for(var i=this.legendOption.data,t=0,r=i.length;r>t;t++)if(this._getName(i[t])===n)return this.legendOption.data.splice(t,1)},getItemShape:function(n){if(null!=n)for(var t,i=0,r=this.shapeList.length;r>i;i++)if(t=this.shapeList[i],t._name===n&&"text"!=t.type)return t},setItemShape:function(n,t){for(var i,r=0,u=this.shapeList.length;u>r;r++)i=this.shapeList[r],i._name===n&&"text"!=i.type&&(this._selectedMap[n]||(t.style.color="#ccc",t.style.strokeColor="#ccc"),this.zr.modShape(i.id,t))},isSelected:function(n){return"undefined"!=typeof this._selectedMap[n]?this._selectedMap[n]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(n,i){if("single"===this.legendOption.selectedMode)for(var r in this._selectedMap)this._selectedMap[r]=!1;this._selectedMap[n]=i;this.messageCenter.dispatch(t.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:n},this.myChart)},onlegendSelected:function(n,t){var r=n.selected;for(var i in r)this._selectedMap[i]!=r[i]&&(t.needRefresh=!0),this._selectedMap[i]=r[i]}};r={line:function(n,t){var i=t.height/2;n.moveTo(t.x,t.y+i);n.lineTo(t.x+t.width,t.y+i)},pie:function(n,t){var r=t.x,u=t.y,f=t.width,i=t.height;l.prototype.buildPath(n,{x:r+f/2,y:u+i+2,r:i,r0:6,startAngle:45,endAngle:135})},eventRiver:function(n,t){var i=t.x,r=t.y,f=t.width,u=t.height;n.moveTo(i,r+u);n.bezierCurveTo(i+f,r+u,i,r+4,i+f,r+4);n.lineTo(i+f,r);n.bezierCurveTo(i,r,i+f,r+u-4,i,r+u-4);n.lineTo(i,r+u)},k:function(n,t){var f=t.x,i=t.y,r=t.width,u=t.height;a.prototype.buildPath(n,{x:f+r/2,y:[i+1,i+1,i+u-6,i+u],width:r-6})},bar:function(n,t){var i=t.x,r=t.y+1,f=t.width,e=t.height-2,u=3;n.moveTo(i+u,r);n.lineTo(i+f-u,r);n.quadraticCurveTo(i+f,r,i+f,r+u);n.lineTo(i+f,r+e-u);n.quadraticCurveTo(i+f,r+e,i+f-u,r+e);n.lineTo(i+u,r+e);n.quadraticCurveTo(i,r+e,i,r+e-u);n.lineTo(i,r+u);n.quadraticCurveTo(i,r,i+u,r)},force:function(n,t){e.prototype.iconLibrary.circle(n,t)},radar:function(n,t){var f=6,e=t.x+t.width/2,o=t.y+t.height/2,r=t.height/2,s=2*Math.PI/f,i=-Math.PI/2,h=e+r*Math.cos(i),c=o+r*Math.sin(i),u,l;for(n.moveTo(h,c),i+=s,u=0,l=f-1;l>u;u++)n.lineTo(e+r*Math.cos(i),o+r*Math.sin(i)),i+=s;n.lineTo(h,c)}};r.chord=r.pie;r.map=r.bar;for(o in r)e.prototype.iconLibrary["legendicon"+o]=r[o];return u.inherits(f,s),n("../component").define("legend",f),f});define("echarts/util/ecData",[],function(){function n(n,t,i,r,u,f,e,o){var s;return"undefined"!=typeof r&&(s=null==r.value?r:r.value),n._echartsData={_series:t,_seriesIndex:i,_data:r,_dataIndex:u,_name:f,_value:s,_special:e,_special2:o},n._echartsData}function t(n,t){var i=n._echartsData;if(!t)return i;switch(t){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return i&&i["_"+t]}return null}function i(n,t,i){switch(n._echartsData=n._echartsData||{},t){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":n._echartsData["_"+t]=i}}function r(n,t){t._echartsData={_series:n._echartsData._series,_seriesIndex:n._echartsData._seriesIndex,_data:n._echartsData._data,_dataIndex:n._echartsData._dataIndex,_name:n._echartsData._name,_value:n._echartsData._value,_special:n._echartsData._special,_special2:n._echartsData._special2}}return{pack:n,set:i,get:t,clone:r}});define("echarts/chart",[],function(){var n={},t={};return n.define=function(i,r){return t[i]=r,n},n.get=function(n){return t[n]},n});define("zrender/tool/color",["require","../tool/util"],function(n){function k(n){h=n}function d(){h=ri}function g(n,t){return n=0|n,t=t||h,t[n%t.length]}function nt(n){c=n}function tt(){ui=c}function it(){return c}function rt(n,t,i,r,u,f,e){s||(s=b.getContext());for(var h=s.createRadialGradient(n,t,i,r,u,f),o=0,c=e.length;c>o;o++)h.addColorStop(e[o][0],e[o][1]);return h.__nonRecursion=!0,h}function ut(n,t,i,r,u){s||(s=b.getContext());for(var e=s.createLinearGradient(n,t,i,r),f=0,o=u.length;o>f;f++)e.addColorStop(u[f][0],u[f][1]);return e.__nonRecursion=!0,e}function a(n,i,e){n=f(n);i=f(i);n=r(n);i=r(i);for(var a=[],v=(i[0]-n[0])/e,y=(i[1]-n[1])/e,p=(i[2]-n[2])/e,w=(i[3]-n[3])/e,o=0,s=n[0],h=n[1],c=n[2],l=n[3];e>o;o++)a[o]=u([t(Math.floor(s),[0,255]),t(Math.floor(h),[0,255]),t(Math.floor(c),[0,255]),l.toFixed(4)-0],"rgba"),s+=v,h+=y,c+=p,l+=w;return s=i[0],h=i[1],c=i[2],l=i[3],a[o]=u([s,h,c,l],"rgba"),a}function ft(n,t){var r=[],u=n.length,i,f,e;if(void 0===t&&(t=20),1===u)r=a(n[0],n[0],t);else if(u>1)for(i=0,f=u-1;f>i;i++)e=a(n[i],n[i+1],t),f-1>i&&e.pop(),r=r.concat(e);return r}function u(n,i){if(i=i||"rgb",n&&(3===n.length||4===n.length)){if(n=e(n,function(n){return n>1?Math.ceil(n):n}),i.indexOf("hex")>-1)return"#"+(16777216+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1);if(i.indexOf("hs")>-1){var r=e(n.slice(1,3),function(n){return n+"%"});n[1]=r[0];n[2]=r[1]}return i.indexOf("a")>-1?(3===n.length&&n.push(1),n[3]=t(n[3],[0,1]),i+"("+n.slice(0,4).join(",")+")"):i+"("+n.slice(0,3).join(",")+")"}}function et(n){n=y(n);n.indexOf("rgba")<0&&(n=f(n));var t=[],i=0;return n.replace(/[\d.]+/g,function(n){n=3>i?0|n:+n;t[i++]=n}),t}function i(n,t){if(!o(n))return n;var i=r(n),f=i[3];return"undefined"==typeof f&&(f=1),n.indexOf("hsb")>-1?i=gt(i):n.indexOf("hsl")>-1&&(i=ni(i)),t.indexOf("hsb")>-1||t.indexOf("hsv")>-1?i=ti(i):t.indexOf("hsl")>-1&&(i=ii(i)),i[3]=f,u(i,t)}function f(n){return i(n,"rgba")}function w(n){return i(n,"rgb")}function v(n){return i(n,"hex")}function ot(n){return i(n,"hsva")}function st(n){return i(n,"hsv")}function ht(n){return i(n,"hsba")}function ct(n){return i(n,"hsb")}function lt(n){return i(n,"hsla")}function at(n){return i(n,"hsl")}function vt(n){for(var t in l)if(v(l[t])===v(n))return t;return null}function y(n){return String(n).replace(/\s+/g,"")}function yt(n){if(l[n]&&(n=l[n]),n=y(n),n=n.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(n)){n=parseInt(n.slice(1),16);var t=(3840&n)<<8,i=(240&n)<<4,r=15&n;n="#"+(16777216+(t<<4)+t+(i<<4)+i+(r<<4)+r).toString(16).slice(1)}return n}function pt(n,t){var f,u,i;if(!o(n))return n;for(f=t>0?1:-1,"undefined"==typeof t&&(t=0),t=Math.abs(t)>1?1:Math.abs(t),n=w(n),u=r(n),i=0;3>i;i++)u[i]=1===f?u[i]*(1-t)|0:(255-u[i])*t+u[i]|0;return"rgb("+u.join(",")+")"}function wt(n){if(!o(n))return n;var t=r(f(n));return t=e(t,function(n){return 255-n}),u(t,"rgb")}function bt(n,i,e){var v;if(!o(n)||!o(i))return n;"undefined"==typeof e&&(e=.5);e=1-t(e,[0,1]);for(var h=2*e-1,c=r(f(n)),l=r(f(i)),y=c[3]-l[3],p=((h*y==-1?h:(h+y)/(1+h*y))+1)/2,w=1-p,a=[],s=0;3>s;s++)a[s]=c[s]*p+l[s]*w;return v=c[3]*e+l[3]*(1-e),v=Math.max(0,Math.min(1,v)),1===c[3]&&1===l[3]?u(a,"rgb"):(a[3]=v,u(a,"rgba"))}function kt(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function r(n){var i,u,f,o,r,h;if(n=yt(n),i=n.match(fi),null===i)throw new Error("The color format error");if(r=[],i[2])u=i[2].replace("#","").split(""),o=[u[0]+u[1],u[2]+u[3],u[4]+u[5]],r=e(o,function(n){return t(parseInt(n,16),[0,255])});else if(i[4])h=i[4].split(","),f=h[3],o=h.slice(0,3),r=e(o,function(n){return n=Math.floor(n.indexOf("%")>0?2.55*parseInt(n,0):n),t(n,[0,255])}),"undefined"!=typeof f&&r.push(t(parseFloat(f),[0,1]));else if(i[5]||i[6]){var s=(i[5]||i[6]).split(","),c=parseInt(s[0],0)/360,l=s[1],a=s[2];f=s[3];r=e([l,a],function(n){return t(parseFloat(n)/100,[0,1])});r.unshift(c);"undefined"!=typeof f&&r.push(t(parseFloat(f),[0,1]))}return r}function dt(n,i){if(!o(n))return n;null===i&&(i=1);var e=r(f(n));return e[3]=t(Number(i).toFixed(4),[0,1]),u(e,"rgba")}function e(n,t){if("function"!=typeof t)throw new TypeError;for(var r=n?n.length:0,i=0;r>i;i++)n[i]=t(n[i]);return n}function t(n,t){return n<=t[0]?n=t[0]:n>=t[1]&&(n=t[1]),n}function o(n){return n instanceof Array||"string"==typeof n}function gt(n){var h,c,l,y=n[0],s=n[1],t=n[2],e;if(0===s)h=255*t,c=255*t,l=255*t;else{e=6*y;6===e&&(e=0);var i=0|e,o=t*(1-s),a=t*(1-s*(e-i)),v=t*(1-s*(1-(e-i))),r=0,u=0,f=0;0===i?(r=t,u=v,f=o):1===i?(r=a,u=t,f=o):2===i?(r=o,u=t,f=v):3===i?(r=o,u=a,f=t):4===i?(r=v,u=o,f=t):(r=t,u=o,f=a);h=255*r;c=255*u;l=255*f}return[h,c,l]}function ni(n){var f,e,o,s=n[0],r=n[1],t=n[2],i,u;return 0===r?(f=255*t,e=255*t,o=255*t):(i=.5>t?t*(1+r):t+r-r*t,u=2*t-i,f=255*p(u,i,s+1/3),e=255*p(u,i,s),o=255*p(u,i,s-1/3)),[f,e,o]}function p(n,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+(t-n)*(2/3-i)*6:n}function ti(n){var t,u,f=n[0]/255,e=n[1]/255,o=n[2]/255,a=Math.min(f,e,o),i=Math.max(f,e,o),r=i-a,s=i;if(0===r)t=0,u=0;else{u=r/i;var h=((i-f)/6+r/2)/r,c=((i-e)/6+r/2)/r,l=((i-o)/6+r/2)/r;f===i?t=l-c:e===i?t=1/3+h-l:o===i&&(t=2/3+c-h);0>t&&(t+=1);t>1&&(t-=1)}return t=360*t,u=100*u,s=100*s,[t,u,s]}function ii(n){var t,u,f=n[0]/255,e=n[1]/255,o=n[2]/255,s=Math.min(f,e,o),i=Math.max(f,e,o),r=i-s,h=(i+s)/2;if(0===r)t=0,u=0;else{u=.5>h?r/(i+s):r/(2-i-s);var c=((i-f)/6+r/2)/r,l=((i-e)/6+r/2)/r,a=((i-o)/6+r/2)/r;f===i?t=a-l:e===i?t=1/3+c-a:o===i&&(t=2/3+l-c);0>t&&(t+=1);t>1&&(t-=1)}return t=360*t,u=100*u,h=100*h,[t,u,h]}var s,b=n("../tool/util"),h=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],ri=h,c="rgba(255,255,0,0.5)",ui=c,fi=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:k,resetPalette:d,getColor:g,getHighlightColor:it,customHighlight:nt,resetHighlight:tt,getRadialGradient:rt,getLinearGradient:ut,getGradientColors:ft,getStepColors:a,reverse:wt,mix:bt,lift:pt,trim:y,random:kt,toRGB:w,toRGBA:f,toHex:v,toHSL:at,toHSLA:lt,toHSB:ct,toHSBA:ht,toHSV:st,toHSVA:ot,toName:vt,toColor:u,toArray:et,alpha:dt,getData:r}});define("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(n){function r(n,t,r,e,o){var s;f.call(this,n,t,r,e,o);s=this;(s._onclick=function(n){return s.__onclick(n)},s._ondrift=function(n,t){return s.__ondrift(this,n,t)},s._ondragend=function(){return s.__ondragend()},s._setCurrentOption=function(){var n=s.timelineOption,t;s.currentIndex%=n.data.length;t=s.options[s.currentIndex]||{};s.myChart._setOption(t,n.notMerge,!0);s.messageCenter.dispatch(u.EVENT.TIMELINE_CHANGED,null,{currentIndex:s.currentIndex,data:null!=n.data[s.currentIndex].name?n.data[s.currentIndex].name:n.data[s.currentIndex]},s.myChart)},s._onFrame=function(){s._setCurrentOption();s._syncHandleShape();s.timelineOption.autoPlay&&(s.playTicket=setTimeout(function(){return s.currentIndex+=1,!s.timelineOption.loop&&s.currentIndex>=s.timelineOption.data.length?(s.currentIndex=s.timelineOption.data.length-1,void s.stop()):void s._onFrame()},s.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||0===this.currentIndex||(this.options[this.currentIndex]=i.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay)&&(s=this,this.playTicket=setTimeout(function(){s.play()},null!=this.ecTheme.animationDuration?this.ecTheme.animationDuration:u.animationDuration))}function e(n,i){var s=2,r=i.x+s,u=i.y+s+2,e=i.width-s,f=i.height-s,o=i.symbol,h,c;"last"===o?(n.moveTo(r+e-2,u+f/3),n.lineTo(r+e-2,u),n.lineTo(r+2,u+f/2),n.lineTo(r+e-2,u+f),n.lineTo(r+e-2,u+f/3*2),n.moveTo(r,u),n.lineTo(r,u)):"next"===o?(n.moveTo(r+2,u+f/3),n.lineTo(r+2,u),n.lineTo(r+e-2,u+f/2),n.lineTo(r+2,u+f),n.lineTo(r+2,u+f/3*2),n.moveTo(r,u),n.lineTo(r,u)):"play"===o?"stop"===i.status?(n.moveTo(r+2,u),n.lineTo(r+e-2,u+f/2),n.lineTo(r+2,u+f),n.lineTo(r+2,u)):(h="both"===i.brushType?2:3,n.rect(r+2,u,h,f),n.rect(r+e-h-2,u,h,f)):o.match("image")&&(c="",c=o.replace(new RegExp("^image:\\/\\/"),""),o=t.prototype.iconLibrary.image,o(n,{x:r,y:u,width:e,height:f,image:c}))}var f=n("./base"),o=n("zrender/shape/Rectangle"),t=n("../util/shape/Icon"),s=n("../util/shape/Chain"),u=n("../config");u.timeline={zlevel:0,z:4,show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2e3,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var i=n("zrender/tool/util"),h=n("zrender/tool/area"),c=n("zrender/tool/event");return r.prototype={type:u.COMPONENT_TYPE_TIMELINE,_buildShape:function(){var n,t;if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show)for(var i=this._getInterval(),n=0,r=this._chainPoint.length;r>n;n+=i)this._chainPoint[n].showLabel=!0;for(this._buildChain(),this._buildHandle(),n=0,t=this.shapeList.length;t>n;n++)this.zr.addShape(this.shapeList[n])},_getLocation:function(){var f,n=this.timelineOption,t=this.reformCssArray(this.timelineOption.padding),i=this.zr.getWidth(),h=this.parsePercent(n.x,i),r=this.parsePercent(n.x2,i),e,o,u,s;return null==n.width?(f=i-h-r,r=i-r):(f=this.parsePercent(n.width,i),r=h+f),u=this.zr.getHeight(),s=this.parsePercent(n.height,u),null!=n.y?(e=this.parsePercent(n.y,u),o=e+s):(o=u-this.parsePercent(n.y2,u),e=o-s),{x:h+t[3],y:e+t[0],x2:r-t[1],y2:o-t[2],width:f-t[1]-t[3],height:s-t[0]-t[2]}},_getReformedLabel:function(n){var t=this.timelineOption,i=null!=t.data[n].name?t.data[n].name:t.data[n],r=t.data[n].formatter||t.label.formatter;return r&&("function"==typeof r?i=r.call(this.myChart,i):"string"==typeof r&&(i=r.replace("{value}",i))),i},_getInterval:function(){var i=this._chainPoint,r=this.timelineOption,n=r.label.interval,s,u,f,t;if("auto"===n){var e=r.label.textStyle.fontSize,a=r.data,o=r.data.length;if(o>3)for(f=!1,n=0;!f&&o>n;)for(n++,f=!0,t=n;o>t;t+=n){if(s=i[t].x-i[t-n].x,0!==r.label.rotate)u=e;else if(a[t].textStyle)u=h.getTextWidth(i[t].name,i[t].textFont);else{var c=i[t].name+"",l=(c.match(/\w/g)||"").length,v=c.length-l;u=l*e*2/3+v*e}if(u>s){f=!1;break}}else n=1}else n=+n+1;return n},_getChainPoint:function(){function a(n){return null!=t[n].name?t[n].name:t[n]+""}var h,s=this.timelineOption,g=s.symbol.toLowerCase(),nt=s.symbolSize,l=s.label.rotate,v=s.label.textStyle,tt=this.getFont(v),t=s.data,e=this._location.x,k=this._location.y+this._location.height/4*3,c=this._location.x2-this._location.x,u=t.length,r=[],f,o,d,y,p,w,b,n;if(u>1)if(f=c/u,f=f>50?50:20>f?5:f,c-=2*f,"number"===s.type)for(n=0;u>n;n++)r.push(e+f+c/(u-1)*n);else{for(r[0]=new Date(a(0).replace(/-/g,"/")),r[u-1]=new Date(a(u-1).replace(/-/g,"/"))-r[0],n=1;u>n;n++)r[n]=e+f+c*(new Date(a(n).replace(/-/g,"/"))-r[0])/r[u-1];r[0]=e+f}else r.push(e+c/2);for(b=[],n=0;u>n;n++)e=r[n],o=t[n].symbol&&t[n].symbol.toLowerCase()||g,o.match("empty")?(o=o.replace("empty",""),y=!0):y=!1,o.match("star")&&(d=o.replace("star","")-0||5,o="star"),h=t[n].textStyle?i.merge(t[n].textStyle||{},v):v,p=h.align||"center",l?(p=l>0?"right":"left",w=[l*Math.PI/180,e,k-5]):w=!1,b.push({x:e,n:d,isEmpty:y,symbol:o,symbolSize:t[n].symbolSize||nt,color:t[n].color,borderColor:t[n].borderColor,borderWidth:t[n].borderWidth,name:this._getReformedLabel(n),textColor:h.color,textAlign:p,textBaseline:h.baseline||"middle",textX:e,textY:k-(l?5:0),textFont:t[n].textStyle?this.getFont(h):tt,rotation:w,showLabel:!1});return b},_buildBackground:function(){var n=this.timelineOption,t=this.reformCssArray(this.timelineOption.padding),i=this._location.width,r=this._location.height;(0!==n.borderWidth||"rgba(0,0,0,0)"!=n.backgroundColor.replace(/\s/g,""))&&this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x-t[3],y:this._location.y-t[0],width:i+t[1]+t[3],height:r+t[0]+t[2],brushType:0===n.borderWidth?"fill":"both",color:n.backgroundColor,strokeColor:n.borderColor,lineWidth:n.borderWidth}}))},_buildControl:function(){var e=this,o=this.timelineOption,h=o.lineStyle,f=o.controlStyle,r,n,u,c,s;"none"!==o.controlPosition&&(n=f.itemSize,u=f.itemGap,"left"===o.controlPosition?(r=this._location.x,this._location.x+=3*(n+u)):(r=this._location.x2-(3*(n+u)-u),this._location.x2-=3*(n+u)),c=this._location.y,s={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:r,y:c,width:n,height:n,brushType:"stroke",color:f.normal.color,strokeColor:f.normal.color,lineWidth:h.width},highlightStyle:{color:f.emphasis.color,strokeColor:f.emphasis.color,lineWidth:h.width+1},clickable:!0},this._ctrLastShape=new t(s),this._ctrLastShape.onclick=function(){e.last()},this.shapeList.push(this._ctrLastShape),r+=n+u,this._ctrPlayShape=new t(i.clone(s)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=r,this._ctrPlayShape.onclick=function(){"stop"===e._ctrPlayShape.style.status?e.play():e.stop()},this.shapeList.push(this._ctrPlayShape),r+=n+u,this._ctrNextShape=new t(i.clone(s)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=r,this._ctrNextShape.onclick=function(){e.next()},this.shapeList.push(this._ctrNextShape))},_buildChain:function(){var t=this.timelineOption,n=t.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,n.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:n.color,lineWidth:n.width,lineType:n.type},hoverable:!1,clickable:!0,onclick:this._onclick};this._timelineShae=new s(this._timelineShae);this.shapeList.push(this._timelineShae)},_buildHandle:function(){var i=this._chainPoint[this.currentIndex],n=i.symbolSize+1;n=5>n?5:n;this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:i.n,x:i.x-n,y:this._location.y+this._location.height/4-n,width:2*n,height:2*n,brushType:"both",textPosition:"specific",textX:i.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend};this._handleShape=new t(this._handleShape);this.shapeList.push(this._handleShape)},_syncHandleShape:function(){var i;if(this.timelineOption.show){var r=this.timelineOption,n=r.checkpointStyle,t=this._chainPoint[this.currentIndex];this._handleShape.style.text=n.label.show?t.name:"";this._handleShape.style.textFont=t.textFont;this._handleShape.style.n=t.n;"auto"===n.symbol?this._handleShape.style.iconType="none"!=t.symbol?t.symbol:"diamond":(this._handleShape.style.iconType=n.symbol,n.symbol.match("star")&&(this._handleShape.style.n=n.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));"auto"===n.symbolSize?(i=t.symbolSize+2,i=5>i?5:i):i=n.symbolSize-0;this._handleShape.style.color="auto"===n.color?t.color?t.color:r.controlStyle.emphasis.color:n.color;this._handleShape.style.textColor="auto"===n.label.textStyle.color?this._handleShape.style.color:n.label.textStyle.color;this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"===n.borderColor?t.borderColor?t.borderColor:"#fff":n.borderColor;this._handleShape.style.lineWidth="auto"===n.borderWidth?t.borderWidth?t.borderWidth:0:n.borderWidth-0;this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1;this.zr.animate(this._handleShape.id,"style").when(500,{x:t.x-i,textX:t.x,y:this._location.y+this._location.height/4-i,width:2*i,height:2*i}).start("ExponentialOut")}},_findChainIndex:function(n){var i=this._chainPoint,r=i.length,t;if(n<=i[0].x)return 0;if(n>=i[r-1].x)return r-1;for(t=0;r-1>t;t++)if(n>=i[t].x&&n<=i[t+1].x)return Math.abs(n-i[t].x)<Math.abs(n-i[t+1].x)?t:t+1},__onclick:function(n){var i=c.getX(n.event),t=this._findChainIndex(i);return t===this.currentIndex?!0:(this.currentIndex=t,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(n,t){var r,i,u,f,e,o;return(this.timelineOption.autoPlay&&this.stop(),i=this._chainPoint,u=i.length,n.style.x+t<=i[0].x-i[0].symbolSize?(n.style.x=i[0].x-i[0].symbolSize,r=0):n.style.x+t>=i[u-1].x-i[u-1].symbolSize?(n.style.x=i[u-1].x-i[u-1].symbolSize,r=u-1):(n.style.x+=t,r=this._findChainIndex(n.style.x)),f=i[r],e=f.symbolSize+2,n.style.iconType=f.symbol,n.style.n=f.n,n.style.textX=n.style.x+e/2,n.style.y=this._location.y+this._location.height/4-e,n.style.width=2*e,n.style.height=2*e,n.style.text=f.name,r===this.currentIndex)?!0:((this.currentIndex=r,this.timelineOption.realtime)&&(clearTimeout(this.playTicket),o=this,this.playTicket=setTimeout(function(){o._setCurrentOption()},200)),!0)},__ondragend:function(){this.isDragend=!0},ondragend:function(n,t){this.isDragend&&n.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),t.dragOut=!0,t.dragIn=!0,t.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(n,t){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=null!=t?t:!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=null!=n?n:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(n){this.timelineOption=this.reformOption(i.clone(this.option.timeline));this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle);this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle);this.myChart.canvasSupported||(this.timelineOption.realtime=!1);this.timelineOption.show&&n&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},t.prototype.iconLibrary.timelineControl=e,i.inherits(r,f),n("../component").define("timeline",r),r});define("zrender/shape/Image",["require","./Base","../tool/util"],function(n){var i=n("./Base"),t=function(n){i.call(this,n)};return t.prototype={type:"image",brush:function(n,t,i){var r=this.style||{},u,a,o,s,h;if(t&&(r=this.getHighlightStyle(r,this.highlightStyle||{})),u=r.image,a=this,(this._imageCache||(this._imageCache={}),"string"==typeof u)&&(o=u,this._imageCache[o]?u=this._imageCache[o]:(u=new Image,u.onload=function(){u.onload=null;a.modSelf();i()},u.src=o,this._imageCache[o]=u)),u){if("IMG"==u.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=u.readyState)return}else if(!u.complete)return;var f=r.width||u.width,e=r.height||u.height,c=r.x,l=r.y;if(!u.width||!u.height)return;if(n.save(),this.doClip(n),this.setContext(n,r),this.setTransform(n),r.sWidth&&r.sHeight)s=r.sx||0,h=r.sy||0,n.drawImage(u,s,h,r.sWidth,r.sHeight,c,l,f,e);else if(r.sx&&r.sy){var s=r.sx,h=r.sy,v=f-s,y=e-h;n.drawImage(u,s,h,v,y,c,l,f,e)}else n.drawImage(u,c,l,f,e);r.width||(r.width=f);r.height||(r.height=e);this.style.width||(this.style.width=f);this.style.height||(this.style.height=e);this.drawText(n,r,this.style);n.restore()}},getRect:function(n){return{x:n.x,y:n.y,width:n.width,height:n.height}},clearCache:function(){this._imageCache={}}},n("../tool/util").inherits(t,i),t});define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(n){function t(n){r.call(this,n)}var r=n("./Base"),i=n("../tool/util"),u=n("../tool/color"),f=n("../shape/Rectangle");return i.inherits(t,r),t.prototype._start=function(n,t){var o=i.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),s=this.createTextShape(o.textStyle),h=this.createBackgroundShape(o.backgroundColor),r=o.effectOption,e=new f({highlightStyle:i.clone(r)});return e.highlightStyle.color=r.color||u.getLinearGradient(r.x,r.y,r.x+r.width,r.y+r.height,[[0,"#ff6400"],[.5,"#ffe100"],[1,"#b1ff00"]]),null!=o.progress?(n(h),e.highlightStyle.width=this.adjust(o.progress,[0,1])*o.effectOption.width,n(e),n(s),void t()):(e.highlightStyle.width=0,setInterval(function(){n(h);e.highlightStyle.width<r.width?e.highlightStyle.width+=8:e.highlightStyle.width=0;n(e);n(s);t()},r.timeInterval))},t});define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(n){function t(n){i.call(this,n)}var i=n("./Base"),r=n("../tool/util"),u=n("../tool/color"),f=n("../shape/Circle");return r.inherits(t,i),t.prototype._start=function(n,t){for(var h,o=r.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),v=this.createTextShape(o.textStyle),y=this.createBackgroundShape(o.backgroundColor),e=o.effect,c=e.n,p=e.brushType,w=e.lineWidth,i=[],l=this.canvasWidth,a=this.canvasHeight,s=0;c>s;s++)h="random"==e.color?u.alpha(u.random(),.3):e.color,i[s]=new f({highlightStyle:{x:Math.ceil(Math.random()*l),y:Math.ceil(Math.random()*a),r:Math.ceil(40*Math.random()),brushType:p,color:h,strokeColor:h,lineWidth:w},animationY:Math.ceil(20*Math.random())});return setInterval(function(){var r,u;for(n(y),r=0;c>r;r++)u=i[r].highlightStyle,u.y-i[r].animationY+u.r<=0&&(i[r].highlightStyle.y=a+u.r,i[r].highlightStyle.x=Math.ceil(Math.random()*l)),i[r].highlightStyle.y-=i[r].animationY,n(i[r]);n(v);t()},e.timeInterval)},t});define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(n){function t(n){i.call(this,n)}var i=n("./Base"),r=n("../tool/util"),u=n("../tool/color"),f=n("../shape/Line");return r.inherits(t,i),t.prototype._start=function(n,t){for(var o=r.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),y=this.createTextShape(o.textStyle),p=this.createBackgroundShape(o.backgroundColor),e=o.effectOption,h=e.n,w=e.lineWidth,i=[],b=this.canvasWidth,c=this.canvasHeight,s=0;h>s;s++){var l=-Math.ceil(1e3*Math.random()),a=Math.ceil(400*Math.random()),v=Math.ceil(Math.random()*c),k="random"==e.color?u.random():e.color;i[s]=new f({highlightStyle:{xStart:l,yStart:v,xEnd:l+a,yEnd:v,strokeColor:k,lineWidth:w},animationX:Math.ceil(100*Math.random()),len:a})}return setInterval(function(){var r,u;for(n(p),r=0;h>r;r++)u=i[r].highlightStyle,u.xStart>=b&&(i[r].len=Math.ceil(400*Math.random()),u.xStart=-400,u.xEnd=-400+i[r].len,u.yStart=Math.ceil(Math.random()*c),u.yEnd=u.yStart),u.xStart+=i[r].animationX,u.xEnd+=i[r].animationX,n(i[r]);n(y);t()},e.timeInterval)},t});define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(n){function i(n){u.call(this,n)}var u=n("./Base"),r=n("../tool/util"),t=n("../tool/color"),e=n("../shape/Ring"),f=n("../shape/Sector");return r.inherits(i,u),i.prototype._start=function(n,i){var v=r.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),s=v.effect,w=v.textStyle,a,u;null==w.x&&(w.x=s.x);null==w.y&&(w.y=s.y+(s.r0+s.r)/2-5);for(var g=this.createTextShape(v.textStyle),nt=this.createBackgroundShape(v.backgroundColor),y=s.x,p=s.y,h=s.r0+6,tt=s.r-6,it=s.color,b=t.lift(it,.1),d=new e({highlightStyle:r.clone(s)}),c=[],k=t.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),l=15,o=240,u=0;16>u;u++)c.push(new f({highlightStyle:{x:y,y:p,r0:h,r:tt,startAngle:o-l,endAngle:o,brushType:"fill",color:b},_color:t.getLinearGradient(y+h*Math.cos(o,!0),p-h*Math.sin(o,!0),y+h*Math.cos(o-l,!0),p-h*Math.sin(o-l,!0),[[0,k[2*u]],[1,k[2*u+1]]])})),o-=l;for(o=360,u=0;4>u;u++)c.push(new f({highlightStyle:{x:y,y:p,r0:h,r:tt,startAngle:o-l,endAngle:o,brushType:"fill",color:b},_color:t.getLinearGradient(y+h*Math.cos(o,!0),p-h*Math.sin(o,!0),y+h*Math.cos(o-l,!0),p-h*Math.sin(o-l,!0),[[0,k[2*u+32]],[1,k[2*u+33]]])})),o-=l;if(a=0,null!=v.progress){for(n(nt),a=20*this.adjust(v.progress,[0,1]).toFixed(2),d.highlightStyle.text=5*a+"%",n(d),u=0;20>u;u++)c[u].highlightStyle.color=a>u?c[u]._color:b,n(c[u]);return n(g),void i()}return setInterval(function(){n(nt);a+=a>=20?-20:1;n(d);for(var t=0;20>t;t++)c[t].highlightStyle.color=a>t?c[t]._color:b,n(c[t]);n(g);i()},s.timeInterval)},i});define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(n){function t(n){r.call(this,n)}var r=n("./Base"),i=n("../tool/util"),f=n("../tool/color"),u=n("../tool/area"),e=n("../shape/Sector");return i.inherits(t,r),t.prototype._start=function(n,t){var y=i.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),o=this.createTextShape(y.textStyle),p=10,k=u.getTextWidth(o.highlightStyle.text,o.highlightStyle.textFont),d=u.getTextHeight(o.highlightStyle.text,o.highlightStyle.textFont),r=i.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),c=this.getLocation(this.options.textStyle,k+p+2*r.r,Math.max(2*r.r,d)),v;r.x=c.x+r.r;r.y=o.highlightStyle.y=c.y+c.height/2;o.highlightStyle.x=r.x+r.r+p;for(var g=this.createBackgroundShape(y.backgroundColor),h=r.n,w=r.x,b=r.y,nt=r.r0,tt=r.r,it=r.color,l=[],a=Math.round(180/h),s=0;h>s;s++)l[s]=new e({highlightStyle:{x:w,y:b,r0:nt,r:tt,startAngle:a*s*2,endAngle:a*s*2+a,color:f.alpha(it,(s+1)/h),brushType:"fill"}});return v=[0,w,b],setInterval(function(){n(g);v[0]-=.3;for(var i=0;h>i;i++)l[i].rotation=v,n(l[i]);n(o);t()},r.timeInterval)},t});define("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(n){function t(n){r.call(this,n)}var r=n("./Base"),i=n("../tool/util"),u=n("../tool/area"),f=n("../shape/Ring"),e=n("../shape/Droplet"),o=n("../shape/Circle");return i.inherits(t,r),t.prototype._start=function(n,t){var y=i.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),s=this.createTextShape(y.textStyle),p=10,w=u.getTextWidth(s.highlightStyle.text,s.highlightStyle.textFont),b=u.getTextHeight(s.highlightStyle.text,s.highlightStyle.textFont),r=i.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),l=this.getLocation(this.options.textStyle,w+p+2*r.r,Math.max(2*r.r,b));r.x=l.x+r.r;r.y=s.highlightStyle.y=l.y+l.height/2;s.highlightStyle.x=r.x+r.r+p;var k=this.createBackgroundShape(y.backgroundColor),h=new e({highlightStyle:{a:Math.round(r.r/2),b:Math.round(r.r-r.r/6),brushType:"fill",color:r.colorWhirl}}),a=new o({highlightStyle:{r:Math.round(r.r/6),brushType:"fill",color:r.colorIn}}),v=new f({highlightStyle:{r0:Math.round(r.r-r.r/3),r:r.r,brushType:"fill",color:r.colorOut}}),c=[0,r.x,r.y];return h.highlightStyle.x=a.highlightStyle.x=v.highlightStyle.x=c[1],h.highlightStyle.y=a.highlightStyle.y=v.highlightStyle.y=c[2],setInterval(function(){n(k);n(v);c[0]-=.3;h.rotation=c;n(h);n(a);n(s);t()},r.timeInterval)},t});define("echarts/theme/macarons",[],function(){return{color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}}});define("echarts/theme/infographic",[],function(){return{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:!0,lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}}});define("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:!function(){function wt(){return this.context_||(this.context_=new d(this))}function bt(n,t){var i=pt.call(arguments,2);return function(){return n.apply(t,i.concat(pt.call(arguments)))}}function ot(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function st(n,t,i){n.namespaces[t]||n.namespaces.add(t,i,"#default#VML")}function ht(n){if(st(n,"g_vml_","urn:schemas-microsoft-com:vml"),st(n,"g_o_","urn:schemas-microsoft-com:office:office"),!n.styleSheets.ex_canvas_){var t=n.createStyleSheet();t.owningElement.id="ex_canvas_";t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function kt(n){var t=n.srcElement;switch(n.propertyName){case"width":t.getContext().clearRect();t.style.width=t.attributes.width.nodeValue+"px";t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect();t.style.height=t.attributes.height.nodeValue+"px";t.firstChild.style.height=t.clientHeight+"px"}}function dt(n){var t=n.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function y(){return[[1,0,0],[0,1,0],[0,0,1]]}function s(n,t){for(var r,e,u,f=y(),i=0;3>i;i++)for(r=0;3>r;r++){for(e=0,u=0;3>u;u++)e+=n[i][u]*t[u][r];f[i][r]=e}return f}function ct(n,t){t.fillStyle=n.fillStyle;t.lineCap=n.lineCap;t.lineJoin=n.lineJoin;t.lineWidth=n.lineWidth;t.miterLimit=n.miterLimit;t.shadowBlur=n.shadowBlur;t.shadowColor=n.shadowColor;t.shadowOffsetX=n.shadowOffsetX;t.shadowOffsetY=n.shadowOffsetY;t.strokeStyle=n.strokeStyle;t.globalAlpha=n.globalAlpha;t.font=n.font;t.textAlign=n.textAlign;t.textBaseline=n.textBaseline;t.scaleX_=n.scaleX_;t.scaleY_=n.scaleY_;t.lineScale_=n.lineScale_}function lt(n){var i=n.indexOf("(",3),r=n.indexOf(")",i+1),t=n.substring(i+1,r).split(",");return(4!=t.length||"a"!=n.charAt(3))&&(t[3]=1),t}function p(n){return parseFloat(n)/100}function w(n,t,i){return Math.min(i,Math.max(t,n))}function gt(n){var e,s,h,i,r,t,u,f;return(i=parseFloat(n[0])/360%360,0>i&&i++,r=w(p(n[1]),0,1),t=w(p(n[2]),0,1),0==r)?e=s=h=t:(u=.5>t?t*(1+r):t+r-t*r,f=2*t-u,e=b(f,u,i+1/3),s=b(f,u,i),h=b(f,u,i-1/3)),"#"+o[Math.floor(255*e)]+o[Math.floor(255*s)]+o[Math.floor(255*h)]}function b(n,t,i){return 0>i&&i++,i>1&&i--,1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+(t-n)*(2/3-i)*6:n}function k(n){var i,u,t;if(n in ft)return ft[n];if(u=1,n=String(n),"#"==n.charAt(0))i=n;else if(/^rgb/.test(n)){for(var f,t=lt(n),i="#",r=0;3>r;r++)f=-1!=t[r].indexOf("%")?Math.floor(255*p(t[r])):+t[r],i+=o[w(f,0,255)];u=+t[3]}else/^hsl/.test(n)?(t=lt(n),i=gt(t),u=t[3]):i=si[n]||n;return ft[n]={color:i,alpha:u}}function ni(n){if(et[n])return et[n];var i,r=document.createElement("div"),t=r.style;try{t.font=n;i=t.fontFamily.split(",")[0]}catch(u){}return et[n]={style:t.fontStyle||v.style,variant:t.fontVariant||v.variant,weight:t.fontWeight||v.weight,size:t.fontSize||v.size,family:i||v.family}}function ti(n,t){var u={},f,r,i;for(f in n)u[f]=n[f];return r=parseFloat(t.currentStyle.fontSize),i=parseFloat(n.size),u.size="number"==typeof n.size?n.size:-1!=n.size.indexOf("px")?i:-1!=n.size.indexOf("em")?r*i:-1!=n.size.indexOf("%")?r/100*i:-1!=n.size.indexOf("pt")?i/.75:r,u}function ii(n){return n.style+" "+n.variant+" "+n.weight+" "+n.size+"px '"+n.family+"'"}function ri(n){return hi[n]||"square"}function d(n){var u,t,r;this.m_=y();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*i;this.globalAlpha=1;this.font="12px 微软雅黑";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=n;u="width:"+n.clientWidth+"px;height:"+n.clientHeight+"px;overflow:hidden;position:absolute";t=n.ownerDocument.createElement("div");t.style.cssText=u;n.appendChild(t);r=t.cloneNode(!1);r.style.backgroundColor="#fff";r.style.filter="alpha(opacity=0)";n.appendChild(r);this.element_=t;this.scaleX_=1;this.scaleY_=1;this.lineScale_=1}function at(n,t,i,r){n.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:i.x,cp2y:i.y,x:r.x,y:r.y});n.currentX_=r.x;n.currentY_=r.y}function vt(n,t){var r=k(n.strokeStyle),f=r.color,u=r.alpha*n.globalAlpha,i=n.lineScale_*n.lineWidth;1>i&&(u*=i);t.push("<g_vml_:stroke",' opacity="',u,'"',' joinstyle="',n.lineJoin,'"',' miterlimit="',n.miterLimit,'"',' endcap="',ri(n.lineCap),'"',' weight="',i,'px"',' color="',f,'" />')}function yt(n,t,u,e){var o=n.fillStyle,l=n.scaleX_,a=n.scaleY_,v=e.x-u.x,y=e.y-u.y,p,d,s,it,et,ot;if(o instanceof c){var h=0,w={x:0,y:0},b=0,rt=1;if("gradient"==o.type_){var ht=o.x0_/l,ct=o.y0_/a,lt=o.x1_/l,at=o.y1_/a,p=r(n,ht,ct),ut=r(n,lt,at),vt=ut.x-p.x,yt=ut.y-p.y;h=180*Math.atan2(vt,yt)/Math.PI;0>h&&(h+=360);1e-6>h&&(h=0)}else p=r(n,o.x0_,o.y0_),w={x:(p.x-u.x)/v,y:(p.y-u.y)/y},v/=l*i,y/=a*i,d=f.max(v,y),b=2*o.r0_/d,rt=2*o.r1_/d-b;s=o.colors_;s.sort(function(n,t){return n.offset-t.offset});for(var nt=s.length,pt=s[0].color,wt=s[nt-1].color,bt=s[0].alpha*n.globalAlpha,kt=s[nt-1].alpha*n.globalAlpha,ft=[],tt=0;nt>tt;tt++)it=s[tt],ft.push(it.offset*rt+b+" "+it.color);t.push('<g_vml_:fill type="',o.type_,'"',' method="none" focus="100%"',' color="',pt,'"',' color2="',wt,'"',' colors="',ft.join(","),'"',' opacity="',kt,'"',' g_o_:opacity2="',bt,'"',' angle="',h,'"',' focusposition="',w.x,",",w.y,'" />')}else if(o instanceof g)v&&y&&(et=-u.x,ot=-u.y,t.push("<g_vml_:fill",' position="',et/v*l*l,",",ot/y*a*a,'"',' type="tile"',' src="',o.src_,'" />'));else{var st=k(n.fillStyle),dt=st.color,gt=st.alpha*n.globalAlpha;t.push('<g_vml_:fill color="',dt,'" opacity="',gt,'" />')}}function r(n,t,r){var u=n.m_;return{x:i*(t*u[0][0]+r*u[1][0]+u[2][0])-e,y:i*(t*u[0][1]+r*u[1][1]+u[2][1])-e}}function ui(n){return isFinite(n[0][0])&&isFinite(n[0][1])&&isFinite(n[1][0])&&isFinite(n[1][1])&&isFinite(n[2][0])&&isFinite(n[2][1])}function h(n,t,i){if(ui(t)&&(n.m_=t,n.scaleX_=Math.sqrt(t[0][0]*t[0][0]+t[0][1]*t[0][1]),n.scaleY_=Math.sqrt(t[1][0]*t[1][0]+t[1][1]*t[1][1]),i)){var r=t[0][0]*t[1][1]-t[0][1]*t[1][0];n.lineScale_=oi(ei(r))}}function c(n){this.type_=n;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}function g(n,t){switch(fi(n),t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:nt("SYNTAX_ERR")}this.src_=n.src;this.width_=n.width;this.height_=n.height}function nt(n){throw new tt(n);}function fi(n){n&&1==n.nodeType&&"IMG"==n.tagName||nt("TYPE_MISMATCH_ERR");"complete"!=n.readyState&&nt("INVALID_STATE_ERR")}function tt(n){this.code=this[n];this.message=n+": DOM Exception "+this.code}var f=Math,t=f.round,it=f.sin,rt=f.cos,ei=f.abs,oi=f.sqrt,i=10,e=i/2,pt=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice),ut,o,l,a,u;for(ht(document),ut={init:function(n){var t=n||document;t.createElement("canvas");t.attachEvent("onreadystatechange",bt(this.init_,this,t))},init_:function(n){for(var i=n.getElementsByTagName("canvas"),t=0;t<i.length;t++)this.initElement(i[t])},initElement:function(n){if(!n.getContext){n.getContext=wt;ht(n.ownerDocument);n.innerHTML="";n.attachEvent("onpropertychange",kt);n.attachEvent("onresize",dt);var t=n.attributes;t.width&&t.width.specified?n.style.width=t.width.nodeValue+"px":n.width=n.clientWidth;t.height&&t.height.specified?n.style.height=t.height.nodeValue+"px":n.height=n.clientHeight}return n}},ut.init(),o=[],l=0;16>l;l++)for(a=0;16>a;a++)o[16*l+a]=l.toString(16)+a.toString(16);var si={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ft={},v={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"},et={},hi={butt:"flat",round:"round"},n=d.prototype;n.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};n.beginPath=function(){this.currentPath_=[]};n.moveTo=function(n,t){var i=r(this,n,t);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y});this.currentX_=i.x;this.currentY_=i.y};n.lineTo=function(n,t){var i=r(this,n,t);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y});this.currentX_=i.x;this.currentY_=i.y};n.bezierCurveTo=function(n,t,i,u,f,e){var o=r(this,f,e),s=r(this,n,t),h=r(this,i,u);at(this,s,h,o)};n.quadraticCurveTo=function(n,t,i,u){var o=r(this,n,t),f=r(this,i,u),e={x:this.currentX_+2/3*(o.x-this.currentX_),y:this.currentY_+2/3*(o.y-this.currentY_)},s={x:e.x+(f.x-this.currentX_)/3,y:e.y+(f.y-this.currentY_)/3};at(this,e,s,f)};n.arc=function(n,t,u,f,o,s){u*=i;var y=s?"at":"wa",h=n+rt(f)*u-e,p=t+it(f)*u-e,c=n+rt(o)*u-e,w=t+it(o)*u-e;h!=c||s||(h+=.125);var l=r(this,n,t),a=r(this,h,p),v=r(this,c,w);this.currentPath_.push({type:y,x:l.x,y:l.y,radius:u,xStart:a.x,yStart:a.y,xEnd:v.x,yEnd:v.y})};n.rect=function(n,t,i,r){this.moveTo(n,t);this.lineTo(n+i,t);this.lineTo(n+i,t+r);this.lineTo(n,t+r);this.closePath()};n.strokeRect=function(n,t,i,r){var u=this.currentPath_;this.beginPath();this.moveTo(n,t);this.lineTo(n+i,t);this.lineTo(n+i,t+r);this.lineTo(n,t+r);this.closePath();this.stroke();this.currentPath_=u};n.fillRect=function(n,t,i,r){var u=this.currentPath_;this.beginPath();this.moveTo(n,t);this.lineTo(n+i,t);this.lineTo(n+i,t+r);this.lineTo(n,t+r);this.closePath();this.fill();this.currentPath_=u};n.createLinearGradient=function(n,t,i,r){var u=new c("gradient");return u.x0_=n,u.y0_=t,u.x1_=i,u.y1_=r,u};n.createRadialGradient=function(n,t,i,r,u,f){var e=new c("gradientradial");return e.x0_=n,e.y0_=t,e.r0_=i,e.x1_=r,e.y1_=u,e.r1_=f,e};n.drawImage=function(n){var s,h,e,o,c,l,a,v,ft=n.runtimeStyle.width,et=n.runtimeStyle.height,k,d;if(n.runtimeStyle.width="auto",n.runtimeStyle.height="auto",k=n.width,d=n.height,n.runtimeStyle.width=ft,n.runtimeStyle.height=et,3==arguments.length)s=arguments[1],h=arguments[2],c=l=0,a=e=k,v=o=d;else if(5==arguments.length)s=arguments[1],h=arguments[2],e=arguments[3],o=arguments[4],c=l=0,a=k,v=d;else{if(9!=arguments.length)throw Error("Invalid number of arguments");c=arguments[1];l=arguments[2];a=arguments[3];v=arguments[4];s=arguments[5];h=arguments[6];e=arguments[7];o=arguments[8]}var w=r(this,s,h),u=[],g=10,nt=10,b=y=1;if(u.push(" <g_vml_:group",' coordsize="',i*g,",",i*nt,'"',' coordorigin="0,0"',' style="width:',g,"px;height:",nt,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var tt=[],b=this.scaleX_,y=this.scaleY_;tt.push("M11=",this.m_[0][0]/b,",","M12=",this.m_[1][0]/y,",","M21=",this.m_[0][1]/b,",","M22=",this.m_[1][1]/y,",","Dx=",t(w.x/i),",","Dy=",t(w.y/i),"");var p=w,it=r(this,s+e,h),rt=r(this,s,h+o),ut=r(this,s+e,h+o);p.x=f.max(p.x,it.x,rt.x,ut.x);p.y=f.max(p.y,it.y,rt.y,ut.y);u.push("padding:0 ",t(p.x/i),"px ",t(p.y/i),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",tt.join(""),", SizingMethod='clip');")}else u.push("top:",t(w.y/i),"px;left:",t(w.x/i),"px;");u.push(' ">');(c||l)&&u.push('<div style="overflow: hidden; width:',Math.ceil((e+c*e/a)*b),"px;"," height:",Math.ceil((o+l*o/v)*y),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-c*e/a*b,",Dy=",-l*o/v*y,');">');u.push('<div style="width:',Math.round(b*k*e/a),"px;"," height:",Math.round(y*d*o/v),"px;"," filter:");this.globalAlpha<1&&u.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")");u.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",n.src,',sizingMethod=scale)">');(c||l)&&u.push("<\/div>");u.push("<\/div><\/div>");this.element_.insertAdjacentHTML("BeforeEnd",u.join(""))};n.stroke=function(n){var u=[],s=10,h=10,c,r;u.push("<g_vml_:shape",' filled="',!!n,'"',' style="position:absolute;width:',s,"px;height:",h,'px;"',' coordorigin="0,0"',' coordsize="',i*s,",",i*h,'"',' stroked="',!n,'"',' path="');for(var f={x:null,y:null},e={x:null,y:null},o=0;o<this.currentPath_.length;o++){r=this.currentPath_[o];switch(r.type){case"moveTo":c=r;u.push(" m ",t(r.x),",",t(r.y));break;case"lineTo":u.push(" l ",t(r.x),",",t(r.y));break;case"close":u.push(" x ");r=null;break;case"bezierCurveTo":u.push(" c ",t(r.cp1x),",",t(r.cp1y),",",t(r.cp2x),",",t(r.cp2y),",",t(r.x),",",t(r.y));break;case"at":case"wa":u.push(" ",r.type," ",t(r.x-this.scaleX_*r.radius),",",t(r.y-this.scaleY_*r.radius)," ",t(r.x+this.scaleX_*r.radius),",",t(r.y+this.scaleY_*r.radius)," ",t(r.xStart),",",t(r.yStart)," ",t(r.xEnd),",",t(r.yEnd))}r&&((null==f.x||r.x<f.x)&&(f.x=r.x),(null==e.x||r.x>e.x)&&(e.x=r.x),(null==f.y||r.y<f.y)&&(f.y=r.y),(null==e.y||r.y>e.y)&&(e.y=r.y))}u.push(' ">');n?yt(this,u,f,e):vt(this,u);u.push("<\/g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",u.join(""))};n.fill=function(){this.stroke(!0)};n.closePath=function(){this.currentPath_.push({type:"close"})};n.save=function(){var n={};ct(this,n);this.aStack_.push(n);this.mStack_.push(this.m_);this.m_=s(y(),this.m_)};n.restore=function(){this.aStack_.length&&(ct(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};n.translate=function(n,t){var i=[[1,0,0],[0,1,0],[n,t,1]];h(this,s(i,this.m_),!1)};n.rotate=function(n){var t=rt(n),i=it(n),r=[[t,i,0],[-i,t,0],[0,0,1]];h(this,s(r,this.m_),!1)};n.scale=function(n,t){var i=[[n,0,0],[0,t,0],[0,0,1]];h(this,s(i,this.m_),!0)};n.transform=function(n,t,i,r,u,f){var e=[[n,t,0],[i,r,0],[u,f,1]];h(this,s(e,this.m_),!0)};n.setTransform=function(n,t,i,r,u,f){var e=[[n,t,0],[i,r,0],[u,f,1]];h(this,e,!0)};n.drawText_=function(n,u,f,e,o){var l=this.m_,p=1e3,h=0,a=p,v={x:0,y:0},c=[],y=ti(ni(this.font),this.element_),g=ii(y),b=this.element_.currentStyle,s=this.textAlign.toLowerCase(),w,k,d;switch(s){case"left":case"center":case"right":break;case"end":s="ltr"==b.direction?"right":"left";break;case"start":s="rtl"==b.direction?"right":"left";break;default:s="left"}switch(this.textBaseline){case"hanging":case"top":v.y=y.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":v.y=-y.size/2.25}switch(s){case"right":h=p;a=.05;break;case"center":h=a=p/2}w=r(this,u+v.x,f+v.y);c.push('<g_vml_:line from="',-h,' 0" to="',a,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">');o?vt(this,c):yt(this,c,{x:-h,y:0},{x:a,y:y.size});k=l[0][0].toFixed(3)+","+l[1][0].toFixed(3)+","+l[0][1].toFixed(3)+","+l[1][1].toFixed(3)+",0,0";d=t(w.x/i)+","+t(w.y/i);c.push('<g_vml_:skew on="t" matrix="',k,'" ',' offset="',d,'" origin="',h,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',ot(n),'" style="v-text-align:',s,";font:",ot(g),'" /><\/g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",c.join(""))};n.fillText=function(n,t,i,r){this.drawText_(n,t,i,r,!1)};n.strokeText=function(n,t,i,r){this.drawText_(n,t,i,r,!0)};n.measureText=function(n){var t,i;this.textMeasureEl_||(t='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"><\/span>',this.element_.insertAdjacentHTML("beforeEnd",t),this.textMeasureEl_=this.element_.lastChild);i=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(r){}return this.textMeasureEl_.appendChild(i.createTextNode(n)),{width:this.textMeasureEl_.offsetWidth}};n.clip=function(){};n.arcTo=function(){};n.createPattern=function(n,t){return new g(n,t)};c.prototype.addColorStop=function(n,t){t=k(t);this.colors_.push({offset:n,color:t.color,alpha:t.alpha})};u=tt.prototype=new Error;u.INDEX_SIZE_ERR=1;u.DOMSTRING_SIZE_ERR=2;u.HIERARCHY_REQUEST_ERR=3;u.WRONG_DOCUMENT_ERR=4;u.INVALID_CHARACTER_ERR=5;u.NO_DATA_ALLOWED_ERR=6;u.NO_MODIFICATION_ALLOWED_ERR=7;u.NOT_FOUND_ERR=8;u.NOT_SUPPORTED_ERR=9;u.INUSE_ATTRIBUTE_ERR=10;u.INVALID_STATE_ERR=11;u.SYNTAX_ERR=12;u.INVALID_MODIFICATION_ERR=13;u.NAMESPACE_ERR=14;u.INVALID_ACCESS_ERR=15;u.VALIDATION_ERR=16;u.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=ut;CanvasRenderingContext2D=d;CanvasGradient=c;CanvasPattern=g;DOMException=tt}(),G_vmlCanvasManager});define("zrender/mixin/Eventful",["require"],function(){var n=function(){this._handlers={}};return n.prototype.one=function(n,t,i){var r=this._handlers;return t&&n?(r[n]||(r[n]=[]),r[n].push({h:t,one:!0,ctx:i||this}),this):this},n.prototype.bind=function(n,t,i){var r=this._handlers;return t&&n?(r[n]||(r[n]=[]),r[n].push({h:t,one:!1,ctx:i||this}),this):this},n.prototype.unbind=function(n,t){var i=this._handlers;if(!n)return this._handlers={},this;if(t){if(i[n]){for(var u=[],r=0,f=i[n].length;f>r;r++)i[n][r].h!=t&&u.push(i[n][r]);i[n]=u}i[n]&&0===i[n].length&&delete i[n]}else delete i[n];return this},n.prototype.dispatch=function(n){var r,u;if(this._handlers[n]){r=arguments;u=r.length;u>3&&(r=Array.prototype.slice.call(r,1));for(var i=this._handlers[n],f=i.length,t=0;f>t;){switch(u){case 1:i[t].h.call(i[t].ctx);break;case 2:i[t].h.call(i[t].ctx,r[1]);break;case 3:i[t].h.call(i[t].ctx,r[1],r[2]);break;default:i[t].h.apply(i[t].ctx,r)}i[t].one?(i.splice(t,1),f--):t++}}return this},n.prototype.dispatchWithContext=function(n){var t,f;if(this._handlers[n]){t=arguments;f=t.length;f>4&&(t=Array.prototype.slice.call(t,1,t.length-1));for(var u=t[t.length-1],r=this._handlers[n],e=r.length,i=0;e>i;){switch(f){case 1:r[i].h.call(u);break;case 2:r[i].h.call(u,t[1]);break;case 3:r[i].h.call(u,t[1],t[2]);break;default:r[i].h.apply(u,t)}r[i].one?(r.splice(i,1),e--):i++}}return this},n});define("zrender/tool/log",["require","../config"],function(n){var t=n("../config");return function(){var n;if(0!==t.debugMode)if(1==t.debugMode)for(n in arguments)throw new Error(arguments[n]);else if(t.debugMode>1)for(n in arguments)console.log(arguments[n])}});define("zrender/tool/guid",[],function(){var n=2311;return function(){return"zrender__"+n++}});define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(n){"use strict";function l(n,t){return function(i,r){return n.call(t,i,r)}}function a(n,t){return function(i,r,u){return n.call(t,i,r,u)}}function v(n){for(var i,t=c.length;t--;)i=c[t],n["_"+i+"Handler"]=l(b[i],n)}function y(n,t,i){var r,u;if(this._draggingTarget&&this._draggingTarget.id==n.id||n.isSilent())return!1;if(r=this._event,n.isCover(t,i)){for(n.hoverable&&this.storage.addHover(n),u=n.parent;u;){if(u.clipShape&&!u.clipShape.isCover(this._mouseX,this._mouseY))return!1;u=u.parent}return this._lastHover!=n&&(this._processOutShape(r),this._processDragLeave(r),this._lastHover=n,this._processDragEnter(r)),this._processOverShape(r),this._processDragOver(r),this._hasfound=1,!0}return!1}var o=n("./config"),f=n("./tool/env"),u=n("./tool/event"),p=n("./tool/util"),w=n("./tool/vector"),s=n("./tool/matrix"),t=o.EVENT,h=n("./mixin/Eventful"),c=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],r=function(n){if(window.G_vmlCanvasManager)return!0;n=n||window.event;var t=n.toElement||n.relatedTarget||n.srcElement||n.target;return t&&t.className.match(o.elementClassName)},b={resize:function(n){n=n||window.event;this._lastHover=null;this._isMouseDown=0;this.dispatch(t.RESIZE,n)},click:function(n,i){if(r(n)||i){n=this._zrenderEventFixed(n);var u=this._lastHover;(u&&u.clickable||!u)&&this._clickThreshold<5&&this._dispatchAgency(u,t.CLICK,n);this._mousemoveHandler(n)}},dblclick:function(n,i){if(r(n)||i){n=n||window.event;n=this._zrenderEventFixed(n);var u=this._lastHover;(u&&u.clickable||!u)&&this._clickThreshold<5&&this._dispatchAgency(u,t.DBLCLICK,n);this._mousemoveHandler(n)}},mousewheel:function(n,i){if(r(n)||i){n=this._zrenderEventFixed(n);var o=n.wheelDelta||-n.detail,f=o>0?1.1:1/1.1,e=!1,s=this._mouseX,h=this._mouseY;this.painter.eachBuildinLayer(function(t){var r=t.position,i;t.zoomable&&(t.__zoom=t.__zoom||1,i=t.__zoom,i*=f,i=Math.max(Math.min(t.maxZoom,i),t.minZoom),f=i/t.__zoom,t.__zoom=i,r[0]-=(s-r[0])*(f-1),r[1]-=(h-r[1])*(f-1),t.scale[0]*=f,t.scale[1]*=f,t.dirty=!0,e=!0,u.stop(n))});e&&this.painter.refresh();this._dispatchAgency(this._lastHover,t.MOUSEWHEEL,n);this._mousemoveHandler(n)}},mousemove:function(n,i){var e,o,f,s;(r(n)||i)&&!this.painter.isLoading()&&(n=this._zrenderEventFixed(n),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=u.getX(n),this._mouseY=u.getY(n),e=this._mouseX-this._lastX,o=this._mouseY-this._lastY,this._processDragStart(n),this._hasfound=0,this._event=n,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(n),this._processDragLeave(n)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover()),f="default",this._draggingTarget?(this.storage.drift(this._draggingTarget.id,e,o),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++):this._isMouseDown&&(s=!1,this.painter.eachBuildinLayer(function(n){n.panable&&(f="move",n.position[0]+=e,n.position[1]+=o,s=!0,n.dirty=!0)}),s&&this.painter.refresh()),this._draggingTarget||this._hasfound&&this._lastHover.draggable?f="move":this._hasfound&&this._lastHover.clickable&&(f="pointer"),this.root.style.cursor=f,this._dispatchAgency(this._lastHover,t.MOUSEMOVE,n),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover())},mouseout:function(n,i){if(r(n)||i){n=this._zrenderEventFixed(n);var u=n.toElement||n.relatedTarget;if(u!=this.root)for(;u&&9!=u.nodeType;){if(u==this.root)return void this._mousemoveHandler(n);u=u.parentNode}n.zrenderX=this._lastX;n.zrenderY=this._lastY;this.root.style.cursor="default";this._isMouseDown=0;this._processOutShape(n);this._processDrop(n);this._processDragEnd(n);this.painter.isLoading()||this.painter.refreshHover();this.dispatch(t.GLOBALOUT,n)}},mousedown:function(n,i){if(r(n)||i){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=n.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date;n=this._zrenderEventFixed(n);this._isMouseDown=1;this._mouseDownTarget=this._lastHover;this._dispatchAgency(this._lastHover,t.MOUSEDOWN,n);this._lastDownButton=n.button}},mouseup:function(n,i){(r(n)||i)&&(n=this._zrenderEventFixed(n),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,t.MOUSEUP,n),this._processDrop(n),this._processDragEnd(n))},touchstart:function(n,t){(r(n)||t)&&(n=this._zrenderEventFixed(n,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(n),this._mousedownHandler(n))},touchmove:function(n,t){(r(n)||t)&&(n=this._zrenderEventFixed(n,!0),this._mousemoveHandler(n),this._isDragging&&u.stop(n))},touchend:function(n,i){if(r(n)||i){n=this._zrenderEventFixed(n,!0);this._mouseupHandler(n);var f=new Date;f-this._lastTouchMoment<t.touchClickDelay&&(this._mobileFindFixed(n),this._clickHandler(n),f-this._lastClickMoment<t.touchClickDelay/2&&(this._dblclickHandler(n),this._lastHover&&this._lastHover.clickable&&u.stop(n)),this._lastClickMoment=f);this.painter.clearHover()}}},i=function(n,t,i){h.call(this);this.root=n;this.storage=t;this.painter=i;this._lastX=this._lastY=this._mouseX=this._mouseY=0;this._findHover=a(y,this);this._domHover=i.getDomHover();v(this);window.addEventListener?(window.addEventListener("resize",this._resizeHandler),f.os.tablet||f.os.phone?(n.addEventListener("touchstart",this._touchstartHandler),n.addEventListener("touchmove",this._touchmoveHandler),n.addEventListener("touchend",this._touchendHandler)):(n.addEventListener("click",this._clickHandler),n.addEventListener("dblclick",this._dblclickHandler),n.addEventListener("mousewheel",this._mousewheelHandler),n.addEventListener("mousemove",this._mousemoveHandler),n.addEventListener("mousedown",this._mousedownHandler),n.addEventListener("mouseup",this._mouseupHandler)),n.addEventListener("DOMMouseScroll",this._mousewheelHandler),n.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),n.attachEvent("onclick",this._clickHandler),n.ondblclick=this._dblclickHandler,n.attachEvent("onmousewheel",this._mousewheelHandler),n.attachEvent("onmousemove",this._mousemoveHandler),n.attachEvent("onmouseout",this._mouseoutHandler),n.attachEvent("onmousedown",this._mousedownHandler),n.attachEvent("onmouseup",this._mouseupHandler))},e;return i.prototype.on=function(n,t,i){return this.bind(n,t,i),this},i.prototype.un=function(n,t){return this.unbind(n,t),this},i.prototype.trigger=function(n,i){switch(n){case t.RESIZE:case t.CLICK:case t.DBLCLICK:case t.MOUSEWHEEL:case t.MOUSEMOVE:case t.MOUSEDOWN:case t.MOUSEUP:case t.MOUSEOUT:this["_"+n+"Handler"](i,!0)}},i.prototype.dispose=function(){var n=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),f.os.tablet||f.os.phone?(n.removeEventListener("touchstart",this._touchstartHandler),n.removeEventListener("touchmove",this._touchmoveHandler),n.removeEventListener("touchend",this._touchendHandler)):(n.removeEventListener("click",this._clickHandler),n.removeEventListener("dblclick",this._dblclickHandler),n.removeEventListener("mousewheel",this._mousewheelHandler),n.removeEventListener("mousemove",this._mousemoveHandler),n.removeEventListener("mousedown",this._mousedownHandler),n.removeEventListener("mouseup",this._mouseupHandler)),n.removeEventListener("DOMMouseScroll",this._mousewheelHandler),n.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),n.detachEvent("onclick",this._clickHandler),n.detachEvent("dblclick",this._dblclickHandler),n.detachEvent("onmousewheel",this._mousewheelHandler),n.detachEvent("onmousemove",this._mousemoveHandler),n.detachEvent("onmouseout",this._mouseoutHandler),n.detachEvent("onmousedown",this._mousedownHandler),n.detachEvent("onmouseup",this._mouseupHandler));this.root=this._domHover=this.storage=this.painter=null;this.un()},i.prototype._processDragStart=function(n){var i=this._lastHover,r;if(this._isMouseDown&&i&&i.draggable&&!this._draggingTarget&&this._mouseDownTarget==i){if(i.dragEnableTime&&new Date-this._lastMouseDownMoment<i.dragEnableTime)return;r=i;this._draggingTarget=r;this._isDragging=1;r.invisible=!0;this.storage.mod(r.id);this._dispatchAgency(r,t.DRAGSTART,n);this.painter.refresh()}},i.prototype._processDragEnter=function(n){this._draggingTarget&&this._dispatchAgency(this._lastHover,t.DRAGENTER,n,this._draggingTarget)},i.prototype._processDragOver=function(n){this._draggingTarget&&this._dispatchAgency(this._lastHover,t.DRAGOVER,n,this._draggingTarget)},i.prototype._processDragLeave=function(n){this._draggingTarget&&this._dispatchAgency(this._lastHover,t.DRAGLEAVE,n,this._draggingTarget)},i.prototype._processDrop=function(n){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,t.DROP,n,this._draggingTarget))},i.prototype._processDragEnd=function(n){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,t.DRAGEND,n),this._lastHover=null);this._isDragging=0;this._draggingTarget=null},i.prototype._processOverShape=function(n){this._dispatchAgency(this._lastHover,t.MOUSEOVER,n)},i.prototype._processOutShape=function(n){this._dispatchAgency(this._lastHover,t.MOUSEOUT,n)},i.prototype._dispatchAgency=function(n,t,i,r){var e="on"+t,u={type:t,event:i,target:n,cancelBubble:!1},f=n,o;for(r&&(u.dragged=r);f&&(f[e]&&(u.cancelBubble=f[e](u)),f.dispatch(t,u),f=f.parent,!u.cancelBubble););n?u.cancelBubble||this.dispatch(t,u):r||(o={type:t,event:i},this.dispatch(t,o),this.painter.eachOtherLayer(function(n){"function"==typeof n[e]&&n[e](o);n.dispatch&&n.dispatch(t,o)}))},i.prototype._iterateAndFindHover=function(){var n=s.create();return function(){for(var r,e,i,f=this.storage.getShapeList(),t=[0,0],u=f.length-1;u>=0;u--)if(r=f[u],e!==r.zlevel&&(i=this.painter.getLayer(r.zlevel,i),t[0]=this._mouseX,t[1]=this._mouseY,i.needTransform&&(s.invert(n,i.transform),w.applyTransform(t,t,n))),this._findHover(r,t[0],t[1]))break}}(),e=[{x:10},{x:-20},{x:10,y:10},{y:-20}],i.prototype._mobileFindFixed=function(n){var i,t;for(this._lastHover=null,this._mouseX=n.zrenderX,this._mouseY=n.zrenderY,this._event=n,this._iterateAndFindHover(),i=0;!this._lastHover&&i<e.length;i++)t=e[i],t.x&&(this._mouseX+=t.x),t.y&&(this._mouseY+=t.y),this._iterateAndFindHover();this._lastHover&&(n.zrenderX=this._mouseX,n.zrenderY=this._mouseY)},i.prototype._zrenderEventFixed=function(n,t){var r,u,i;return n.zrenderFixed?n:(t?(r="touchend"!=n.type?n.targetTouches[0]:n.changedTouches[0],r&&(u=this.painter._domRoot.getBoundingClientRect(),n.zrenderX=r.clientX-u.left,n.zrenderY=r.clientY-u.top)):(n=n||window.event,i=n.toElement||n.relatedTarget||n.srcElement||n.target,i&&i!=this._domHover&&(n.zrenderX=("undefined"!=typeof n.offsetX?n.offsetX:n.layerX)+i.offsetLeft,n.zrenderY=("undefined"!=typeof n.offsetY?n.offsetY:n.layerY)+i.offsetTop)),n.zrenderFixed=1,n)},p.merge(i.prototype,h.prototype,!0),i});define("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(n){"use strict";function e(){return!1}function o(){}function s(n){return n?n.isBuildin?!0:"function"!=typeof n.resize||"function"!=typeof n.refresh?!1:!0:!1}var r=n("./config"),u=n("./tool/util"),i=n("./tool/log"),h=n("./loadingEffect/Base"),f=n("./Layer"),t=function(n,t){var i,u;this.root=n;n.style["-webkit-tap-highlight-color"]="transparent";n.style["-webkit-user-select"]="none";n.style["user-select"]="none";n.style["-webkit-touch-callout"]="none";this.storage=t;n.innerHTML="";this._width=this._getWidth();this._height=this._getHeight();i=document.createElement("div");this._domRoot=i;i.style.position="relative";i.style.overflow="hidden";i.style.width=this._width+"px";i.style.height=this._height+"px";n.appendChild(i);this._layers={};this._zlevelList=[];this._layerConfig={};this._loadingEffect=new h({});this.shapeToImage=this._createShapeToImageProcessor();this._bgDom=document.createElement("div");this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join("");this._bgDom.setAttribute("data-zr-dom-id","bg");this._bgDom.className=r.elementClassName;i.appendChild(this._bgDom);this._bgDom.onselectstart=e;u=new f("_zrender_hover_",this);this._layers.hover=u;i.appendChild(u.dom);u.initContext();u.dom.onselectstart=e;u.dom.style["-webkit-user-select"]="none";u.dom.style["user-select"]="none";u.dom.style["-webkit-touch-callout"]="none";this.refreshNextFrame=null};return t.prototype.render=function(n){return this.isLoading()&&this.hideLoading(),this.refresh(n,!0),this},t.prototype.refresh=function(n,t){var f=this.storage.getShapeList(!0),i,u,r;for(this._paintList(f,t),i=0;i<this._zlevelList.length;i++)u=this._zlevelList[i],r=this._layers[u],!r.isBuildin&&r.refresh&&r.refresh();return"function"==typeof n&&n(),this},t.prototype._preProcessLayer=function(n){n.unusedCount++;n.updateTransform()},t.prototype._postProcessLayer=function(n){n.dirty=!1;1==n.unusedCount&&n.clear()},t.prototype._paintList=function(n,t){var u,o,f,s,h,e;for("undefined"==typeof t&&(t=!1),this._updateLayerStatus(n),this.eachBuildinLayer(this._preProcessLayer),s=0,h=n.length;h>s;s++){if(e=n[s],o!==e.zlevel&&(u&&(u.needTransform&&f.restore(),f.flush&&f.flush()),o=e.zlevel,u=this.getLayer(o),u.isBuildin||i("ZLevel "+o+" has been used by unkown layer "+u.id),f=u.ctx,u.unusedCount=0,(u.dirty||t)&&u.clear(),u.needTransform&&(f.save(),u.setTransform(f))),(u.dirty||t)&&!e.invisible&&(!e.onbrush||e.onbrush&&!e.onbrush(f,!1)))if(r.catchBrushException)try{e.brush(f,!1,this.refreshNextFrame)}catch(c){i(c,"brush error of "+e.type,e)}else e.brush(f,!1,this.refreshNextFrame);e.__dirty=!1}u&&(u.needTransform&&f.restore(),f.flush&&f.flush());this.eachBuildinLayer(this._postProcessLayer)},t.prototype.getLayer=function(n){var t=this._layers[n];return t||(t=new f(n,this),t.isBuildin=!0,this._layerConfig[n]&&u.merge(t,this._layerConfig[n],!0),t.updateTransform(),this.insertLayer(n,t),t.initContext()),t},t.prototype.insertLayer=function(n,t){var u;if(this._layers[n])return void i("ZLevel "+n+" has been used already");if(!s(t))return void i("Layer of zlevel "+n+" is not valid");var e=this._zlevelList.length,f=null,r=-1;if(e>0&&n>this._zlevelList[0]){for(r=0;e-1>r&&!(this._zlevelList[r]<n&&this._zlevelList[r+1]>n);r++);f=this._layers[this._zlevelList[r]]}this._zlevelList.splice(r+1,0,n);u=f?f.dom:this._bgDom;u.nextSibling?u.parentNode.insertBefore(t.dom,u.nextSibling):u.parentNode.appendChild(t.dom);this._layers[n]=t},t.prototype.eachLayer=function(n,t){for(var r,i=0;i<this._zlevelList.length;i++)r=this._zlevelList[i],n.call(t,this._layers[r],r)},t.prototype.eachBuildinLayer=function(n,t){for(var r,u,i=0;i<this._zlevelList.length;i++)r=this._zlevelList[i],u=this._layers[r],u.isBuildin&&n.call(t,u,r)},t.prototype.eachOtherLayer=function(n,t){for(var r,u,i=0;i<this._zlevelList.length;i++)r=this._zlevelList[i],u=this._layers[r],u.isBuildin||n.call(t,u,r)},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(n){var e=this._layers,r={},t,u;for(this.eachBuildinLayer(function(n,t){r[t]=n.elCount;n.elCount=0}),t=0,u=n.length;u>t;t++){var f=n[t],o=f.zlevel,i=e[o];if(i){if(i.elCount++,i.dirty)continue;i.dirty=f.__dirty}}this.eachBuildinLayer(function(n,t){r[t]!==n.elCount&&(n.dirty=!0)})},t.prototype.refreshShapes=function(n,t){for(var u,i=0,r=n.length;r>i;i++)u=n[i],u.modSelf();return this.refresh(t),this},t.prototype.setLoadingEffect=function(n){return this._loadingEffect=n,this},t.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},t.prototype._clearLayer=function(n){n.clear()},t.prototype.modLayer=function(n,t){if(t){this._layerConfig[n]?u.merge(this._layerConfig[n],t,!0):this._layerConfig[n]=t;var i=this._layers[n];i&&u.merge(i,this._layerConfig[n],!0)}},t.prototype.delLayer=function(n){var t=this._layers[n];t&&(this.modLayer(n,{position:t.position,rotation:t.rotation,scale:t.scale}),t.dom.parentNode.removeChild(t.dom),delete this._layers[n],this._zlevelList.splice(u.indexOf(this._zlevelList,n),1))},t.prototype.refreshHover=function(){var t;this.clearHover();for(var i=this.storage.getHoverShapes(!0),n=0,r=i.length;r>n;n++)this._brushHover(i[n]);return t=this._layers.hover.ctx,t.flush&&t.flush(),this.storage.delHover(),this},t.prototype.clearHover=function(){var n=this._layers.hover;return n&&n.clear(),this},t.prototype.showLoading=function(n){return this._loadingEffect&&this._loadingEffect.stop(),n&&this.setLoadingEffect(n),this._loadingEffect.start(this),this.loading=!0,this},t.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},t.prototype.isLoading=function(){return this.loading},t.prototype.resize=function(){var i=this._domRoot,n,t,r;if(i.style.display="none",n=this._getWidth(),t=this._getHeight(),i.style.display="",this._width!=n||t!=this._height){this._width=n;this._height=t;i.style.width=n+"px";i.style.height=t+"px";for(r in this._layers)this._layers[r].resize(n,t);this.refresh(null,!0)}return this},t.prototype.clearLayer=function(n){var t=this._layers[n];t&&t.clear()},t.prototype.dispose=function(){this.isLoading()&&this.hideLoading();this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getDomHover=function(){return this._layers.hover.dom},t.prototype.toDataURL=function(n,t,u){var e,o,s,h;return window.G_vmlCanvasManager?null:(e=new f("image",this),this._bgDom.appendChild(e.dom),e.initContext(),o=e.ctx,e.clearColor=t||"#fff",e.clear(),s=this,this.storage.iterShape(function(n){if(!n.invisible&&(!n.onbrush||n.onbrush&&!n.onbrush(o,!1)))if(r.catchBrushException)try{n.brush(o,!1,s.refreshNextFrame)}catch(t){i(t,"brush error of "+n.type,n)}else n.brush(o,!1,s.refreshNextFrame)},{normal:"up",update:!0}),h=e.dom.toDataURL(n,u),o=null,this._bgDom.removeChild(e.dom),h)},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getWidth=function(){var n=this.root,t=n.currentStyle||document.defaultView.getComputedStyle(n);return((n.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10)).toFixed(0)-0},t.prototype._getHeight=function(){var n=this.root,t=n.currentStyle||document.defaultView.getComputedStyle(n);return((n.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)).toFixed(0)-0},t.prototype._brushHover=function(n){var t=this._layers.hover.ctx,u;if(!n.onbrush||n.onbrush&&!n.onbrush(t,!0)){if(u=this.getLayer(n.zlevel),u.needTransform&&(t.save(),u.setTransform(t)),r.catchBrushException)try{n.brush(t,!0,this.refreshNextFrame)}catch(f){i(f,"hoverBrush error of "+n.type,n)}else n.brush(t,!0,this.refreshNextFrame);u.needTransform&&t.restore()}},t.prototype._shapeToImage=function(t,i,r,u,f){var o=document.createElement("canvas"),h=o.getContext("2d"),e,c,s;return o.style.width=r+"px",o.style.height=u+"px",o.setAttribute("width",r*f),o.setAttribute("height",u*f),h.clearRect(0,0,r*f,u*f),e={position:i.position,rotation:i.rotation,scale:i.scale},i.position=[0,0,0],i.rotation=0,i.scale=[1,1],i&&i.brush(h,!1),c=n("./shape/Image"),s=new c({id:t,style:{x:0,y:0,image:o}}),null!=e.position&&(s.position=i.position=e.position),null!=e.rotation&&(s.rotation=i.rotation=e.rotation),null!=e.scale&&(s.scale=i.scale=e.scale),s},t.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager)return o;var n=this;return function(t,i,u,f){return n._shapeToImage(t,i,u,f,r.devicePixelRatio)}},t});define("zrender/Storage",["require","./tool/util","./Group"],function(n){"use strict";function u(n,t){return n.zlevel==t.zlevel?n.z==t.z?n.__renderidx-t.__renderidx:n.z-t.z:n.zlevel-t.zlevel}var r=n("./tool/util"),i=n("./Group"),f={hover:!1,normal:"down",update:!1},t=function(){this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0};return t.prototype.iterShape=function(n,t){var u,i,r;if(t||(t=f),t.hover)for(i=0,r=this._hoverElements.length;r>i;i++)if(u=this._hoverElements[i],u.updateTransform(),n(u))return this;switch(t.update&&this.updateShapeList(),t.normal){case"down":for(r=this._shapeList.length;r--;)if(n(this._shapeList[r]))return this;break;default:for(i=0,r=this._shapeList.length;r>i;i++)if(n(this._shapeList[i]))return this}return this},t.prototype.getHoverShapes=function(n){for(var t,o,f,s,r=[],i=0,e=this._hoverElements.length;e>i;i++)if(r.push(this._hoverElements[i]),t=this._hoverElements[i].hoverConnect,t)for(t=t instanceof Array?t:[t],f=0,s=t.length;s>f;f++)o=t[f].id?t[f]:this.get(t[f]),o&&r.push(o);if(r.sort(u),n)for(i=0,e=r.length;e>i;i++)r[i].updateTransform();return r},t.prototype.getShapeList=function(n){return n&&this.updateShapeList(),this._shapeList},t.prototype.updateShapeList=function(){var i,n,t;for(this._shapeListOffset=0,n=0,t=this._roots.length;t>n;n++)i=this._roots[n],this._updateAndAddShape(i);for(this._shapeList.length=this._shapeListOffset,n=0,t=this._shapeList.length;t>n;n++)this._shapeList[n].__renderidx=n;this._shapeList.sort(u)},t.prototype._updateAndAddShape=function(n,t){var i,r;if(!n.ignore)if(n.updateTransform(),n.clipShape&&(n.clipShape.parent=n,n.clipShape.updateTransform(),t?(t=t.slice(),t.push(n.clipShape)):t=[n.clipShape]),"group"==n.type){for(i=0;i<n._children.length;i++)r=n._children[i],r.__dirty=n.__dirty||r.__dirty,this._updateAndAddShape(r,t);n.__dirty=!1}else n.__clipShapes=t,this._shapeList[this._shapeListOffset++]=n},t.prototype.mod=function(n,t){var u,i;if("string"==typeof n&&(n=this._elements[n]),n&&(n.modSelf(),t))if(t.parent||t._storage||t.__clipShapes){u={};for(i in t)"parent"!==i&&"_storage"!==i&&"__clipShapes"!==i&&t.hasOwnProperty(i)&&(u[i]=t[i]);r.merge(n,u,!0)}else r.merge(n,t,!0);return this},t.prototype.drift=function(n,t,i){var r=this._elements[n];return r&&(r.needTransform=!0,"horizontal"===r.draggable?i=0:"vertical"===r.draggable&&(t=0),(!r.ondrift||r.ondrift&&!r.ondrift(t,i))&&r.drift(t,i)),this},t.prototype.addHover=function(n){return n.updateNeedTransform(),this._hoverElements.push(n),this},t.prototype.delHover=function(){return this._hoverElements=[],this},t.prototype.hasHoverShape=function(){return this._hoverElements.length>0},t.prototype.addRoot=function(n){this._elements[n.id]||(n instanceof i&&n.addChildrenToStorage(this),this.addToMap(n),this._roots.push(n))},t.prototype.delRoot=function(n){var f,t,o,u,e;if("undefined"==typeof n){for(t=0;t<this._roots.length;t++)f=this._roots[t],f instanceof i&&f.delChildrenFromStorage(this);return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void(this._shapeListOffset=0)}if(n instanceof Array)for(t=0,o=n.length;o>t;t++)this.delRoot(n[t]);else u="string"==typeof n?this._elements[n]:n,e=r.indexOf(this._roots,u),e>=0&&(this.delFromMap(u.id),this._roots.splice(e,1),u instanceof i&&u.delChildrenFromStorage(this))},t.prototype.addToMap=function(n){return n instanceof i&&(n._storage=this),n.modSelf(),this._elements[n.id]=n,this},t.prototype.get=function(n){return this._elements[n]},t.prototype.delFromMap=function(n){var t=this._elements[n];return t&&(delete this._elements[n],t instanceof i&&(t._storage=null)),this},t.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},t});define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(n){"use strict";function v(n,t){return n[t]}function y(n,t,i){n[t]=i}function r(n,t,i){return(t-n)*i+n}function e(n,t,i,u,f){var s=n.length,h,e,o;if(1==f)for(e=0;s>e;e++)u[e]=r(n[e],t[e],i);else for(h=n[0].length,e=0;s>e;e++)for(o=0;h>o;o++)u[e][o]=r(n[e][o],t[e][o],i)}function t(n){switch(typeof n){case"undefined":case"string":return!1}return"undefined"!=typeof n.length}function o(n,t,i,r,f,e,o,s,h){var a=n.length,v,c,l;if(1==h)for(c=0;a>c;c++)s[c]=u(n[c],t[c],i[c],r[c],f,e,o);else for(v=n[0].length,c=0;a>c;c++)for(l=0;v>l;l++)s[c][l]=u(n[c][l],t[c][l],i[c][l],r[c][l],f,e,o)}function u(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function p(n){var u,r,i;if(t(n)){if(u=n.length,t(n[0])){for(r=[],i=0;u>i;i++)r.push(a.call(n[i]));return r}return a.call(n)}return n}function s(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}var w=n("./Clip"),b=n("../tool/color"),h=n("../tool/util"),c=n("../tool/event").Dispatcher,l=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(n){setTimeout(n,16)},a=Array.prototype.slice,i=function(n){n=n||{};this.stage=n.stage||{};this.onframe=n.onframe||function(){};this._clips=[];this._running=!1;this._time=0;c.call(this)},f;return i.prototype={add:function(n){this._clips.push(n)},remove:function(n){if(n.__inStep)n.__needsRemove=!0;else{var t=h.indexOf(this._clips,n);t>=0&&this._clips.splice(t,1)}},_update:function(){for(var r,e,u=(new Date).getTime(),o=u-this._time,t=this._clips,i=t.length,f=[],s=[],n=0;i>n;n++)r=t[n],r.__inStep=!0,e=r.step(u),r.__inStep=!1,e&&(f.push(e),s.push(r));for(n=0;i>n;)t[n].__needsRemove?(t[n]=t[i-1],t.pop(),i--):n++;for(i=f.length,n=0;i>n;n++)s[n].fire(f[n]);this._time=u;this.onframe(o);this.dispatch("frame",o);this.stage.update&&this.stage.update()},start:function(){function n(){t._running&&(l(n),t._update())}var t=this;this._running=!0;this._time=(new Date).getTime();l(n)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(n,t){t=t||{};var i=new f(n,t.loop,t.getter,t.setter);return i.animation=this,i},constructor:i},h.merge(i.prototype,c.prototype,!0),f=function(n,t,i,r){this._tracks={};this._target=n;this._loop=t||!1;this._getter=i||v;this._setter=r||y;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]},f.prototype={when:function(n,t){for(var i in t)this._tracks[i]||(this._tracks[i]=[],0!==n&&this._tracks[i].push({time:0,value:p(this._getter(this._target,i))})),this._tracks[i].push({time:parseInt(n,10),value:t[i]});return this},during:function(n){return this._onframeList.push(n),this},start:function(n){var i=this,f=this._setter,h=this._getter,l="spline"===n,a=function(){if(i._clipCount--,0===i._clipCount){i._tracks={};for(var t=i._doneList.length,n=0;t>n;n++)i._doneList[n].call(i)}},v=function(c,v){var k=c.length,ct,g,yt,y,p,rt,ut,ft,et,ot,lt,tt,pt,st;if(k){var at=c[0].value,ht=t(at),it=!1,vt=ht&&t(at[0])?2:1;if(c.sort(function(n,t){return n.time-t.time}),k){ct=c[k-1].time;for(var nt=[],d=[],y=0;k>y;y++)nt.push(c[y].time/ct),g=c[y].value,"string"==typeof g&&(g=b.toArray(g),0===g.length&&(g[0]=g[1]=g[2]=0,g[3]=1),it=!0),d.push(g);ot=0;lt=0;it&&(tt=[0,0,0,0]);pt=function(n,t){var a,c;if(lt>t){for(yt=Math.min(ot+1,k-1),y=yt;y>=0&&!(nt[y]<=t);y--);y=Math.min(y,k-2)}else{for(y=ot;k>y&&!(nt[y]>t);y++);y=Math.min(y-1,k-2)}if(ot=y,lt=t,a=nt[y+1]-nt[y],0!==a)for((p=(t-nt[y])/a,l)?(ut=d[y],rt=d[0===y?y:y-1],ft=d[y>k-2?k-1:y+1],et=d[y>k-3?k-1:y+2],ht)?o(rt,ut,ft,et,p,p*p,p*p*p,h(n,v),vt):(it?(c=o(rt,ut,ft,et,p,p*p,p*p*p,tt,1),c=s(tt)):c=u(rt,ut,ft,et,p,p*p,p*p*p),f(n,v,c)):ht?e(d[y],d[y+1],p,h(n,v),vt):(it?(e(d[y],d[y+1],p,tt,1),c=s(tt)):c=r(d[y],d[y+1],p),f(n,v,c)),y=0;y<i._onframeList.length;y++)i._onframeList[y](n,t)};st=new w({target:i._target,life:ct,loop:i._loop,delay:i._delay,onframe:pt,ondestroy:a});n&&"spline"!==n&&(st.easing=n);i._clipList.push(st);i._clipCount++;i.animation.add(st)}}};for(var c in this._tracks)v(this._tracks[c],c);return this},stop:function(){for(var t,n=0;n<this._clipList.length;n++)t=this._clipList[n],this.animation.remove(t);this._clipList=[]},delay:function(n){return this._delay=n,this},done:function(n){return n&&this._doneList.push(n),this}},i});define("zrender/tool/vector",[],function(){var t="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(n,i){var r=new t(2);return r[0]=n||0,r[1]=i||0,r},copy:function(n,t){return n[0]=t[0],n[1]=t[1],n},clone:function(n){var i=new t(2);return i[0]=n[0],i[1]=n[1],i},set:function(n,t,i){return n[0]=t,n[1]=i,n},add:function(n,t,i){return n[0]=t[0]+i[0],n[1]=t[1]+i[1],n},scaleAndAdd:function(n,t,i,r){return n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n},sub:function(n,t,i){return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n},len:function(n){return Math.sqrt(this.lenSquare(n))},lenSquare:function(n){return n[0]*n[0]+n[1]*n[1]},mul:function(n,t,i){return n[0]=t[0]*i[0],n[1]=t[1]*i[1],n},div:function(n,t,i){return n[0]=t[0]/i[0],n[1]=t[1]/i[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:function(n,t,i){return n[0]=t[0]*i,n[1]=t[1]*i,n},normalize:function(t,i){var r=n.len(i);return 0===r?(t[0]=0,t[1]=0):(t[0]=i[0]/r,t[1]=i[1]/r),t},distance:function(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))},distanceSquare:function(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])},negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:function(n,t,i,r){return n[0]=t[0]+r*(i[0]-t[0]),n[1]=t[1]+r*(i[1]-t[1]),n},applyTransform:function(n,t,i){var r=t[0],u=t[1];return n[0]=i[0]*r+i[2]*u+i[4],n[1]=i[1]*r+i[3]*u+i[5],n},min:function(n,t,i){return n[0]=Math.min(t[0],i[0]),n[1]=Math.min(t[1],i[1]),n},max:function(n,t,i){return n[0]=Math.max(t[0],i[0]),n[1]=Math.max(t[1],i[1]),n}};return n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,n});define("zrender/tool/matrix",[],function(){var t="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var i=new t(6);return n.identity(i),i},identity:function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n},copy:function(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},mul:function(n,t,i){return n[0]=t[0]*i[0]+t[2]*i[1],n[1]=t[1]*i[0]+t[3]*i[1],n[2]=t[0]*i[2]+t[2]*i[3],n[3]=t[1]*i[2]+t[3]*i[3],n[4]=t[0]*i[4]+t[2]*i[5]+t[4],n[5]=t[1]*i[4]+t[3]*i[5]+t[5],n},translate:function(n,t,i){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+i[0],n[5]=t[5]+i[1],n},rotate:function(n,t,i){var f=t[0],e=t[2],o=t[4],s=t[1],h=t[3],c=t[5],r=Math.sin(i),u=Math.cos(i);return n[0]=f*u+s*r,n[1]=-f*r+s*u,n[2]=e*u+h*r,n[3]=-e*r+u*h,n[4]=u*o+r*c,n[5]=u*c-r*o,n},scale:function(n,t,i){var r=i[0],u=i[1];return n[0]=t[0]*r,n[1]=t[1]*u,n[2]=t[2]*r,n[3]=t[3]*u,n[4]=t[4]*r,n[5]=t[5]*u,n},invert:function(n,t){var r=t[0],u=t[2],o=t[4],f=t[1],e=t[3],s=t[5],i=r*e-f*u;return i?(i=1/i,n[0]=e*i,n[1]=-f*i,n[2]=-u*i,n[3]=r*i,n[4]=(u*s-e*o)*i,n[5]=(f*o-r*s)*i,n):null}};return n});define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(n){function t(n){this.setOptions(n)}var i=n("../tool/util"),r=n("../shape/Text"),u=n("../shape/Rectangle"),f="Loading...",e="normal 16px Arial";return t.prototype.createTextShape=function(n){return new r({highlightStyle:i.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:f,textAlign:"center",textBaseline:"middle",textFont:e,color:"#333",brushType:"fill"},n,!0)})},t.prototype.createBackgroundShape=function(n){return new u({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:n}})},t.prototype.start=function(n){function t(t){n.storage.addHover(t)}function i(){n.refreshHover()}this.canvasWidth=n._width;this.canvasHeight=n._height;this.loadingTimer=this._start(t,i)},t.prototype._start=function(){return setInterval(function(){},1e4)},t.prototype.stop=function(){clearInterval(this.loadingTimer)},t.prototype.setOptions=function(n){this.options=n||{}},t.prototype.adjust=function(n,t){return n<=t[0]?n=t[0]:n>=t[1]&&(n=t[1]),n},t.prototype.getLocation=function(n,t,i){var u=null!=n.x?n.x:"center",r;switch(u){case"center":u=Math.floor((this.canvasWidth-t)/2);break;case"left":u=0;break;case"right":u=this.canvasWidth-t}r=null!=n.y?n.y:"center";switch(r){case"center":r=Math.floor((this.canvasHeight-i)/2);break;case"top":r=0;break;case"bottom":r=this.canvasHeight-i}return{x:u,y:r,width:t,height:i}},t});define("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(n){function e(){return!1}function u(n,i,r){var u=document.createElement(i),f=r.getWidth(),e=r.getHeight();return u.style.position="absolute",u.style.left=0,u.style.top=0,u.style.width=f+"px",u.style.height=e+"px",u.width=f*t.devicePixelRatio,u.height=e*t.devicePixelRatio,u.setAttribute("data-zr-dom-id",n),u}var f=n("./mixin/Transformable"),o=n("./tool/util"),r=window.G_vmlCanvasManager,t=n("./config"),i=function(n,i){this.id=n;this.dom=u(n,"canvas",i);this.dom.onselectstart=e;this.dom.style["-webkit-user-select"]="none";this.dom.style["user-select"]="none";this.dom.style["-webkit-touch-callout"]="none";this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";this.dom.className=t.elementClassName;r&&r.initElement(this.dom);this.domBack=null;this.ctxBack=null;this.painter=i;this.unusedCount=0;this.config=null;this.dirty=!0;this.elCount=0;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.zoomable=!1;this.panable=!1;this.maxZoom=1/0;this.minZoom=0;f.call(this)};return i.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var n=t.devicePixelRatio;1!=n&&this.ctx.scale(n,n)},i.prototype.createBackBuffer=function(){if(!r){this.domBack=u("back-"+this.id,"canvas",this.painter);this.ctxBack=this.domBack.getContext("2d");var n=t.devicePixelRatio;1!=n&&this.ctxBack.scale(n,n)}},i.prototype.resize=function(n,i){var r=t.devicePixelRatio;this.dom.style.width=n+"px";this.dom.style.height=i+"px";this.dom.setAttribute("width",n*r);this.dom.setAttribute("height",i*r);1!=r&&this.ctx.scale(r,r);this.domBack&&(this.domBack.setAttribute("width",n*r),this.domBack.setAttribute("height",i*r),1!=r&&this.ctxBack.scale(r,r))},i.prototype.clear=function(){var e=this.dom,n=this.ctx,u=e.width,f=e.height,h=this.clearColor&&!r,o=this.motionBlur&&!r,c=this.lastFrameAlpha,i=t.devicePixelRatio,s;(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,u/i,f/i)),n.clearRect(0,0,u/i,f/i),h&&(n.save(),n.fillStyle=this.clearColor,n.fillRect(0,0,u/i,f/i),n.restore()),o)&&(s=this.domBack,n.save(),n.globalAlpha=c,n.drawImage(s,0,0,u/i,f/i),n.restore())},o.merge(i.prototype,f.prototype),i});define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(n){var t=n("../tool/area"),r=n("./Base"),i=function(n){r.call(this,n)};return i.prototype={type:"text",brush:function(n,i){var r=this.style,u,c;if(i&&(r=this.getHighlightStyle(r,this.highlightStyle||{})),"undefined"!=typeof r.text&&r.text!==!1){n.save();this.doClip(n);this.setContext(n,r);this.setTransform(n);r.textFont&&(n.font=r.textFont);n.textAlign=r.textAlign||"start";n.textBaseline=r.textBaseline||"middle";var f,e=(r.text+"").split("\n"),s=t.getTextHeight("国",r.textFont),h=this.getRect(r),o=r.x;for(f="top"==r.textBaseline?h.y:"bottom"==r.textBaseline?h.y+s:h.y+s/2,u=0,c=e.length;c>u;u++){if(r.maxWidth)switch(r.brushType){case"fill":n.fillText(e[u],o,f,r.maxWidth);break;case"stroke":n.strokeText(e[u],o,f,r.maxWidth);break;case"both":n.fillText(e[u],o,f,r.maxWidth);n.strokeText(e[u],o,f,r.maxWidth);break;default:n.fillText(e[u],o,f,r.maxWidth)}else switch(r.brushType){case"fill":n.fillText(e[u],o,f);break;case"stroke":n.strokeText(e[u],o,f);break;case"both":n.fillText(e[u],o,f);n.strokeText(e[u],o,f);break;default:n.fillText(e[u],o,f)}f+=s}n.restore()}},getRect:function(n){var f;if(n.__rect)return n.__rect;var i=t.getTextWidth(n.text,n.textFont),r=t.getTextHeight(n.text,n.textFont),u=n.x;return"end"==n.textAlign||"right"==n.textAlign?u-=i:"center"==n.textAlign&&(u-=i/2),f="top"==n.textBaseline?n.y:"bottom"==n.textBaseline?n.y-r:n.y-r/2,n.__rect={x:u,y:f,width:i,height:r},n.__rect}},n("../tool/util").inherits(i,r),i});define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(n){var i=n("./Base"),t=function(n){i.call(this,n)};return t.prototype={type:"rectangle",_buildRadiusPath:function(n,t){var i,u,f,e,o=t.x,s=t.y,h=t.width,c=t.height,r=t.radius,l;"number"==typeof r?i=u=f=e=r:r instanceof Array?1===r.length?i=u=f=e=r[0]:2===r.length?(i=f=r[0],u=e=r[1]):3===r.length?(i=r[0],u=e=r[1],f=r[2]):(i=r[0],u=r[1],f=r[2],e=r[3]):i=u=f=e=0;i+u>h&&(l=i+u,i*=h/l,u*=h/l);f+e>h&&(l=f+e,f*=h/l,e*=h/l);u+f>c&&(l=u+f,u*=c/l,f*=c/l);i+e>c&&(l=i+e,i*=c/l,e*=c/l);n.moveTo(o+i,s);n.lineTo(o+h-u,s);0!==u&&n.quadraticCurveTo(o+h,s,o+h,s+u);n.lineTo(o+h,s+c-f);0!==f&&n.quadraticCurveTo(o+h,s+c,o+h-f,s+c);n.lineTo(o+e,s+c);0!==e&&n.quadraticCurveTo(o,s+c,o,s+c-e);n.lineTo(o,s+i);0!==i&&n.quadraticCurveTo(o,s,o+i,s)},buildPath:function(n,t){t.radius?this._buildRadiusPath(n,t):(n.moveTo(t.x,t.y),n.lineTo(t.x+t.width,t.y),n.lineTo(t.x+t.width,t.y+t.height),n.lineTo(t.x,t.y+t.height),n.lineTo(t.x,t.y));n.closePath()},getRect:function(n){if(n.__rect)return n.__rect;var t;return t="stroke"==n.brushType||"fill"==n.brushType?n.lineWidth||1:0,n.__rect={x:Math.round(n.x-t/2),y:Math.round(n.y-t/2),width:n.width+t,height:n.height+t},n.__rect}},n("../tool/util").inherits(t,i),t});define("zrender/tool/area",["require","./util","./curve"],function(n){"use strict";function e(n){return n%=i,0>n&&(n+=i),n}function w(n,i,r,u){var e,f,o;if(!i||!n)return!1;if(e=n.type,t=t||p.getContext(),f=ut(n,i,r,u),"undefined"!=typeof f)return f;if(n.buildPath&&t.isPointInPath)return ft(n,t,i,r,u);switch(e){case"ellipse":return!0;case"trochoid":return o="out"==i.location?i.r1+i.r2+i.d:i.r1-i.r2+i.d,h(i,r,u,o);case"rose":return h(i,r,u,i.maxr);default:return!1}}function ut(n,t,i,r){var s=n.type,f,e,u;switch(s){case"bezier-curve":return"undefined"==typeof t.cpX2?v(t.xStart,t.yStart,t.cpX1,t.cpY1,t.xEnd,t.yEnd,t.lineWidth,i,r):a(t.xStart,t.yStart,t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd,t.lineWidth,i,r);case"line":return o(t.xStart,t.yStart,t.xEnd,t.yEnd,t.lineWidth,i,r);case"polyline":return k(t.pointList,t.lineWidth,i,r);case"ring":return ot(t.x,t.y,t.r0,t.r,i,r);case"circle":return h(t.x,t.y,t.r,i,r);case"sector":return f=t.startAngle*Math.PI/180,e=t.endAngle*Math.PI/180,t.clockWise||(f=-f,e=-e),d(t.x,t.y,t.r0,t.r,f,e,!t.clockWise,i,r);case"path":return t.pathArray&&nt(t.pathArray,Math.max(t.lineWidth,5),t.brushType,i,r);case"polygon":case"star":case"isogon":return g(t.pointList,i,r);case"text":return u=t.__rect||n.getRect(t),y(u.x,u.y,u.width,u.height,i,r);case"rectangle":case"image":return y(t.x,t.y,t.width,t.height,i,r)}}function ft(n,t,i,r,u){return t.beginPath(),n.buildPath(t,i),t.closePath(),t.isPointInPath(r,u)}function et(n,t,i,r){return!w(n,t,i,r)}function o(n,t,i,r,u,f,e){var h,l;if(0===u)return!1;var o=Math.max(u,5),s=0,c=n;return e>t+o&&e>r+o||t-o>e&&r-o>e||f>n+o&&f>i+o||n-o>f&&i-o>f?!1:n===i?Math.abs(f-n)<=o/2:(s=(t-r)/(n-i),c=(n*r-i*t)/(n-i),h=s*f-e+c,l=h*h/(s*s+1),o/2*o/2>=l)}function a(n,t,i,u,f,e,o,s,h,c,l){var a,v;return 0===h?!1:(a=Math.max(h,5),l>t+a&&l>u+a&&l>e+a&&l>s+a||t-a>l&&u-a>l&&e-a>l&&s-a>l||c>n+a&&c>i+a&&c>f+a&&c>o+a||n-a>c&&i-a>c&&f-a>c&&o-a>c)?!1:(v=r.cubicProjectPoint(n,t,i,u,f,e,o,s,c,l,null),a/2>=v)}function v(n,t,i,u,f,e,o,s,h){var c,l;return 0===o?!1:(c=Math.max(o,5),h>t+c&&h>u+c&&h>e+c||t-c>h&&u-c>h&&e-c>h||s>n+c&&s>i+c&&s>f+c||n-c>s&&i-c>s&&f-c>s)?!1:(l=r.quadraticProjectPoint(n,t,i,u,f,e,s,h,null),c/2>=l)}function b(n,t,r,u,f,o,s,h,c){var a,v,y,l;return 0===s?!1:(a=Math.max(s,5),h-=n,c-=t,v=Math.sqrt(h*h+c*c),v-a>r||r>v+a)?!1:Math.abs(u-f)>=i?!0:(o?(y=u,u=e(f),f=e(y)):(u=e(u),f=e(f)),u>f&&(f+=i),l=Math.atan2(c,h),0>l&&(l+=i),l>=u&&f>=l||l+i>=u&&f>=l+i)}function k(n,t,i,r){for(var t=Math.max(t,10),u=0,f=n.length-1;f>u;u++){var e=n[u][0],s=n[u][1],h=n[u+1][0],c=n[u+1][1];if(o(e,s,h,c,t,i,r))return!0}return!1}function ot(n,t,i,r,u,f){var e=(u-n)*(u-n)+(f-t)*(f-t);return r*r>e&&e>i*i}function y(n,t,i,r,u,f){return u>=n&&n+i>=u&&f>=t&&t+r>=f}function h(n,t,i,r,u){return i*i>(r-n)*(r-n)+(u-t)*(u-t)}function d(n,t,i,r,u,f,e,o,s){return b(n,t,(i+r)/2,u,f,e,r-i,o,s)}function g(n,t,i){for(var f=n.length,e=0,r=0,u=f-1;f>r;r++){var o=n[u][0],h=n[u][1],c=n[r][0],l=n[r][1];e+=s(o,h,c,l,t,i);u=r}return 0!==e}function s(n,t,i,r,u,f){if(f>t&&f>r||t>f&&r>f||r==t)return 0;var e=t>r?1:-1,o=(f-t)/(r-t),s=o*(i-n)+n;return s>u?e:0}function st(){var n=u[0];u[0]=u[1];u[1]=n}function ht(n,t,i,e,o,s,h,c,l,a){var w,p,g;if(a>t&&a>e&&a>s&&a>c||t>a&&e>a&&s>a&&c>a||(w=r.cubicRootAt(t,e,s,c,a,f),0===w))return 0;for(var v,b,d=0,y=-1,k=0;w>k;k++)p=f[k],g=r.cubicAt(n,i,o,h,p),l>g||(0>y&&(y=r.cubicExtrema(t,e,s,c,u),u[1]<u[0]&&y>1&&st(),v=r.cubicAt(t,e,s,c,u[0]),y>1&&(b=r.cubicAt(t,e,s,c,u[1]))),d+=2==y?p<u[0]?t>v?1:-1:p<u[1]?v>b?1:-1:b>c?1:-1:p<u[0]?t>v?1:-1:v>c?1:-1);return d}function ct(n,t,i,u,e,o,s,h){var v,c,a;if(h>t&&h>u&&h>o||t>h&&u>h&&o>h||(v=r.quadraticRootAt(t,u,o,h,f),0===v))return 0;if(c=r.quadraticExtremum(t,u,o),c>=0&&1>=c){for(var y=0,p=r.quadraticAt(t,u,o,c),l=0;v>l;l++)a=r.quadraticAt(n,i,e,f[l]),s>a||(y+=f[l]<c?t>p?1:-1:p>o?1:-1);return y}return a=r.quadraticAt(n,i,e,f[0]),s>a?0:t>o?1:-1}function lt(n,t,r,u,o,s,h,c){var v,p,y,w,l,a;if(c-=t,c>r||-r>c)return 0;if(v=Math.sqrt(r*r-c*c),f[0]=-v,f[1]=v,Math.abs(u-o)>=i)return u=0,o=i,a=s?1:-1,h>=f[0]+n&&h<=f[1]+n?a:0;for(s?(v=u,u=e(o),o=e(v)):(u=e(u),o=e(o)),u>o&&(o+=i),p=0,y=0;2>y;y++)w=f[y],w+n>h&&(l=Math.atan2(c,w),a=s?1:-1,0>l&&(l=i+l),(l>=u&&o>=l||l+i>=u&&o>=l+i)&&(l>Math.PI/2&&l<1.5*Math.PI&&(a=-a),p+=a));return p}function nt(n,t,i,r,u){var c=0,e=0,h=0,y=0,p=0,ft=!0,tt=!0,g,f,ot;i=i||"fill";for(var d="stroke"===i||"both"===i,w="fill"===i||"both"===i,it=0;it<n.length;it++){if(g=n[it],f=g.points,ft||"M"===g.command){if(it>0&&(w&&(c+=s(e,h,y,p,r,u)),0!==c))return!0;y=f[f.length-2];p=f[f.length-1];ft=!1;tt&&"A"!==g.command&&(tt=!1,e=y,h=p)}switch(g.command){case"M":e=f[0];h=f[1];break;case"L":if(d&&o(e,h,f[0],f[1],t,r,u))return!0;w&&(c+=s(e,h,f[0],f[1],r,u));e=f[0];h=f[1];break;case"C":if(d&&a(e,h,f[0],f[1],f[2],f[3],f[4],f[5],t,r,u))return!0;w&&(c+=ht(e,h,f[0],f[1],f[2],f[3],f[4],f[5],r,u));e=f[4];h=f[5];break;case"Q":if(d&&v(e,h,f[0],f[1],f[2],f[3],t,r,u))return!0;w&&(c+=ct(e,h,f[0],f[1],f[2],f[3],r,u));e=f[2];h=f[3];break;case"A":var k=f[0],rt=f[1],et=f[2],nt=f[3],l=f[4],ut=f[5],st=Math.cos(l)*et+k,at=Math.sin(l)*nt+rt;if(tt?(tt=!1,y=st,p=at):c+=s(e,h,st,at),ot=(r-k)*nt/et+k,d&&b(k,rt,nt,l,l+ut,1-f[7],t,ot,u))return!0;w&&(c+=lt(k,rt,nt,l,l+ut,1-f[7],ot,u));e=Math.cos(l+ut)*et+k;h=Math.sin(l+ut)*nt+rt;break;case"z":if(d&&o(e,h,y,p,t,r,u))return!0;ft=!0}}return w&&(c+=s(e,h,y,p,r,u)),0!==c}function at(n,i){var u=n+":"+i;if(c[u])return c[u];t=t||p.getContext();t.save();i&&(t.font=i);n=(n+"").split("\n");for(var r=0,f=0,e=n.length;e>f;f++)r=Math.max(t.measureText(n[f]).width,r);return t.restore(),c[u]=r,++tt>rt&&(tt=0,c={}),r}function vt(n,i){var r=n+":"+i,u;return l[r]?l[r]:(t=t||p.getContext(),t.save(),i&&(t.font=i),n=(n+"").split("\n"),u=(t.measureText("国").width+2)*n.length,t.restore(),l[r]=u,++it>rt&&(it=0,l={}),u)}var t,p=n("./util"),r=n("./curve"),c={},l={},tt=0,it=0,rt=5e3,i=2*Math.PI,f=[-1,-1,-1],u=[-1,-1];return{isInside:w,isOutside:et,getTextWidth:at,getTextHeight:vt,isInsidePath:nt,isInsidePolygon:g,isInsideSector:d,isInsideCircle:h,isInsideLine:o,isInsideRect:y,isInsidePolyline:k,isInsideCubicStroke:a,isInsideQuadraticStroke:v}});define("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(n){function h(t,i,r,u,f,e,o){var s,h,l,a;f&&(t.font=f);t.textAlign=e;t.textBaseline=o;s=c(i,r,u,f,e,o);i=(i+"").split("\n");h=n("../tool/area").getTextHeight("国",f);switch(o){case"top":u=s.y;break;case"bottom":u=s.y+h;break;default:u=s.y+h/2}for(l=0,a=i.length;a>l;l++)t.fillText(i[l],r,u),u+=h}function c(t,i,r,u,f,e){var h=n("../tool/area"),o=h.getTextWidth(t,u),s=h.getTextHeight("国",u);switch(t=(t+"").split("\n"),f){case"end":case"right":i-=o;break;case"center":i-=o/2}switch(e){case"top":break;case"bottom":r-=s*t.length;break;default:r-=s*t.length/2}return{x:i,y:r,width:o,height:s*t.length}}var l=window.G_vmlCanvasManager,u=n("../tool/matrix"),a=n("../tool/guid"),f=n("../tool/util"),e=n("../tool/log"),o=n("../mixin/Transformable"),s=n("../mixin/Eventful"),t=function(n){n=n||{};this.id=n.id||a();for(var t in n)this[t]=n[t];this.style=this.style||{};this.highlightStyle=this.highlightStyle||null;this.parent=null;this.__dirty=!0;this.__clipShapes=[];o.call(this);s.call(this)},i,r;return t.prototype.invisible=!1,t.prototype.ignore=!1,t.prototype.zlevel=0,t.prototype.draggable=!1,t.prototype.clickable=!1,t.prototype.hoverable=!0,t.prototype.z=0,t.prototype.brush=function(n,t){var i=this.beforeBrush(n,t);switch(n.beginPath(),this.buildPath(n,i),i.brushType){case"both":n.fill();case"stroke":i.lineWidth>0&&n.stroke();break;default:n.fill()}this.drawText(n,i,this.style);this.afterBrush(n)},t.prototype.beforeBrush=function(n,t){var i=this.style;return this.brushTypeOnly&&(i.brushType=this.brushTypeOnly),t&&(i=this.getHighlightStyle(i,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(i.strokeColor=i.strokeColor||i.color),n.save(),this.doClip(n),this.setContext(n,i),this.setTransform(n),i},t.prototype.afterBrush=function(n){n.restore()},i=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]],t.prototype.setContext=function(n,t){for(var r=0,u=i.length;u>r;r++){var e=i[r][0],f=t[e],o=i[r][1];"undefined"!=typeof f&&(n[o]=f)}},r=u.create(),t.prototype.doClip=function(n){var f,i,t;if(this.__clipShapes&&!l)for(f=0;f<this.__clipShapes.length;f++)i=this.__clipShapes[f],i.needTransform&&(t=i.transform,u.invert(r,t),n.transform(t[0],t[1],t[2],t[3],t[4],t[5])),(n.beginPath(),i.buildPath(n,i.style),n.clip(),i.needTransform)&&(t=r,n.transform(t[0],t[1],t[2],t[3],t[4],t[5]))},t.prototype.getHighlightStyle=function(t,i,r){var u={},e,o;for(var f in t)u[f]=t[f];e=n("../tool/color");o=e.getHighlightColor();"stroke"!=t.brushType?(u.strokeColor=o,u.lineWidth=(t.lineWidth||1)+this.getHighlightZoom(),u.brushType="both"):"stroke"!=r?(u.strokeColor=o,u.lineWidth=(t.lineWidth||1)+this.getHighlightZoom()):u.strokeColor=i.strokeColor||e.mix(t.strokeColor,e.toRGB(o));for(f in i)"undefined"!=typeof i[f]&&(u[f]=i[f]);return u},t.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},t.prototype.drift=function(n,t){this.position[0]+=n;this.position[1]+=t},t.prototype.buildPath=function(){e("buildPath not implemented in "+this.type)},t.prototype.getRect=function(){e("getRect not implemented in "+this.type)},t.prototype.isCover=function(t,i){var r=this.transformCoordToLocal(t,i);return t=r[0],i=r[1],this.isCoverRect(t,i)?n("../tool/area").isInside(this,this.style,t,i):!1},t.prototype.isCoverRect=function(n,t){var i=this.style.__rect;return i||(i=this.style.__rect=this.getRect(this.style)),n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},t.prototype.drawText=function(n,t,i){var k,u,f,e,o,s,p,r,c,a,w,v,b,y,l;if("undefined"!=typeof t.text&&t.text!==!1){k=t.textColor||t.color||t.strokeColor;n.fillStyle=k;s=10;p=t.textPosition||this.textPosition||"top";switch(p){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){r=(i||t).__rect||this.getRect(i||t);switch(p){case"inside":e=r.x+r.width/2;o=r.y+r.height/2;u="center";f="middle";"stroke"!=t.brushType&&k==t.color&&(n.fillStyle="#fff");break;case"left":e=r.x-s;o=r.y+r.height/2;u="end";f="middle";break;case"right":e=r.x+r.width+s;o=r.y+r.height/2;u="start";f="middle";break;case"top":e=r.x+r.width/2;o=r.y-s;u="center";f="bottom";break;case"bottom":e=r.x+r.width/2;o=r.y+r.height+s;u="center";f="top"}}break;case"start":case"end":if(c=t.pointList||[[t.xStart||0,t.yStart||0],[t.xEnd||0,t.yEnd||0]],a=c.length,2>a)return;switch(p){case"start":w=c[1][0];v=c[0][0];b=c[1][1];y=c[0][1];break;case"end":w=c[a-2][0];v=c[a-1][0];b=c[a-2][1];y=c[a-1][1]}e=v;o=y;l=Math.atan((b-y)/(v-w))/Math.PI*180;0>v-w?l+=180:0>b-y&&(l+=360);s=5;l>=30&&150>=l?(u="center",f="bottom",o-=s):l>150&&210>l?(u="right",f="middle",e-=s):l>=210&&330>=l?(u="center",f="top",o+=s):(u="left",f="middle",e+=s);break;case"specific":e=t.textX||0;o=t.textY||0;u="start";f="middle"}null!=e&&null!=o&&h(n,t.text,e,o,t.textFont,t.textAlign||u,t.textBaseline||f)}},t.prototype.modSelf=function(){this.__dirty=!0;this.style&&(this.style.__rect=null);this.highlightStyle&&(this.highlightStyle.__rect=null)},t.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},f.merge(t.prototype,o.prototype,!0),f.merge(t.prototype,s.prototype,!0),t});define("zrender/tool/curve",["require","./vector"],function(n){function e(n){return n>-o&&o>n}function c(n){return n>o||-o>n}function r(n,t,i,r,u){var f=1-u;return f*f*(f*n+3*u*t)+u*u*(u*r+3*f*i)}function a(n,t,i,r,u){var f=1-u;return 3*(((t-n)*f+2*(i-t)*u)*f+(r-i)*u*u)}function v(n,t,i,r,u,f){var c=r+3*(t-i)-n,o=3*(i-2*t+n),w=3*(t-n),rt=n-u,a=o*o-3*c*w,y=o*w-9*c*rt,et=w*w-3*o*rt,v=0,d,s;if(e(a)&&e(y))e(o)?f[0]=0:(s=-w/o,s>=0&&1>=s&&(f[v++]=s));else if(d=y*y-4*a*et,e(d)){var ut=y/a,s=-o/c+ut,p=-ut/2;s>=0&&1>=s&&(f[v++]=s);p>=0&&1>=p&&(f[v++]=p)}else if(d>0){var ft=Math.sqrt(d),b=a*o+1.5*c*(-y+ft),k=a*o+1.5*c*(-y-ft);b=0>b?-Math.pow(-b,h):Math.pow(b,h);k=0>k?-Math.pow(-k,h):Math.pow(k,h);s=(-o-(b+k))/(3*c);s>=0&&1>=s&&(f[v++]=s)}else{var ot=(2*a*o-3*c*y)/(2*Math.sqrt(a*a*a)),g=Math.acos(ot)/3,nt=Math.sqrt(a),tt=Math.cos(g),s=(-o-2*nt*tt)/(3*c),p=(-o+nt*(tt+l*Math.sin(g)))/(3*c),it=(-o+nt*(tt-l*Math.sin(g)))/(3*c);s>=0&&1>=s&&(f[v++]=s);p>=0&&1>=p&&(f[v++]=p);it>=0&&1>=it&&(f[v++]=it)}return v}function y(n,t,i,r,u){var f=6*i-12*t+6*n,s=9*t+3*r-3*n-9*i,v=3*t-3*n,h=0,o,l;if(e(s))c(f)&&(o=-v/f,o>=0&&1>=o&&(u[h++]=o));else if(l=f*f-4*s*v,e(l))u[0]=-f/(2*s);else if(l>0){var y=Math.sqrt(l),o=(-f+y)/(2*s),a=(-f-y)/(2*s);o>=0&&1>=o&&(u[h++]=o);a>=0&&1>=a&&(u[h++]=a)}return h}function p(n,t,i,r,u,f){var e=(t-n)*u+n,o=(i-t)*u+t,h=(r-i)*u+i,s=(o-e)*u+e,c=(h-o)*u+o,l=(c-s)*u+s;f[0]=n;f[1]=e;f[2]=s;f[3]=l;f[4]=l;f[5]=c;f[6]=h;f[7]=r}function w(n,u,e,h,c,l,a,v,y,p,w){var k,it=.005,b=1/0,d,rt,nt,tt,g,ut;for(i[0]=y,i[1]=p,d=0;1>d;d+=.05)t[0]=r(n,e,c,a,d),t[1]=r(u,h,l,v,d),g=f.distSquare(i,t),b>g&&(k=d,b=g);for(b=1/0,rt=0;32>rt&&!(o>it);rt++)nt=k-it,tt=k+it,t[0]=r(n,e,c,a,nt),t[1]=r(u,h,l,v,nt),g=f.distSquare(t,i),nt>=0&&b>g?(k=nt,b=g):(s[0]=r(n,e,c,a,tt),s[1]=r(u,h,l,v,tt),ut=f.distSquare(s,i),1>=tt&&b>ut?(k=tt,b=ut):it*=.5);return w&&(w[0]=r(n,e,c,a,k),w[1]=r(u,h,l,v,k)),Math.sqrt(b)}function u(n,t,i,r){var u=1-r;return u*(u*n+2*r*t)+r*r*i}function b(n,t,i,r){return 2*((1-r)*(t-n)+r*(i-t))}function k(n,t,i,r,u){var s=n-2*t+i,o=2*(t-n),v=n-r,h=0,l,f;if(e(s))c(o)&&(f=-v/o,f>=0&&1>=f&&(u[h++]=f));else if(l=o*o-4*s*v,e(l))f=-o/(2*s),f>=0&&1>=f&&(u[h++]=f);else if(l>0){var y=Math.sqrt(l),f=(-o+y)/(2*s),a=(-o-y)/(2*s);f>=0&&1>=f&&(u[h++]=f);a>=0&&1>=a&&(u[h++]=a)}return h}function d(n,t,i){var r=n+i-2*t;return 0===r?.5:(n-t)/r}function g(n,t,i,r,u){var f=(t-n)*r+n,e=(i-t)*r+t,o=(e-f)*r+f;u[0]=n;u[1]=f;u[2]=o;u[3]=o;u[4]=e;u[5]=i}function nt(n,r,e,h,c,l,a,v,y){var w,nt=.005,p=1/0,b,tt,d,g,k,it;for(i[0]=a,i[1]=v,b=0;1>b;b+=.05)t[0]=u(n,e,c,b),t[1]=u(r,h,l,b),k=f.distSquare(i,t),p>k&&(w=b,p=k);for(p=1/0,tt=0;32>tt&&!(o>nt);tt++)d=w-nt,g=w+nt,t[0]=u(n,e,c,d),t[1]=u(r,h,l,d),k=f.distSquare(t,i),d>=0&&p>k?(w=d,p=k):(s[0]=u(n,e,c,g),s[1]=u(r,h,l,g),it=f.distSquare(s,i),1>=g&&p>it?(w=g,p=it):nt*=.5);return y&&(y[0]=u(n,e,c,w),y[1]=u(r,h,l,w)),Math.sqrt(p)}var f=n("./vector"),o=.0001,l=Math.sqrt(3),h=1/3,i=f.create(),t=f.create(),s=f.create();return{cubicAt:r,cubicDerivativeAt:a,cubicRootAt:v,cubicExtrema:y,cubicSubdivide:p,cubicProjectPoint:w,quadraticAt:u,quadraticDerivativeAt:b,quadraticRootAt:k,quadraticExtremum:d,quadraticSubdivide:g,quadraticProjectPoint:nt}});define("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(n){"use strict";function s(n){return n>-e&&e>n}function i(n){return n>e||-e>n}var r=n("../tool/matrix"),f=n("../tool/vector"),t=[0,0],u=r.translate,e=5e-5,o=function(){this.position||(this.position=[0,0]);"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]);this.scale||(this.scale=[1,1,0,0]);this.needLocalTransform=!1;this.needTransform=!1};return o.prototype={constructor:o,updateNeedTransform:function(){this.needLocalTransform=i(this.rotation[0])||i(this.position[0])||i(this.position[1])||i(this.scale[0]-1)||i(this.scale[1]-1)},updateTransform:function(){var o,n,f,e;this.updateNeedTransform();o=this.parent&&this.parent.needTransform;(this.needTransform=this.needLocalTransform||o,this.needTransform)&&(n=this.transform||r.create(),(r.identity(n),this.needLocalTransform)&&(f=this.scale,(i(f[0])||i(f[1]))&&(t[0]=-f[2]||0,t[1]=-f[3]||0,e=i(t[0])||i(t[1]),e&&u(n,n,t),r.scale(n,n,f),e&&(t[0]=-t[0],t[1]=-t[1],u(n,n,t))),this.rotation instanceof Array?0!==this.rotation[0]&&(t[0]=-this.rotation[1]||0,t[1]=-this.rotation[2]||0,e=i(t[0])||i(t[1]),e&&u(n,n,t),r.rotate(n,n,this.rotation[0]),e&&(t[0]=-t[0],t[1]=-t[1],u(n,n,t))):0!==this.rotation&&r.rotate(n,n,this.rotation),(i(this.position[0])||i(this.position[1]))&&u(n,n,this.position)),o&&(this.needLocalTransform?r.mul(n,this.parent.transform,n):r.copy(n,this.parent.transform)),this.transform=n,this.invTransform=this.invTransform||r.create(),r.invert(this.invTransform,n))},setTransform:function(n){if(this.needTransform){var t=this.transform;n.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},lookAt:function(){var n=f.create();return function(t){var i,u;this.transform||(this.transform=r.create());i=this.transform;(f.sub(n,t,this.position),s(n[0])&&s(n[1]))||(f.normalize(n,n),u=this.scale,i[2]=n[0]*u[1],i[3]=n[1]*u[1],i[0]=n[1]*u[0],i[1]=-n[0]*u[0],i[4]=this.position[0],i[5]=this.position[1],this.decomposeTransform())}}(),decomposeTransform:function(){var t;if(this.transform){var n=this.transform,r=n[0]*n[0]+n[1]*n[1],e=this.position,u=this.scale,f=this.rotation;i(r-1)&&(r=Math.sqrt(r));t=n[2]*n[2]+n[3]*n[3];i(t-1)&&(t=Math.sqrt(t));e[0]=n[4];e[1]=n[5];u[0]=r;u[1]=t;u[2]=u[3]=0;f[0]=Math.atan2(-n[1]/t,n[0]/r);f[1]=f[2]=0}},transformCoordToLocal:function(n,t){var i=[n,t];return this.needTransform&&this.invTransform&&f.applyTransform(i,i,this.invTransform),i}},o});define("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(n){var f=n("./tool/guid"),i=n("./tool/util"),r=n("./mixin/Transformable"),u=n("./mixin/Eventful"),t=function(n){n=n||{};this.id=n.id||f();for(var t in n)this[t]=n[t];this.type="group";this.clipShape=null;this._children=[];this._storage=null;this.__dirty=!0;r.call(this);u.call(this)};return t.prototype.ignore=!1,t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.addChild=function(n){n!=this&&n.parent!=this&&(n.parent&&n.parent.removeChild(n),this._children.push(n),n.parent=this,this._storage&&this._storage!==n._storage&&(this._storage.addToMap(n),n instanceof t&&n.addChildrenToStorage(this._storage)))},t.prototype.removeChild=function(n){var r=i.indexOf(this._children,n);r>=0&&this._children.splice(r,1);n.parent=null;this._storage&&(this._storage.delFromMap(n.id),n instanceof t&&n.delChildrenFromStorage(this._storage))},t.prototype.clearChildren=function(){for(var i,n=0;n<this._children.length;n++)i=this._children[n],this._storage&&(this._storage.delFromMap(i.id),i instanceof t&&i.delChildrenFromStorage(this._storage));this._children.length=0},t.prototype.eachChild=function(n,t){for(var r,u=!!t,i=0;i<this._children.length;i++)r=this._children[i],u?n.call(t,r):n(r)},t.prototype.traverse=function(n,t){for(var i,u=!!t,r=0;r<this._children.length;r++)i=this._children[r],u?n.call(t,i):n(i),"group"===i.type&&i.traverse(n,t)},t.prototype.addChildrenToStorage=function(n){for(var r,i=0;i<this._children.length;i++)r=this._children[i],n.addToMap(r),r instanceof t&&r.addChildrenToStorage(n)},t.prototype.delChildrenFromStorage=function(n){for(var r,i=0;i<this._children.length;i++)r=this._children[i],n.delFromMap(r.id),r instanceof t&&r.delChildrenFromStorage(n)},t.prototype.modSelf=function(){this.__dirty=!0},i.merge(t.prototype,r.prototype,!0),i.merge(t.prototype,u.prototype,!0),t});define("zrender/animation/Clip",["require","./easing"],function(n){function t(n){this._targetPool=n.target||{};this._targetPool instanceof Array||(this._targetPool=[this._targetPool]);this._life=n.life||1e3;this._delay=n.delay||0;this._startTime=(new Date).getTime()+this._delay;this._endTime=this._startTime+1e3*this._life;this.loop="undefined"==typeof n.loop?!1:n.loop;this.gap=n.gap||0;this.easing=n.easing||"Linear";this.onframe=n.onframe;this.ondestroy=n.ondestroy;this.onrestart=n.onrestart}var i=n("./easing");return t.prototype={step:function(n){var t=(n-this._startTime)/this._life,r,u;if(!(0>t))return t=Math.min(t,1),r="string"==typeof this.easing?i[this.easing]:this.easing,u="function"==typeof r?r(t):t,this.fire("frame",u),1==t?this.loop?(this.restart(),"restart"):(this.__needsRemove=!0,"destroy"):null},restart:function(){var n=(new Date).getTime(),t=(n-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap;this.__needsRemove=!1},fire:function(n,t){for(var i=0,r=this._targetPool.length;r>i;i++)this["on"+n]&&this["on"+n](this._targetPool[i],t)},constructor:t},t});define("zrender/animation/easing",[],function(){var n={Linear:function(n){return n},QuadraticIn:function(n){return n*n},QuadraticOut:function(n){return n*(2-n)},QuadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},CubicIn:function(n){return n*n*n},CubicOut:function(n){return--n*n*n+1},CubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},QuarticIn:function(n){return n*n*n*n},QuarticOut:function(n){return 1- --n*n*n*n},QuarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},QuinticIn:function(n){return n*n*n*n*n},QuinticOut:function(n){return--n*n*n*n*n+1},QuinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},SinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},SinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},SinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},ExponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},ExponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},ExponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},CircularIn:function(n){return 1-Math.sqrt(1-n*n)},CircularOut:function(n){return Math.sqrt(1- --n*n)},CircularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},ElasticIn:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||1>t?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin(2*(n-i)*Math.PI/r)))},ElasticOut:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||1>t?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin(2*(n-i)*Math.PI/r)+1)},ElasticInOut:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||1>t?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*t*Math.pow(2,10*(n-=1))*Math.sin(2*(n-i)*Math.PI/r):t*Math.pow(2,-10*(n-=1))*Math.sin(2*(n-i)*Math.PI/r)*.5+1)},BackIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},BackOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},BackInOut:function(n){var t=2.5949095;return(n*=2)<1?.5*n*n*((t+1)*n-t):.5*((n-=2)*n*((t+1)*n+t)+2)},BounceIn:function(t){return 1-n.BounceOut(1-t)},BounceOut:function(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},BounceInOut:function(t){return.5>t?.5*n.BounceIn(2*t):.5*n.BounceOut(2*t-1)+.5}};return n});define("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(n){function e(n){return null!=n.x&&null!=n.y}function f(n,r,u,f,e){h.call(this,n,r,u,f,e);var o=this;this.selectedMap={};this.lastShapeList=[];this.shapeHandler={onclick:function(){o.isClick=!0},ondragover:function(n){var r=n.target;r.highlightStyle=r.highlightStyle||{};var i=r.highlightStyle,u=i.brushTyep,f=i.strokeColor,e=i.lineWidth;i.brushType="stroke";i.strokeColor=o.ecTheme.calculableColor||t.calculableColor;i.lineWidth="icon"===r.type?30:10;o.zr.addHoverShape(r);setTimeout(function(){i&&(i.brushType=u,i.strokeColor=f,i.lineWidth=e)},20)},ondrop:function(n){null!=i.get(n.dragged,"data")&&(o.isDrop=!0)},ondragend:function(){o.isDragend=!0}}}var c=n("zrender/shape/Image"),l=n("../util/shape/Icon"),a=n("../util/shape/MarkLine"),v=n("../util/shape/Symbol"),y=n("zrender/shape/Polyline"),p=n("zrender/shape/ShapeBundle"),t=n("../config"),i=n("../util/ecData"),u=n("../util/ecAnimation"),o=n("../util/ecEffect"),s=n("../util/accMath"),h=n("../component/base"),w=n("../layout/EdgeBundling"),r=n("zrender/tool/util"),b=n("zrender/tool/area");return f.prototype={setCalculable:function(n){return n.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||t.DRAG_ENABLE_TIME,n.ondragover=this.shapeHandler.ondragover,n.ondragend=this.shapeHandler.ondragend,n.ondrop=this.shapeHandler.ondrop,n},ondrop:function(n,r){var p;if(this.isDrop&&n.target&&!r.dragIn){var u,v=n.target,f=n.dragged,e=i.get(v,"seriesIndex"),h=i.get(v,"dataIndex"),o=this.series,c=this.component.legend;if(-1===h){if(i.get(f,"seriesIndex")==e)return r.dragOut=r.dragIn=r.needRefresh=!0,void(this.isDrop=!1);u={value:i.get(f,"value"),name:i.get(f,"name")};this.type===t.CHART_TYPE_PIE&&u.value<0&&(u.value=0);for(var y=!1,a=o[e].data,l=0,w=a.length;w>l;l++)a[l].name===u.name&&"-"===a[l].value&&(o[e].data[l].value=u.value,y=!0);y||o[e].data.push(u);c&&c.add(u.name,f.style.color||f.style.strokeColor)}else u=o[e].data[h]||"-",null!=u.value?(o[e].data[h].value="-"!=u.value?s.accAdd(o[e].data[h].value,i.get(f,"value")):i.get(f,"value"),(this.type===t.CHART_TYPE_FUNNEL||this.type===t.CHART_TYPE_PIE)&&(c&&1===c.getRelatedAmount(u.name)&&this.component.legend.del(u.name),u.name+=this.option.nameConnector+i.get(f,"name"),c&&c.add(u.name,f.style.color||f.style.strokeColor))):o[e].data[h]="-"!=u?s.accAdd(o[e].data[h],i.get(f,"value")):i.get(f,"value");r.dragIn=r.dragIn||!0;this.isDrop=!1;p=this;setTimeout(function(){p.zr.trigger("mousemove",n.event)},300)}},ondragend:function(n,t){var o,e;if(this.isDragend&&n.target&&!t.dragOut){var s=n.target,r=i.get(s,"seriesIndex"),u=i.get(s,"dataIndex"),f=this.series;null!=f[r].data[u].value?(f[r].data[u].value="-",o=f[r].data[u].name,e=this.component.legend,e&&0===e.getRelatedAmount(o)&&e.del(o)):f[r].data[u]="-";t.dragOut=!0;t.needRefresh=!0;this.isDragend=!1}},onlegendSelected:function(n,t){var r=n.selected;for(var i in this.selectedMap)this.selectedMap[i]!=r[i]&&(t.needRefresh=!0),this.selectedMap[i]=r[i]},_buildPosition:function(){var u;this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this._sIndex2ColorMap={};this.selectedMap={};this.xMarkMap={};for(var o,s,f,e,i=this.series,r={top:[],bottom:[],left:[],right:[],other:[]},n=0,h=i.length;h>n;n++)i[n].type===this.type&&(i[n]=this.reformOption(i[n]),this.legendHoverLink=i[n].legendHoverLink||this.legendHoverLink,o=i[n].xAxisIndex,s=i[n].yAxisIndex,f=this.component.xAxis.getAxis(o),e=this.component.yAxis.getAxis(s),f.type===t.COMPONENT_TYPE_AXIS_CATEGORY?r[f.getPosition()].push(n):e.type===t.COMPONENT_TYPE_AXIS_CATEGORY?r[e.getPosition()].push(n):r.other.push(n));for(u in r)r[u].length>0&&this._buildSinglePosition(u,r[u]);this.addShapeList()},_buildSinglePosition:function(n,t){var f=this._mapData(t),i=f.locationMap,r=f.maxDataLength,u,e;if(0!==r&&0!==i.length){switch(n){case"bottom":case"top":this._buildHorizontal(t,r,i,this.xMarkMap);break;case"left":case"right":this._buildVertical(t,r,i,this.xMarkMap);break;case"other":this._buildOther(t,r,i,this.xMarkMap)}for(u=0,e=t.length;e>u;u++)this.buildMark(t[u])}},_mapData:function(n){for(var r,v,f,o,u,s,y=this.series,h=0,c={},e=this.component.legend,l=[],a=0,i=0,p=n.length;p>i;i++)(f=y[n[i]],u=f.name,this._sIndex2ShapeMap[n[i]]=this._sIndex2ShapeMap[n[i]]||this.query(f,"symbol")||this._symbol[i%this._symbol.length],e)?(this.selectedMap[u]=e.isSelected(u),this._sIndex2ColorMap[n[i]]=e.getColor(u),s=e.getItemShape(u))&&(r=s.style,this.type==t.CHART_TYPE_LINE?(r.iconType="legendLineIcon",r.symbol=this._sIndex2ShapeMap[n[i]]):f.itemStyle.normal.barBorderWidth>0&&(v=s.highlightStyle,r.brushType="both",r.x+=1,r.y+=1,r.width-=2,r.height-=2,r.strokeColor=v.strokeColor=f.itemStyle.normal.barBorderColor,v.lineWidth=3),e.setItemShape(u,s)):(this.selectedMap[u]=!0,this._sIndex2ColorMap[n[i]]=this.zr.getColor(n[i])),this.selectedMap[u]&&(o=f.stack||"__kener__stack__"+n[i],null==c[o]?(c[o]=h,l[h]=[n[i]],h++):l[c[o]].push(n[i])),a=Math.max(a,f.data.length);return{locationMap:l,maxDataLength:a}},_calculMarkMapXY:function(n,t,i){for(var o,a,h,c,l=this.series,e=0,v=t.length;v>e;e++)for(o=0,a=t[e].length;a>o;o++){var s=t[e][o],u="xy"==i?0:"",f=this.component.grid,r=n[s];"-1"!=i.indexOf("x")&&(r["counter"+u]>0&&(r["average"+u]=r["sum"+u]/r["counter"+u]),h=this.component.xAxis.getAxis(l[s].xAxisIndex||0).getCoord(r["average"+u]),r["averageLine"+u]=[[h,f.getYend()],[h,f.getY()]],r["minLine"+u]=[[r["minX"+u],f.getYend()],[r["minX"+u],f.getY()]],r["maxLine"+u]=[[r["maxX"+u],f.getYend()],[r["maxX"+u],f.getY()]],r.isHorizontal=!1);(u="xy"==i?1:"","-1"!=i.indexOf("y"))&&(r["counter"+u]>0&&(r["average"+u]=r["sum"+u]/r["counter"+u]),c=this.component.yAxis.getAxis(l[s].yAxisIndex||0).getCoord(r["average"+u]),r["averageLine"+u]=[[f.getX(),c],[f.getXend(),c]],r["minLine"+u]=[[f.getX(),r["minY"+u]],[f.getXend(),r["minY"+u]]],r["maxLine"+u]=[[f.getX(),r["maxY"+u]],[f.getXend(),r["maxY"+u]]],r.isHorizontal=!0)}},addLabel:function(n,t,i,r,u){var l=[i,t],o=this.deepMerge(l,"itemStyle.normal.label"),s=this.deepMerge(l,"itemStyle.emphasis.label"),h=o.textStyle||{},c=s.textStyle||{},f,e;return o.show&&(f=n.style,f.text=this._getLabelText(t,i,r,"normal"),f.textPosition=null==o.position?"horizontal"===u?"right":"top":o.position,f.textColor=h.color,f.textFont=this.getFont(h),f.textAlign=h.align,f.textBaseline=h.baseline),s.show&&(e=n.highlightStyle,e.text=this._getLabelText(t,i,r,"emphasis"),e.textPosition=o.show?n.style.textPosition:null==s.position?"horizontal"===u?"right":"top":s.position,e.textColor=c.color,e.textFont=this.getFont(c),e.textAlign=c.align,e.textBaseline=c.baseline),n},_getLabelText:function(n,t,i,r){var f=this.deepQuery([t,n],"itemStyle."+r+".label.formatter"),u;return f||"emphasis"!==r||(f=this.deepQuery([t,n],"itemStyle.normal.label.formatter")),u=this.getDataFromOption(t,"-"),f?"function"==typeof f?f.call(this.myChart,{seriesName:n.name,series:n,name:i,value:u,data:t,status:r}):"string"==typeof f?f=f.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",n.name).replace("{b0}",i).replace("{c0}",this.numAddCommas(u)):void 0:u instanceof Array?null!=u[2]?this.numAddCommas(u[2]):u[0]+" , "+u[1]:this.numAddCommas(u)},buildMark:function(n){var t=this.series[n];this.selectedMap[t.name]&&(t.markLine&&this._buildMarkLine(n),t.markPoint&&this._buildMarkPoint(n))},_buildMarkPoint:function(n){for(var e,l,i,f,a=(this.markAttachStyle||{})[n],h=this.series[n],c=r.clone(h.markPoint),u=0,o=c.data.length;o>u;u++)i=c.data[u],f=this.getMarkCoord(n,i),i.x=null!=i.x?i.x:f[0],i.y=null!=i.y?i.y:f[1],!i.type||"max"!==i.type&&"min"!==i.type||(i.value=f[3],i.name=i.name||i.type,i.symbolSize=i.symbolSize||b.getTextWidth(f[3],this.getFont())/2+5);for(var s=this._markPoint(n,c),u=0,o=s.length;o>u;u++){e=s[u];e.zlevel=h.zlevel;e.z=h.z+1;for(l in a)e[l]=r.clone(a[l]);this.shapeList.push(e)}if(this.type===t.CHART_TYPE_FORCE||this.type===t.CHART_TYPE_CHORD)for(u=0,o=s.length;o>u;u++)this.zr.addShape(s[u])},_buildMarkLine:function(n){for(var i,s,b,o,y,w,a,h,e,v=(this.markAttachStyle||{})[n],c=this.series[n],f=r.clone(c.markLine),u=0,l=f.data.length;l>u;u++)i=f.data[u],!i.type||"max"!==i.type&&"min"!==i.type&&"average"!==i.type?e=[this.getMarkCoord(n,i[0]),this.getMarkCoord(n,i[1])]:(e=this.getMarkCoord(n,i),f.data[u]=[r.clone(i),{}],f.data[u][0].name=i.name||i.type,f.data[u][0].value="average"!==i.type?e[3]:+e[3].toFixed(null!=f.precision?f.precision:this.deepQuery([this.ecTheme,t],"markLine.precision")),e=e[2],i=[{},{}]),null!=e&&null!=e[0]&&null!=e[1]&&(f.data[u][0].x=null!=i[0].x?i[0].x:e[0][0],f.data[u][0].y=null!=i[0].y?i[0].y:e[0][1],f.data[u][1].x=null!=i[1].x?i[1].x:e[1][0],f.data[u][1].y=null!=i[1].y?i[1].y:e[1][1]);if(s=this._markLine(n,f),b=f.large,b){if(o=new p({style:{shapeList:s}}),y=s[0],y){r.merge(o.style,y.style);r.merge(o.highlightStyle={},y.highlightStyle);o.style.brushType="stroke";o.zlevel=c.zlevel;o.z=c.z+1;o.hoverable=!1;for(h in v)o[h]=r.clone(v[h])}this.shapeList.push(o);this.zr.addShape(o);o._mark="largeLine";w=f.effect;w.show&&(o.effect=w)}else{for(u=0,l=s.length;l>u;u++){a=s[u];a.zlevel=c.zlevel;a.z=c.z+1;for(h in v)a[h]=r.clone(v[h]);this.shapeList.push(a)}if(this.type===t.CHART_TYPE_FORCE||this.type===t.CHART_TYPE_CHORD)for(u=0,l=s.length;l>u;u++)this.zr.addShape(s[u])}},_markPoint:function(n,u){var c=this.series[n],p=this.component,f,d;r.merge(r.merge(u,r.clone(this.ecTheme.markPoint||{})),r.clone(t.markPoint));u.name=c.name;var o,s,h,l,a,w,v,y=[],e=u.data,b=p.dataRange,k=p.legend,g=this.zr.getWidth(),nt=this.zr.getHeight();if(u.large)o=this.getLargeMarkPointShape(n,u),o._mark="largePoint",o&&y.push(o);else for(f=0,d=e.length;d>f;f++)null!=e[f].x&&null!=e[f].y&&(h=null!=e[f].value?e[f].value:"",k&&(s=k.getColor(c.name)),b&&(s=isNaN(h)?s:b.getColor(h),l=[e[f],u],a=this.deepQuery(l,"itemStyle.normal.color")||s,w=this.deepQuery(l,"itemStyle.emphasis.color")||a,null==a&&null==w)||(s=null==s?this.zr.getColor(n):s,e[f].tooltip=e[f].tooltip||u.tooltip||{trigger:"item"},e[f].name=null!=e[f].name?e[f].name:"",e[f].value=h,o=this.getSymbolShape(u,n,e[f],f,e[f].name,this.parsePercent(e[f].x,g),this.parsePercent(e[f].y,nt),"pin",s,"rgba(0,0,0,0)","horizontal"),o._mark="point",v=this.deepMerge([e[f],u],"effect"),v.show&&(o.effect=v),c.type===t.CHART_TYPE_MAP&&(o._geo=this.getMarkGeo(e[f])),i.pack(o,c,n,e[f],f,e[f].name,h),y.push(o)));return y},_markLine:function(){function n(n,t){n[t]=n[t]instanceof Array?n[t].length>1?n[t]:[n[t][0],n[t][0]]:[n[t],n[t]]}return function(u,f){var l=this.series[u],nt=this.component,tt=nt.dataRange,it=nt.legend,rt,o,p,st,b,k,g;r.merge(r.merge(f,r.clone(this.ecTheme.markLine||{})),r.clone(t.markLine));rt=it?it.getColor(l.name):this.zr.getColor(u);n(f,"symbol");n(f,"symbolSize");n(f,"symbolRotate");for(var ut=f.data,c=[],ft=this.zr.getWidth(),et=this.zr.getHeight(),s=0;s<ut.length;s++)if(o=ut[s],e(o[0])&&e(o[1])){var a=this.deepMerge(o),ot=[a,f],v=rt,y=null!=a.value?a.value:"";if(tt&&(v=isNaN(y)?v:tt.getColor(y),p=this.deepQuery(ot,"itemStyle.normal.color")||v,st=this.deepQuery(ot,"itemStyle.emphasis.color")||p,null==p&&null==st))continue;o[0].tooltip=a.tooltip||f.tooltip||{trigger:"item"};o[0].name=o[0].name||"";o[1].name=o[1].name||"";o[0].value=y;c.push({points:[[this.parsePercent(o[0].x,ft),this.parsePercent(o[0].y,et)],[this.parsePercent(o[1].x,ft),this.parsePercent(o[1].y,et)]],rawData:o,color:v})}b=this.query(f,"bundling.enable");b&&(k=new w,k.maxTurningAngle=this.query(f,"bundling.maxTurningAngle")/180*Math.PI,c=k.run(c));f.name=l.name;for(var ht=[],s=0,lt=c.length;lt>s;s++){var d=c[s],ct=d.rawEdge||d,o=ct.rawData,y=null!=o.value?o.value:"",h=this.getMarkLineShape(f,u,o,s,d.points,b,ct.color);h._mark="line";g=this.deepMerge([o[0],o[1],f],"effect");g.show&&(h.effect=g,h.effect.large=f.large);l.type===t.CHART_TYPE_MAP&&(h._geo=[this.getMarkGeo(o[0]),this.getMarkGeo(o[1])]);i.pack(h,l,u,o[0],s,o[0].name+(""!==o[1].name?" > "+o[1].name:""),y);ht.push(h)}return ht}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(n,t,r,u,f,e,o,s,h,a,v){var w=[r,n],ft=this.getDataFromOption(r,"-"),p,g;s=this.deepQuery(w,"symbol")||s;p=this.deepQuery(w,"symbolSize");p="function"==typeof p?p(ft):p;"number"==typeof p&&(p=[p,p]);var tt=this.deepQuery(w,"symbolRotate"),b=this.deepMerge(w,"itemStyle.normal"),k=this.deepMerge(w,"itemStyle.emphasis"),d=null!=b.borderWidth?b.borderWidth:b.lineStyle&&b.lineStyle.width;null==d&&(d=s.match("empty")?2:0);g=null!=k.borderWidth?k.borderWidth:k.lineStyle&&k.lineStyle.width;null==g&&(g=d+2);var nt=this.getItemStyleColor(b.color,t,u,r),it=this.getItemStyleColor(k.color,t,u,r),rt=p[0],ut=p[1],y=new l({style:{iconType:s.replace("empty","").toLowerCase(),x:e-rt,y:o-ut,width:2*rt,height:2*ut,brushType:"both",color:s.match("empty")?a:nt||h,strokeColor:b.borderColor||nt||h,lineWidth:d},highlightStyle:{color:s.match("empty")?a:it||nt||h,strokeColor:k.borderColor||b.borderColor||it||nt||h,lineWidth:g},clickable:this.deepQuery(w,"clickable")});return s.match("image")&&(y.style.image=s.replace(new RegExp("^image:\\/\\/"),""),y=new c({style:y.style,highlightStyle:y.highlightStyle,clickable:this.deepQuery(w,"clickable")})),null!=tt&&(y.rotation=[tt*Math.PI/180,e,o]),s.match("star")&&(y.style.iconType="star",y.style.n=s.replace("empty","").replace("star","")-0||5),"none"===s&&(y.invisible=!0,y.hoverable=!1),y=this.addLabel(y,n,r,f,v),s.match("empty")&&(null==y.style.textColor&&(y.style.textColor=y.style.strokeColor),null==y.highlightStyle.textColor&&(y.highlightStyle.textColor=y.highlightStyle.strokeColor)),i.pack(y,n,t,r,u,f),y._x=e,y._y=o,y._dataIndex=u,y._seriesIndex=t,y},getMarkLineShape:function(n,t,i,r,u,f,e){var g=null!=i[0].value?i[0].value:"-",nt=null!=i[1].value?i[1].value:"-",tt=[i[0].symbol||n.symbol[0],i[1].symbol||n.symbol[1]],h=[i[0].symbolSize||n.symbolSize[0],i[1].symbolSize||n.symbolSize[1]],s,k,d;h[0]="function"==typeof h[0]?h[0](g):h[0];h[1]="function"==typeof h[1]?h[1](nt):h[1];var it=[this.query(i[0],"symbolRotate")||n.symbolRotate[0],this.query(i[1],"symbolRotate")||n.symbolRotate[1]],p=[i[0],i[1],n],o=this.deepMerge(p,"itemStyle.normal");o.color=this.getItemStyleColor(o.color,t,r,i);s=this.deepMerge(p,"itemStyle.emphasis");s.color=this.getItemStyleColor(s.color,t,r,i);var c=o.lineStyle,v=s.lineStyle,b=c.width;null==b&&(b=o.borderWidth);k=v.width;null==k&&(k=null!=s.borderWidth?s.borderWidth:b+2);d=this.deepQuery(p,"smoothness");this.deepQuery(p,"smooth")||(d=0);var rt=f?y:a,w=new rt({style:{symbol:tt,symbolSize:h,symbolRotate:it,brushType:"both",lineType:c.type,shadowColor:c.shadowColor||c.color||o.borderColor||o.color||e,shadowBlur:c.shadowBlur,shadowOffsetX:c.shadowOffsetX,shadowOffsetY:c.shadowOffsetY,color:o.color||e,strokeColor:c.color||o.borderColor||o.color||e,lineWidth:b,symbolBorderColor:o.borderColor||o.color||e,symbolBorder:o.borderWidth},highlightStyle:{shadowColor:v.shadowColor,shadowBlur:v.shadowBlur,shadowOffsetX:v.shadowOffsetX,shadowOffsetY:v.shadowOffsetY,color:s.color||o.color||e,strokeColor:v.color||c.color||s.borderColor||o.borderColor||s.color||o.color||e,lineWidth:k,symbolBorderColor:s.borderColor||o.borderColor||s.color||o.color||e,symbolBorder:null==s.borderWidth?o.borderWidth+2:s.borderWidth},clickable:this.deepQuery(p,"clickable")}),l=w.style;return f?(l.pointList=u,l.smooth=d):(l.xStart=u[0][0],l.yStart=u[0][1],l.xEnd=u[1][0],l.yEnd=u[1][1],l.curveness=d,w.updatePoints(w.style)),w=this.addLabel(w,n,i[0],i[0].name+" : "+i[1].name)},getLargeMarkPointShape:function(n,t){var o,i,s,h,c,r,w=this.series[n],l=this.component,u=t.data,a=l.dataRange,y=l.legend,f=[u[0],t],e,p;if(y&&(i=y.getColor(w.name)),!a||(s=null!=u[0].value?u[0].value:"",i=isNaN(s)?i:a.getColor(s),h=this.deepQuery(f,"itemStyle.normal.color")||i,c=this.deepQuery(f,"itemStyle.emphasis.color")||h,null!=h||null!=c))return i=this.deepMerge(f,"itemStyle.normal").color||i,e=this.deepQuery(f,"symbol")||"circle",e=e.replace("empty","").replace(/\d/g,""),r=this.deepMerge([u[0],t],"effect"),p=window.devicePixelRatio||1,o=new v({style:{pointList:u,color:i,strokeColor:i,shadowColor:r.shadowColor||i,shadowBlur:(null!=r.shadowBlur?r.shadowBlur:8)*p,size:this.deepQuery(f,"symbolSize"),iconType:e,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),r.show&&(o.effect=r),o},backupShapeList:function(){this.shapeList&&this.shapeList.length>0?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var c,n,a=this.option.animationThreshold/(this.canvasSupported?2:4),r=this.lastShapeList,u=this.shapeList,s=r.length>0,h=s?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration"),l=this.query(this.option,"animationEasing"),f={},o={},i,e;if(this.option.animation&&!this.option.renderAsImage&&u.length<a&&!this.motionlessOnce){for(i=0,e=r.length;e>i;i++)n=this._getAnimationKey(r[i]),n.match("undefined")?this.zr.delShape(r[i].id):(n+=r[i].type,f[n]?this.zr.delShape(r[i].id):f[n]=r[i]);for(i=0,e=u.length;e>i;i++)n=this._getAnimationKey(u[i]),n.match("undefined")?this.zr.addShape(u[i]):(n+=u[i].type,o[n]=u[i]);for(n in f)o[n]||this.zr.delShape(f[n].id);for(n in o)f[n]?(this.zr.delShape(f[n].id),this._animateMod(f[n],o[n],h,l,0,s)):(c=this.type!=t.CHART_TYPE_LINE&&this.type!=t.CHART_TYPE_RADAR||0===n.indexOf("icon")?0:h/2,this._animateMod(!1,o[n],h,l,c,s));this.zr.refresh();this.animationEffect()}else for(this.motionlessOnce=!1,this.zr.delShape(r),i=0,e=u.length;e>i;i++)this.zr.addShape(u[i])},_getAnimationKey:function(n){return this.type!=t.CHART_TYPE_MAP&&this.type!=t.CHART_TYPE_TREEMAP&&this.type!=t.CHART_TYPE_VENN&&this.type!=t.CHART_TYPE_TREE?i.get(n,"seriesIndex")+"_"+i.get(n,"dataIndex")+(n._mark?n._mark:"")+(this.type===t.CHART_TYPE_RADAR?i.get(n,"special"):""):i.get(n,"seriesIndex")+"_"+i.get(n,"dataIndex")+(n._mark?n._mark:"undefined")},_animateMod:function(n,t,r,f,e,o){switch(t.type){case"polyline":case"half-smooth-polygon":u.pointList(this.zr,n,t,r,f);break;case"rectangle":u.rectangle(this.zr,n,t,r,f);break;case"image":case"icon":u.icon(this.zr,n,t,r,f,e);break;case"candle":o?this.zr.addShape(t):u.candle(this.zr,n,t,r,f);break;case"ring":case"sector":case"circle":o?"sector"===t.type?u.sector(this.zr,n,t,r,f):this.zr.addShape(t):u.ring(this.zr,n,t,r+(i.get(t,"dataIndex")||0)%20*100,f);break;case"text":u.text(this.zr,n,t,r,f);break;case"polygon":o?u.pointList(this.zr,n,t,r,f):u.polygon(this.zr,n,t,r,f);break;case"ribbon":u.ribbon(this.zr,n,t,r,f);break;case"gauge-pointer":u.gaugePointer(this.zr,n,t,r,f);break;case"mark-line":u.markline(this.zr,n,t,r,f);break;case"bezier-curve":case"line":u.line(this.zr,n,t,r,f);break;default:this.zr.addShape(t)}},animationMark:function(n,t,i){for(var i=i||this.shapeList,r=0,u=i.length;u>r;r++)i[r]._mark&&this._animateMod(!1,i[r],n,t,0,!0);this.animationEffect(i)},animationEffect:function(n){var u,i,r,f;if(!n&&this.clearEffectShape(),n=n||this.shapeList,null!=n)for(u=t.EFFECT_ZLEVEL,this.canvasSupported&&this.zr.modLayer(u,{motionBlur:!0,lastFrameAlpha:this.option.effectBlendAlpha||t.effectBlendAlpha}),r=0,f=n.length;f>r;r++)i=n[r],i._mark&&i.effect&&i.effect.show&&o[i._mark]&&(o[i._mark](this.zr,this.effectList,i,u),this.effectList[this.effectList.length-1]._mark=i._mark)},clearEffectShape:function(n){var i=this.effectList,r;if(this.zr&&i&&i.length>0)for(n&&this.zr.modLayer(t.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(i),r=0;r<i.length;r++)i[r].effectAnimator&&i[r].effectAnimator.stop();this.effectList=[]},addMark:function(n,t,i){var r=this.series[n],u,e;if(this.selectedMap[r.name]){var o=this.query(this.option,"animationDurationUpdate"),s=this.query(this.option,"animationEasing"),h=r[i].data,f=this.shapeList.length;if(r[i].data=t.data,this["_build"+i.replace("m","M")](n),this.option.animation&&!this.option.renderAsImage)this.animationMark(o,s,this.shapeList.slice(f));else{for(u=f,e=this.shapeList.length;e>u;u++)this.zr.addShape(this.shapeList[u]);this.zr.refreshNextFrame()}r[i].data=h}},delMark:function(n,t,r){var o,u,h;if(r=r.replace("mark","").replace("large","").toLowerCase(),o=this.series[n],this.selectedMap[o.name]){for(var s=!1,e=[this.shapeList,this.effectList],f=2;f--;)for(u=0,h=e[f].length;h>u;u++)if(e[f][u]._mark==r&&i.get(e[f][u],"seriesIndex")==n&&i.get(e[f][u],"name")==t){this.zr.delShape(e[f][u].id);e[f].splice(u,1);s=!0;break}s&&this.zr.refreshNextFrame()}}},r.inherits(f,h),f});define("zrender/shape/Circle",["require","./Base","../tool/util"],function(n){"use strict";var i=n("./Base"),t=function(n){i.call(this,n)};return t.prototype={type:"circle",buildPath:function(n,t){n.moveTo(t.x+t.r,t.y);n.arc(t.x,t.y,t.r,0,2*Math.PI,!0)},getRect:function(n){if(n.__rect)return n.__rect;var t;return t="stroke"==n.brushType||"fill"==n.brushType?n.lineWidth||1:0,n.__rect={x:Math.round(n.x-n.r-t/2),y:Math.round(n.y-n.r-t/2),width:2*n.r+t,height:2*n.r+t},n.__rect}},n("../tool/util").inherits(t,i),t});define("echarts/util/accMath",[],function(){function t(n,t){var r=n.toString(),u=t.toString(),i=0;try{i=u.split(".")[1].length}catch(f){}try{i-=r.split(".")[1].length}catch(f){}return(r.replace(".","")-0)/(u.replace(".","")-0)*Math.pow(10,i)}function i(n,t){var r=n.toString(),u=t.toString(),i=0;try{i+=r.split(".")[1].length}catch(f){}try{i+=u.split(".")[1].length}catch(f){}return(r.replace(".","")-0)*(u.replace(".","")-0)/Math.pow(10,i)}function n(n,t){var r=0,u=0,i;try{r=n.toString().split(".")[1].length}catch(f){}try{u=t.toString().split(".")[1].length}catch(f){}return i=Math.pow(10,Math.max(r,u)),(Math.round(n*i)+Math.round(t*i))/i}function r(t,i){return n(t,-i)}return{accDiv:t,accMul:i,accAdd:n,accSub:r}});define("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(n){function r(n,t){var i=t.x,r=t.y,u=t.width/16,f=t.height/16;n.moveTo(i,r+t.height);n.lineTo(i+5*u,r+14*f);n.lineTo(i+t.width,r+3*f);n.lineTo(i+13*u,r);n.lineTo(i+2*u,r+11*f);n.lineTo(i,r+t.height);n.moveTo(i+6*u,r+10*f);n.lineTo(i+14*u,r+2*f);n.moveTo(i+10*u,r+13*f);n.lineTo(i+t.width,r+13*f);n.moveTo(i+13*u,r+10*f);n.lineTo(i+13*u,r+t.height)}function u(n,t){var i=t.x,r=t.y,f=t.width/16,u=t.height/16;n.moveTo(i,r+t.height);n.lineTo(i+5*f,r+14*u);n.lineTo(i+t.width,r+3*u);n.lineTo(i+13*f,r);n.lineTo(i+2*f,r+11*u);n.lineTo(i,r+t.height);n.moveTo(i+6*f,r+10*u);n.lineTo(i+14*f,r+2*u);n.moveTo(i+10*f,r+13*u);n.lineTo(i+t.width,r+13*u)}function f(n,t){var i=t.x,r=t.y,u=t.width/16,f=t.height/16;n.moveTo(i+4*u,r+15*f);n.lineTo(i+9*u,r+13*f);n.lineTo(i+14*u,r+8*f);n.lineTo(i+11*u,r+5*f);n.lineTo(i+6*u,r+10*f);n.lineTo(i+4*u,r+15*f);n.moveTo(i+5*u,r);n.lineTo(i+11*u,r);n.moveTo(i+5*u,r+f);n.lineTo(i+11*u,r+f);n.moveTo(i,r+2*f);n.lineTo(i+t.width,r+2*f);n.moveTo(i,r+5*f);n.lineTo(i+3*u,r+t.height);n.lineTo(i+13*u,r+t.height);n.lineTo(i+t.width,r+5*f)}function e(n,t){var i=t.x,r=t.y,u=t.width/16,f=t.height/16;n.moveTo(i,r+3*f);n.lineTo(i+6*u,r+3*f);n.moveTo(i+3*u,r);n.lineTo(i+3*u,r+6*f);n.moveTo(i+3*u,r+8*f);n.lineTo(i+3*u,r+t.height);n.lineTo(i+t.width,r+t.height);n.lineTo(i+t.width,r+3*f);n.lineTo(i+8*u,r+3*f)}function o(n,t){var i=t.x,r=t.y,u=t.width/16,f=t.height/16;n.moveTo(i+6*u,r);n.lineTo(i+2*u,r+3*f);n.lineTo(i+6*u,r+6*f);n.moveTo(i+2*u,r+3*f);n.lineTo(i+14*u,r+3*f);n.lineTo(i+14*u,r+11*f);n.moveTo(i+2*u,r+5*f);n.lineTo(i+2*u,r+13*f);n.lineTo(i+14*u,r+13*f);n.moveTo(i+10*u,r+10*f);n.lineTo(i+14*u,r+13*f);n.lineTo(i+10*u,r+t.height)}function s(n,t){var i=t.x,r=t.y,u=t.width/16,e=t.height/16,f=t.width/2;n.lineWidth=1.5;n.arc(i+f,r+f,f-u,0,2*Math.PI/3);n.moveTo(i+3*u,r+t.height);n.lineTo(i+0*u,r+12*e);n.lineTo(i+5*u,r+11*e);n.moveTo(i,r+8*e);n.arc(i+f,r+f,f-u,Math.PI,5*Math.PI/3);n.moveTo(i+13*u,r);n.lineTo(i+t.width,r+4*e);n.lineTo(i+11*u,r+5*e)}function h(n,t){var i=t.x,r=t.y,u=t.width/16,f=t.height/16;n.moveTo(i,r);n.lineTo(i,r+t.height);n.lineTo(i+t.width,r+t.height);n.moveTo(i+2*u,r+14*f);n.lineTo(i+7*u,r+6*f);n.lineTo(i+11*u,r+11*f);n.lineTo(i+15*u,r+2*f)}function c(n,t){var i=t.x,r=t.y,u=t.width/16,f=t.height/16;n.moveTo(i,r);n.lineTo(i,r+t.height);n.lineTo(i+t.width,r+t.height);n.moveTo(i+3*u,r+14*f);n.lineTo(i+3*u,r+6*f);n.lineTo(i+4*u,r+6*f);n.lineTo(i+4*u,r+14*f);n.moveTo(i+7*u,r+14*f);n.lineTo(i+7*u,r+2*f);n.lineTo(i+8*u,r+2*f);n.lineTo(i+8*u,r+14*f);n.moveTo(i+11*u,r+14*f);n.lineTo(i+11*u,r+9*f);n.lineTo(i+12*u,r+9*f);n.lineTo(i+12*u,r+14*f)}function l(n,t){var u=t.x,r=t.y,f=t.width-2,e=t.height-2,i=Math.min(f,e)/2;r+=2;n.moveTo(u+i+3,r+i-3);n.arc(u+i+3,r+i-3,i-1,0,-Math.PI/2,!0);n.lineTo(u+i+3,r+i-3);n.moveTo(u+i,r);n.lineTo(u+i,r+i);n.arc(u+i,r+i,i,-Math.PI/2,2*Math.PI,!0);n.lineTo(u+i,r+i);n.lineWidth=1.5}function a(n,t){var u=t.x,i=t.y,f=t.width/16,r=t.height/16;i-=r;n.moveTo(u+1*f,i+2*r);n.lineTo(u+15*f,i+2*r);n.lineTo(u+14*f,i+3*r);n.lineTo(u+2*f,i+3*r);n.moveTo(u+3*f,i+6*r);n.lineTo(u+13*f,i+6*r);n.lineTo(u+12*f,i+7*r);n.lineTo(u+4*f,i+7*r);n.moveTo(u+5*f,i+10*r);n.lineTo(u+11*f,i+10*r);n.lineTo(u+10*f,i+11*r);n.lineTo(u+6*f,i+11*r);n.moveTo(u+7*f,i+14*r);n.lineTo(u+9*f,i+14*r);n.lineTo(u+8*f,i+15*r);n.lineTo(u+7*f,i+15*r)}function v(n,t){var f=t.x,e=t.y,o=t.width,s=t.height,r=o/16,u=s/16,i=2*Math.min(r,u);n.moveTo(f+r+i,e+u+i);n.arc(f+r,e+u,i,Math.PI/4,3*Math.PI);n.lineTo(f+7*r-i,e+6*u-i);n.arc(f+7*r,e+6*u,i,Math.PI/4*5,4*Math.PI);n.arc(f+7*r,e+6*u,i/2,Math.PI/4*5,4*Math.PI);n.moveTo(f+7*r-i/2,e+6*u+i);n.lineTo(f+r+i,e+14*u-i);n.arc(f+r,e+14*u,i,-Math.PI/4,2*Math.PI);n.moveTo(f+7*r+i/2,e+6*u);n.lineTo(f+14*r-i,e+10*u-i/2);n.moveTo(f+16*r,e+10*u);n.arc(f+14*r,e+10*u,i,0,3*Math.PI);n.lineWidth=1.5}function y(n,t){var r=t.x,u=t.y,f=t.width,e=t.height,i=Math.min(f,e)/2;n.moveTo(r+f,u+e/2);n.arc(r+i,u+i,i,0,2*Math.PI);n.arc(r+i,u,i,Math.PI/4,Math.PI/5*4);n.arc(r,u+i,i,-Math.PI/3,Math.PI/3);n.arc(r+f,u+e,i,Math.PI,Math.PI/2*3);n.lineWidth=1.5}function p(n,t){for(var u=t.x,f=t.y,e=t.width,o=t.height,i=Math.round(o/3),s=Math.round((i-2)/2),r=3;r--;)n.rect(u,f+i*r+s,e,2)}function w(n,t){for(var u=t.x,f=t.y,e=t.width,o=t.height,i=Math.round(e/3),s=Math.round((i-2)/2),r=3;r--;)n.rect(u+i*r+s,f,2,o)}function b(n,t){var r=t.x,u=t.y,i=t.width/16;n.moveTo(r+i,u);n.lineTo(r+i,u+t.height);n.lineTo(r+15*i,u+t.height);n.lineTo(r+15*i,u);n.lineTo(r+i,u);n.moveTo(r+3*i,u+3*i);n.lineTo(r+13*i,u+3*i);n.moveTo(r+3*i,u+6*i);n.lineTo(r+13*i,u+6*i);n.moveTo(r+3*i,u+9*i);n.lineTo(r+13*i,u+9*i);n.moveTo(r+3*i,u+12*i);n.lineTo(r+9*i,u+12*i)}function k(n,t){var i=t.x,r=t.y,u=t.width/16,f=t.height/16;n.moveTo(i,r);n.lineTo(i,r+t.height);n.lineTo(i+t.width,r+t.height);n.lineTo(i+t.width,r);n.lineTo(i,r);n.moveTo(i+4*u,r);n.lineTo(i+4*u,r+8*f);n.lineTo(i+12*u,r+8*f);n.lineTo(i+12*u,r);n.moveTo(i+6*u,r+11*f);n.lineTo(i+6*u,r+13*f);n.lineTo(i+10*u,r+13*f);n.lineTo(i+10*u,r+11*f);n.lineTo(i+6*u,r+11*f)}function d(n,t){var i=t.x,r=t.y,u=t.width,f=t.height;n.moveTo(i,r+f/2);n.lineTo(i+u,r+f/2);n.moveTo(i+u/2,r);n.lineTo(i+u/2,r+f)}function g(n,t){var i=t.width/2,r=t.height/2,u=Math.min(i,r);n.moveTo(t.x+i+u,t.y+r);n.arc(t.x+i,t.y+r,u,0,2*Math.PI);n.closePath()}function nt(n,t){n.rect(t.x,t.y,t.width,t.height);n.closePath()}function tt(n,t){var f=t.width/2,e=t.height/2,r=t.x+f,u=t.y+e,i=Math.min(f,e);n.moveTo(r,u-i);n.lineTo(r+i,u+i);n.lineTo(r-i,u+i);n.lineTo(r,u-i);n.closePath()}function it(n,t){var f=t.width/2,e=t.height/2,i=t.x+f,r=t.y+e,u=Math.min(f,e);n.moveTo(i,r-u);n.lineTo(i+u,r);n.lineTo(i,r+u);n.lineTo(i-u,r);n.lineTo(i,r-u);n.closePath()}function rt(n,t){var i=t.x,r=t.y,u=t.width/16;n.moveTo(i+8*u,r);n.lineTo(i+u,r+t.height);n.lineTo(i+8*u,r+t.height/4*3);n.lineTo(i+15*u,r+t.height);n.lineTo(i+8*u,r);n.closePath()}function ut(t,i){var f=n("zrender/shape/Star"),r=i.width/2,u=i.height/2;f.prototype.buildPath(t,{x:i.x+r,y:i.y+u,r:Math.min(r,u),n:i.n||5})}function ft(t,i){var r=n("zrender/shape/Heart");r.prototype.buildPath(t,{x:i.x+i.width/2,y:i.y+.2*i.height,a:i.width/2,b:.8*i.height})}function et(t,i){var r=n("zrender/shape/Droplet");r.prototype.buildPath(t,{x:i.x+.5*i.width,y:i.y+.5*i.height,a:.5*i.width,b:.8*i.height})}function ot(n,t){var u=t.x,f=t.y-t.height/2*1.5,i=t.width/2,r=t.height/2,e=Math.min(i,r);n.arc(u+i,f+r,e,Math.PI/5*4,Math.PI/5);n.lineTo(u+i,f+r+1.5*e);n.closePath()}function st(t,i,r){var f=n("zrender/shape/Image"),u;this._imageShape=this._imageShape||new f({style:{}});for(u in i)this._imageShape.style[u]=i[u];this._imageShape.brush(t,!1,r)}function t(n){i.call(this,n)}var ht=n("zrender/tool/util"),i=n("zrender/shape/Base");return t.prototype={type:"icon",iconLibrary:{mark:r,markUndo:u,markClear:f,dataZoom:e,dataZoomReset:o,restore:s,lineChart:h,barChart:c,pieChart:l,funnelChart:a,forceChart:v,chordChart:y,stackChart:p,tiledChart:w,dataView:b,saveAsImage:k,cross:d,circle:g,rectangle:nt,triangle:tt,diamond:it,arrow:rt,star:ut,heart:ft,droplet:et,pin:ot,image:st},brush:function(t,i,r){var u=i?this.highlightStyle:this.style,f,e;if(u=u||{},f=u.iconType||this.style.iconType,"image"===f)e=n("zrender/shape/Image"),e.prototype.brush.call(this,t,i,r);else{u=this.beforeBrush(t,i);switch(t.beginPath(),this.buildPath(t,u,r),u.brushType){case"both":t.fill();case"stroke":u.lineWidth>0&&t.stroke();break;default:t.fill()}this.drawText(t,u,this.style);this.afterBrush(t)}},buildPath:function(n,t,i){this.iconLibrary[t.iconType]?this.iconLibrary[t.iconType].call(this,n,t,i):(n.moveTo(t.x,t.y),n.lineTo(t.x+t.width,t.y),n.lineTo(t.x+t.width,t.y+t.height),n.lineTo(t.x,t.y+t.height),n.lineTo(t.x,t.y),n.closePath())},getRect:function(n){return n.__rect?n.__rect:(n.__rect={x:Math.round(n.x),y:Math.round(n.y-("pin"==n.iconType?n.height/2*1.5:0)),width:n.width,height:n.height*("pin"===n.iconType?1.25:1)},n.__rect)},isCover:function(n,t){var u=this.transformCoordToLocal(n,t),i,r;return n=u[0],t=u[1],i=this.style.__rect,i||(i=this.style.__rect=this.getRect(this.style)),r=i.height<8||i.width<8?4:0,n>=i.x-r&&n<=i.x+i.width+r&&t>=i.y-r&&t<=i.y+i.height+r}},ht.inherits(t,i),t});define("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(n){function t(n){i.call(this,n);this.style.curveness>0&&this.updatePoints(this.style);this.highlightStyle.curveness>0&&this.updatePoints(this.highlightStyle)}var i=n("zrender/shape/Base"),e=n("./Icon"),o=n("zrender/shape/Line"),r=new o({}),s=n("zrender/shape/BezierCurve"),u=new s({}),f=n("zrender/tool/area"),h=n("zrender/shape/util/dashedLineTo"),c=n("zrender/tool/util"),l=n("zrender/tool/curve");return t.prototype={type:"mark-line",brush:function(n,t){var i=this.style;t&&(i=this.getHighlightStyle(i,this.highlightStyle||{}));n.save();this.setContext(n,i);this.setTransform(n);n.save();n.beginPath();this.buildPath(n,i);n.stroke();n.restore();this.brushSymbol(n,i,0);this.brushSymbol(n,i,1);this.drawText(n,i,this.style);n.restore()},buildPath:function(n,t){var r=t.lineType||"solid",i,u;if(n.moveTo(t.xStart,t.yStart),t.curveness>0){i=null;switch(r){case"dashed":i=[5,5];break;case"dotted":i=[1,1]}i&&n.setLineDash&&n.setLineDash(i);n.quadraticCurveTo(t.cpX1,t.cpY1,t.xEnd,t.yEnd)}else"solid"==r?n.lineTo(t.xEnd,t.yEnd):(u=(t.lineWidth||1)*("dashed"==t.lineType?5:1),h(n,t.xStart,t.yStart,t.xEnd,t.yEnd,u))},updatePoints:function(n){var t=n.curveness||0,i=1,r=n.xStart,u=n.yStart,f=n.xEnd,e=n.yEnd,o=(r+f)/2-i*(u-e)*t,s=(u+e)/2-i*(f-r)*t;n.cpX1=o;n.cpY1=s},brushSymbol:function(n,t,i){var f,a,u;if("none"!=t.symbol[i]){n.save();n.beginPath();n.lineWidth=t.symbolBorder;n.strokeStyle=t.symbolBorderColor;f=t.symbol[i].replace("empty","").toLowerCase();t.symbol[i].match("empty")&&(n.fillStyle="#fff");var o=t.xStart,s=t.yStart,h=t.xEnd,c=t.yEnd,y=0===i?o:h,p=0===i?s:c,w=t.curveness||0,r=null!=t.symbolRotate[i]?t.symbolRotate[i]-0:0;if(r=r/180*Math.PI,"arrow"==f&&0===r)if(0===w)a=0===i?-1:1,r=Math.PI/2+Math.atan2(a*(c-s),a*(h-o));else{var b=t.cpX1,k=t.cpY1,v=l.quadraticDerivativeAt,d=v(o,b,h,i),g=v(s,k,c,i);r=Math.PI/2+Math.atan2(g,d)}n.translate(y,p);0!==r&&n.rotate(r);u=t.symbolSize[i];e.prototype.buildPath(n,{x:-u,y:-u,width:2*u,height:2*u,iconType:f});n.closePath();n.fill();n.stroke();n.restore()}},getRect:function(n){return n.curveness>0?u.getRect(n):r.getRect(n),n.__rect},isCover:function(n,t){var i=this.transformCoordToLocal(n,t);return n=i[0],t=i[1],this.isCoverRect(n,t)?this.style.curveness>0?f.isInside(u,this.style,n,t):f.isInside(r,this.style,n,t):!1}},c.inherits(t,i),t});define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(n){function t(n){i.call(this,n)}var i=n("zrender/shape/Base"),r=n("zrender/shape/Polygon"),u=new r({}),f=n("zrender/tool/util");return t.prototype={type:"symbol",buildPath:function(n,t){var o=t.pointList,h=o.length,f;if(0!==h)for(var l,s,a,r,u,v=1e4,p=Math.ceil(h/v),w=o[0]instanceof Array,y=t.size?t.size:2,e=y,i=y/2,b=2*Math.PI,c=0;p>c;c++){for(n.beginPath(),l=c*v,s=l+v,s=s>h?h:s,f=l;s>f;f++)if(t.random&&(a=t["randomMap"+f%20]/100,e=y*a*a,i=e/2),w?(r=o[f][0],u=o[f][1]):(r=o[f].x,u=o[f].y),3>e)n.rect(r-i,u-i,e,e);else switch(t.iconType){case"circle":n.moveTo(r,u);n.arc(r,u,i,0,b,!0);break;case"diamond":n.moveTo(r,u-i);n.lineTo(r+i/3,u-i/3);n.lineTo(r+i,u);n.lineTo(r+i/3,u+i/3);n.lineTo(r,u+i);n.lineTo(r-i/3,u+i/3);n.lineTo(r-i,u);n.lineTo(r-i/3,u-i/3);n.lineTo(r,u-i);break;default:n.rect(r-i,u-i,e,e)}if(n.closePath(),p-1>c)switch(t.brushType){case"both":n.fill();t.lineWidth>0&&n.stroke();break;case"stroke":t.lineWidth>0&&n.stroke();break;default:n.fill()}}},getRect:function(n){return n.__rect||u.getRect(n)},isCover:n("./normalIsCover")},f.inherits(t,i),t});define("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(n){var i=n("./Base"),r=n("./util/smoothSpline"),u=n("./util/smoothBezier"),f=n("./util/dashedLineTo"),t=function(n){this.brushTypeOnly="stroke";this.textPosition="end";i.call(this,n)};return t.prototype={type:"polyline",buildPath:function(n,t){var u=t.pointList,e,o,s,h,c,l,i;if(!(u.length<2))if(e=Math.min(t.pointList.length,Math.round(t.pointListLength||t.pointList.length)),t.smooth&&"spline"!==t.smooth)for(t.controlPointList||this.updateControlPoints(t),o=t.controlPointList,n.moveTo(u[0][0],u[0][1]),i=0;e-1>i;i++)s=o[2*i],h=o[2*i+1],c=u[i+1],n.bezierCurveTo(s[0],s[1],h[0],h[1],c[0],c[1]);else if("spline"===t.smooth&&(u=r(u),e=u.length),t.lineType&&"solid"!=t.lineType){if("dashed"==t.lineType||"dotted"==t.lineType)for(l=(t.lineWidth||1)*("dashed"==t.lineType?5:1),n.moveTo(u[0][0],u[0][1]),i=1;e>i;i++)f(n,u[i-1][0],u[i-1][1],u[i][0],u[i][1],l)}else for(n.moveTo(u[0][0],u[0][1]),i=1;e>i;i++)n.lineTo(u[i][0],u[i][1])},updateControlPoints:function(n){n.controlPointList=u(n.pointList,n.smooth,!1,n.smoothConstraint)},getRect:function(t){return n("./Polygon").prototype.getRect(t)}},n("../tool/util").inherits(t,i),t});define("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(n){var i=n("./Base"),t=function(n){i.call(this,n)};return t.prototype={constructor:t,type:"shape-bundle",brush:function(n,t){var r=this.beforeBrush(n,t),u,i,f;for(n.beginPath(),u=0;u<r.shapeList.length;u++)i=r.shapeList[u],f=i.style,t&&(f=i.getHighlightStyle(f,i.highlightStyle||{},i.brushTypeOnly)),i.buildPath(n,f);switch(r.brushType){case"both":n.fill();case"stroke":r.lineWidth>0&&n.stroke();break;default:n.fill()}this.drawText(n,r,this.style);this.afterBrush(n)},getRect:function(n){if(n.__rect)return n.__rect;for(var i=1/0,f=-(1/0),r=1/0,e=-(1/0),u=0;u<n.shapeList.length;u++)var o=n.shapeList[u],t=o.getRect(o.style),i=Math.min(t.x,i),r=Math.min(t.y,r),f=Math.max(t.x+t.width,f),e=Math.max(t.y+t.height,e);return n.__rect={x:i,y:r,width:f-i,height:e-r},n.__rect},isCover:function(n,t){var r=this.transformCoordToLocal(n,t),i,u;if(n=r[0],t=r[1],this.isCoverRect(n,t))for(i=0;i<this.style.shapeList.length;i++)if(u=this.style.shapeList[i],u.isCover(n,t))return!0;return!1}},n("../tool/util").inherits(t,i),t});define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(n){function u(n,t,i,u,f){var e,s=i.style.pointList,h=s.length,l,a,o,c;if(!t){if(e=[],"vertical"!=i._orient)for(l=s[0][1],o=0;h>o;o++)e[o]=[s[o][0],l];else for(a=s[0][0],o=0;h>o;o++)e[o]=[a,s[o][1]];"half-smooth-polygon"==i.type&&(e[h-1]=r.clone(s[h-1]),e[h-2]=r.clone(s[h-2]));t={style:{pointList:e}}}e=t.style.pointList;c=e.length;i.style.pointList=c==h?e:h>c?e.concat(s.slice(c)):e.slice(0,h);n.addShape(i);i.__animating=!0;n.animate(i.id,"style").when(u,{pointList:s}).during(function(){i.updateControlPoints&&i.updateControlPoints(i.style)}).done(function(){i.__animating=!1}).start(f)}function t(n,t){for(var r,u=arguments.length,i=2;u>i;i++)r=arguments[i],n.style[r]=t.style[r]}function i(n,i,r,u,f){var e=r.style;i||(i={position:r.position,style:{x:e.x,y:"vertical"==r._orient?e.y+e.height:e.y,width:"vertical"==r._orient?e.width:0,height:"vertical"!=r._orient?e.height:0}});var s=e.x,h=e.y,c=e.width,l=e.height,o=[r.position[0],r.position[1]];t(r,i,"x","y","width","height");r.position=i.position;n.addShape(r);(o[0]!=i.position[0]||o[1]!=i.position[1])&&n.animate(r.id,"").when(u,{position:o}).start(f);r.__animating=!0;n.animate(r.id,"style").when(u,{x:s,y:h,width:c,height:l}).done(function(){r.__animating=!1}).start(f)}function f(n,t,i,r,u){var f,e;t||(f=i.style.y,t={style:{y:[f[0],f[0],f[0],f[0]]}});e=i.style.y;i.style.y=t.style.y;n.addShape(i);i.__animating=!0;n.animate(i.id,"style").when(r,{y:e}).done(function(){i.__animating=!1}).start(u)}function e(n,t,i,r,u){var f=i.style.x,e=i.style.y,o=i.style.r0,s=i.style.r;i.__animating=!0;"r"!=i._animationAdd?(i.style.r0=0,i.style.r=0,i.rotation=[2*Math.PI,f,e],n.addShape(i),n.animate(i.id,"style").when(r,{r0:o,r:s}).done(function(){i.__animating=!1}).start(u),n.animate(i.id,"").when(r,{rotation:[0,f,e]}).start(u)):(i.style.r0=i.style.r,n.addShape(i),n.animate(i.id,"style").when(r,{r0:o}).done(function(){i.__animating=!1}).start(u))}function o(n,i,r,u,f){i||(i="r"!=r._animationAdd?{style:{startAngle:r.style.startAngle,endAngle:r.style.startAngle}}:{style:{r0:r.style.r}});var e=r.style.startAngle,o=r.style.endAngle;t(r,i,"startAngle","endAngle");n.addShape(r);r.__animating=!0;n.animate(r.id,"style").when(u,{startAngle:e,endAngle:o}).done(function(){r.__animating=!1}).start(f)}function s(n,i,r,u,f){i||(i={style:{x:"left"==r.style.textAlign?r.style.x+100:r.style.x-100,y:r.style.y}});var e=r.style.x,o=r.style.y;t(r,i,"x","y");n.addShape(r);r.__animating=!0;n.animate(r.id,"style").when(u,{x:e,y:o}).done(function(){r.__animating=!1}).start(f)}function h(t,i,r,u,f){var e=n("zrender/shape/Polygon").prototype.getRect(r.style),o=e.x+e.width/2,s=e.y+e.height/2;r.scale=[.1,.1,o,s];t.addShape(r);r.__animating=!0;t.animate(r.id,"").when(u,{scale:[1,1,o,s]}).done(function(){r.__animating=!1}).start(f)}function c(n,i,r,u,f){i||(i={style:{source0:0,source1:r.style.source1>0?360:-360,target0:0,target1:r.style.target1>0?360:-360}});var e=r.style.source0,o=r.style.source1,s=r.style.target0,h=r.style.target1;i.style&&t(r,i,"source0","source1","target0","target1");n.addShape(r);r.__animating=!0;n.animate(r.id,"style").when(u,{source0:e,source1:o,target0:s,target1:h}).done(function(){r.__animating=!1}).start(f)}function l(n,t,i,r,u){t||(t={style:{angle:i.style.startAngle}});var f=i.style.angle;i.style.angle=t.style.angle;n.addShape(i);i.__animating=!0;n.animate(i.id,"style").when(r,{angle:f}).done(function(){i.__animating=!1}).start(u)}function a(n,t,r,u,f,e){if(r.style._x=r.style.x,r.style._y=r.style.y,r.style._width=r.style.width,r.style._height=r.style.height,t)i(n,t,r,u,f);else{var o=r._x||0,s=r._y||0;r.scale=[.01,.01,o,s];n.addShape(r);r.__animating=!0;n.animate(r.id,"").delay(e).when(u,{scale:[1,1,o,s]}).done(function(){r.__animating=!1}).start(f||"QuinticOut")}}function v(n,i,r,u,f){i||(i={style:{xStart:r.style.xStart,yStart:r.style.yStart,xEnd:r.style.xStart,yEnd:r.style.yStart}});var e=r.style.xStart,o=r.style.xEnd,s=r.style.yStart,h=r.style.yEnd;t(r,i,"xStart","xEnd","yStart","yEnd");n.addShape(r);r.__animating=!0;n.animate(r.id,"style").when(u,{xStart:e,xEnd:o,yStart:s,yEnd:h}).done(function(){r.__animating=!1}).start(f)}function y(n,t,i,r,u){u=u||"QuinticOut";i.__animating=!0;n.addShape(i);var f=i.style,h=function(){i.__animating=!1},c=f.xStart,l=f.yStart,a=f.xEnd,v=f.yEnd;if(f.curveness>0){i.updatePoints(f);var e={p:0},w=f.cpX1,b=f.cpY1,o=[],s=[],y=p.quadraticSubdivide;n.animation.animate(e).when(r,{p:1}).during(function(){y(c,w,a,e.p,o);y(l,b,v,e.p,s);f.cpX1=o[1];f.cpY1=s[1];f.xEnd=o[2];f.yEnd=s[2];n.modShape(i)}).done(h).start(u)}else n.animate(i.id,"style").when(0,{xEnd:c,yEnd:l}).when(r,{xEnd:a,yEnd:v}).done(h).start(u)}var r=n("zrender/tool/util"),p=n("zrender/tool/curve");return{pointList:u,rectangle:i,candle:f,ring:e,sector:o,text:s,polygon:h,ribbon:c,gaugePointer:l,icon:a,line:v,markline:y}});define("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(n){function o(n,t,i,r){var o,s=i.effect,b=s.color||i.style.strokeColor||i.style.color,k=s.shadowColor||b,v=s.scaleSize,d=s.bounceDistance,h="undefined"!=typeof s.shadowBlur?s.shadowBlur:v,c,y,a,p,w;"image"!==i.type?(o=new l({zlevel:r,style:{brushType:"stroke",iconType:"droplet"!=i.style.iconType?i.style.iconType:"circle",x:h+1,y:h+1,n:i.style.n,width:i.style._width*v,height:i.style._height*v,lineWidth:1,strokeColor:b,shadowColor:k,shadowBlur:h},draggable:!1,hoverable:!1}),"pin"==i.style.iconType&&(o.style.y+=o.style.height/2*1.5),e&&(o.style.image=n.shapeToImage(o,o.style.width+2*h+2,o.style.height+2*h+2).style.image,o=new f({zlevel:o.zlevel,style:o.style,draggable:!1,hoverable:!1}))):o=new f({zlevel:r,style:i.style,draggable:!1,hoverable:!1});u.clone(i,o);o.position=i.position;t.push(o);n.addShape(o);c="image"!==i.type?window.devicePixelRatio||1:1;y=(o.style.width/c-i.style._width)/2;o.style.x=i.style._x-y;o.style.y=i.style._y-y;"pin"==i.style.iconType&&(o.style.y-=i.style.height/2*1.5);a=100*(s.period+10*Math.random());n.modShape(i.id,{invisible:!0});p=o.style.x+o.style.width/2/c;w=o.style.y+o.style.height/2/c;"scale"===s.type?(n.modShape(o.id,{scale:[.1,.1,p,w]}),n.animate(o.id,"",s.loop).when(a,{scale:[1,1,p,w]}).done(function(){i.effect.show=!1;n.delShape(o.id)}).start()):n.animate(o.id,"style",s.loop).when(a,{y:o.style.y-d}).when(2*a,{y:o.style.y}).done(function(){i.effect.show=!1;n.delShape(o.id)}).start()}function s(n,t,i,r){var f=i.effect,h=f.color||i.style.strokeColor||i.style.color,l=f.scaleSize,v=f.shadowColor||h,y="undefined"!=typeof f.shadowBlur?f.shadowBlur:2*l,p=window.devicePixelRatio||1,e=new a({zlevel:r,position:i.position,scale:i.scale,style:{pointList:i.style.pointList,iconType:i.style.iconType,color:h,strokeColor:h,shadowColor:v,shadowBlur:y*p,random:!0,brushType:"fill",lineWidth:1,size:i.style.size},draggable:!1,hoverable:!1});t.push(e);n.addShape(e);n.modShape(i.id,{invisible:!0});for(var o=Math.round(100*f.period),s={},c={},u=0;20>u;u++)e.style["randomMap"+u]=0,s={},s["randomMap"+u]=100,c={},c["randomMap"+u]=0,e.style["randomMap"+u]=100*Math.random(),n.animate(e.id,"style",!0).when(o,s).when(2*o,c).when(3*o,s).when(4*o,s).delay(Math.random()*o*u).start()}function r(n,r,f,o,s){var l=f.effect,a=f.style,lt=l.color||a.strokeColor||a.color,pt=l.shadowColor||a.strokeColor||lt,d=a.lineWidth*l.scaleSize,b="undefined"!=typeof l.shadowBlur?l.shadowBlur:d,h=new c({zlevel:o,style:{x:b,y:b,r:d,color:lt,shadowColor:pt,shadowBlur:b},hoverable:!1}),w=0,o,g,st,ht,at,et,vt,yt;if(e&&!s&&(o=h.zlevel,h=n.shapeToImage(h,2*(d+b),2*(d+b)),h.zlevel=o,h.hoverable=!1,w=b),s||(u.clone(f,h),h.position=f.position,r.push(h),n.addShape(h)),g=function(){s||(f.effect.show=!1,n.delShape(h.id));h.effectAnimator=null},f instanceof y){for(var ot=[0],nt=0,p=a.pointList,k=a.controlPointList,v=1;v<p.length;v++)k?(st=k[2*(v-1)],ht=k[2*(v-1)+1],nt+=i.dist(p[v-1],st)+i.dist(st,ht)+i.dist(ht,p[v])):nt+=i.dist(p[v-1],p[v]),ot.push(nt);for(var ct={p:0},tt=n.animation.animate(ct,{loop:l.loop}),v=0;v<ot.length;v++)tt.when(ot[v]*l.period,{p:v});tt.during(function(){var u,f,i=Math.floor(ct.p),c,l;if(i==p.length-1)u=p[i][0],f=p[i][1];else{var e=ct.p-i,r=p[i],o=p[i+1];k?(c=k[2*i],l=k[2*i+1],u=t.cubicAt(r[0],c[0],l[0],o[0],e),f=t.cubicAt(r[1],c[1],l[1],o[1],e)):(u=(o[0]-r[0])*e+r[0],f=(o[1]-r[1])*e+r[1])}h.style.x=u;h.style.y=f;s||n.modShape(h)}).done(g).start();tt.duration=nt*l.period;h.effectAnimator=tt}else{var it=a.xStart-w,rt=a.yStart-w,ut=a.xEnd-w,ft=a.yEnd-w;h.style.x=it;h.style.y=rt;at=(ut-it)*(ut-it)+(ft-rt)*(ft-rt);et=Math.round(Math.sqrt(Math.round(at*l.period*l.period)));f.style.curveness>0?(vt=a.cpX1-w,yt=a.cpY1-w,h.effectAnimator=n.animation.animate(h,{loop:l.loop}).when(et,{p:1}).during(function(i,r){h.style.x=t.quadraticAt(it,vt,ut,r);h.style.y=t.quadraticAt(rt,yt,ft,r);s||n.modShape(h)}).done(g).start()):h.effectAnimator=n.animation.animate(h.style,{loop:l.loop}).when(et,{x:ut,y:ft}).during(function(){s||n.modShape(h)}).done(g).start();h.effectAnimator.duration=et}return h}function h(n,t,i,u){var f=new v({style:{shapeList:[]},zlevel:u,hoverable:!1}),c=i.style.shapeList,y=i.effect,e,h,p,a,w;f.position=i.position;for(var s=0,l=[],o=0;o<c.length;o++)c[o].effect=y,e=r(n,null,c[o],u,!0),h=e.effectAnimator,f.style.shapeList.push(e),h.duration>s&&(s=h.duration),0===o&&(f.style.color=e.style.color,f.style.shadowBlur=e.style.shadowBlur,f.style.shadowColor=e.style.shadowColor),l.push(h);t.push(f);n.addShape(f);p=function(){for(var n=0;n<l.length;n++)l[n].stop()};s&&(f.__dummy=0,a=n.animate(f.id,"",y.loop).when(s,{__dummy:1}).during(function(){n.modShape(f)}).done(function(){i.effect.show=!1;n.delShape(f.id)}).start(),w=a.stop,a.stop=function(){p();w.call(this)})}var u=n("../util/ecData"),c=n("zrender/shape/Circle"),f=n("zrender/shape/Image"),t=n("zrender/tool/curve"),l=n("../util/shape/Icon"),a=n("../util/shape/Symbol"),v=n("zrender/shape/ShapeBundle"),y=n("zrender/shape/Polyline"),i=n("zrender/tool/vector"),e=n("zrender/tool/env").canvasSupported;return{point:o,largePoint:s,line:r,largeLine:h}});define("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(n){function f(n,i,r,u,f){this.ecTheme=n;this.messageCenter=i;this.zr=r;this.option=u;this.series=u.series;this.myChart=f;this.component=f.component;this.shapeList=[];this.effectList=[];var o=this;o._onlegendhoverlink=function(n){if(o.legendHoverLink)for(var r,u=n.target,i=o.shapeList.length-1;i>=0;i--)r=o.type==t.CHART_TYPE_PIE||o.type==t.CHART_TYPE_FUNNEL?e.get(o.shapeList[i],"name"):(e.get(o.shapeList[i],"series")||{}).name,r!=u||o.shapeList[i].invisible||o.shapeList[i].__animating||o.zr.addHoverShape(o.shapeList[i])};i&&i.bind(t.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var t=n("../config"),e=n("../util/ecData"),u=n("../util/ecQuery"),r=n("../util/number"),i=n("zrender/tool/util");return f.prototype={canvasSupported:n("zrender/tool/env").canvasSupported,_getZ:function(n){if(null!=this[n])return this[n];var i=this.ecTheme[this.type];return i&&null!=i[n]?i[n]:(i=t[this.type],i&&null!=i[n]?i[n]:0)},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(n){return n=i.merge(i.merge(n||{},i.clone(this.ecTheme[this.type]||{})),i.clone(t[this.type]||{})),this.z=n.z,this.zlevel=n.zlevel,n},reformCssArray:function(n){if(!(n instanceof Array))return[n,n,n,n];switch(n.length+""){case"4":return n;case"3":return[n[0],n[1],n[2],n[1]];case"2":return[n[0],n[1],n[0],n[1]];case"1":return[n[0],n[0],n[0],n[0]];case"0":return[0,0,0,0]}},getShapeById:function(n){for(var t=0,i=this.shapeList.length;i>t;t++)if(this.shapeList[t].id===n)return this.shapeList[t];return null},getFont:function(n){var t=this.getTextStyle(i.clone(n));return t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily},getTextStyle:function(n){return i.merge(i.merge(n||{},this.ecTheme.textStyle),t.textStyle)},getItemStyleColor:function(n,t,i,r){return"function"==typeof n?n.call(this.myChart,{seriesIndex:t,series:this.series[t],dataIndex:i,data:r}):n},getDataFromOption:function(n,t){return null!=n?null!=n.value?n.value:n:t},subPixelOptimize:function(n,t){return t%2==1?Math.floor(n)+.5:Math.round(n)},resize:function(){this.refresh&&this.refresh();this.clearEffectShape&&this.clearEffectShape(!0);var n=this;setTimeout(function(){n.animationEffect&&n.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape();this.zr&&this.zr.delShape(this.shapeList);this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose();this.clear();this.shapeList=null;this.effectList=null;this.messageCenter&&this.messageCenter.unbind(t.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink);this.onafterDispose&&this.onafterDispose()},query:u.query,deepQuery:u.deepQuery,deepMerge:u.deepMerge,parsePercent:r.parsePercent,parseCenter:r.parseCenter,parseRadius:r.parseRadius,numAddCommas:r.addCommas,getPrecision:r.getPrecision},f});define("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(n){function c(n,t){n=n.array;t=t.array;var i=t[0]-n[0],r=t[1]-n[1],u=t[2]-n[2],f=t[3]-n[3];return i*i+r*r+u*u+f*f}function e(n){this.points=[n.mp0,n.mp1];this.group=n}function o(n){var t=n.points;t[0][1]<t[1][1]||n instanceof e?(this.array=[t[0][0],t[0][1],t[1][0],t[1][1]],this._startPoint=t[0],this._endPoint=t[1]):(this.array=[t[1][0],t[1][1],t[0][0],t[0][1]],this._startPoint=t[1],this._endPoint=t[0]);this.ink=r(t[0],t[1]);this.edge=n;this.group=null}function f(){this.edgeList=[];this.mp0=i();this.mp1=i();this.ink=0}function s(){this.maxNearestEdge=6;this.maxTurningAngle=Math.PI/4;this.maxIteration=20}var l=n("../data/KDTree"),t=n("zrender/tool/vector"),i=t.create,h=t.distSquare,r=t.dist,u=t.copy,a=t.clone;return o.prototype.getStartPoint=function(){return this._startPoint},o.prototype.getEndPoint=function(){return this._endPoint},f.prototype.addEdge=function(n){n.group=this;this.edgeList.push(n)},f.prototype.removeEdge=function(n){n.group=null;this.edgeList.splice(this.edgeList.indexOf(n),1)},s.prototype={constructor:s,run:function(n){function s(n,t){return h(n,t)<1e-10}function l(n,t){for(var i=[],u=0,r=0;r<n.length;r++)u>0&&s(n[r],i[u-1])||(i[u++]=a(n[r]));return t[0]&&!s(i[0],t[0])&&(i=i.reverse()),i}for(var r,i,u,f,o,t=this._iterate(n),c=0;c++<this.maxIteration;){for(r=[],i=0;i<t.groups.length;i++)r.push(new e(t.groups[i]));if(u=this._iterate(r),u.savedInk<=0)break;t=u}return f=[],o=function(n,t){for(var r,i,c,u,s,h=0;h<n.length;h++)if(i=n[h],i.edgeList[0]&&i.edgeList[0].edge instanceof e){for(c=[],u=0;u<i.edgeList.length;u++)c.push(i.edgeList[u].edge.group);r=t?t.slice():[];r.unshift(i.mp0);r.push(i.mp1);o(c,r)}else for(u=0;u<i.edgeList.length;u++)s=i.edgeList[u],r=t?t.slice():[],r.unshift(i.mp0),r.push(i.mp1),r.unshift(s.getStartPoint()),r.push(s.getEndPoint()),f.push({points:l(r,s.edge.points),rawEdge:s.edge})},o(t.groups),f},_iterate:function(n){for(var t,e,y,r,a=[],p=[],nt=0,s=0;s<n.length;s++)t=new o(n[s]),a.push(t);for(var ft=new l(a,4),w=[],b=i(),k=i(),v=0,tt=i(),it=i(),rt=0,s=0;s<a.length;s++)if(t=a[s],!t.group){ft.nearestN(t,this.maxNearestEdge,c,w);for(var d=0,h=null,ut=null,g=0;g<w.length;g++)e=w[g],y=0,e.group?e.group!==ut&&(ut=e.group,v=this._calculateGroupEdgeInk(e.group,t,b,k),y=e.group.ink+t.ink-v):(v=this._calculateEdgeEdgeInk(t,e,b,k),y=e.ink+t.ink-v),y>d&&(d=y,h=e,u(it,k),u(tt,b),rt=v);h?(nt+=d,h.group||(r=new f,p.push(r),r.addEdge(h)),r=h.group,u(r.mp0,tt),u(r.mp1,it),r.ink=rt,h.group.addEdge(t)):(r=new f,p.push(r),u(r.mp0,t.getStartPoint()),u(r.mp1,t.getEndPoint()),r.ink=t.ink,r.addEdge(t))}return{groups:p,edges:a,savedInk:nt}},_calculateEdgeEdgeInk:function(){var n=[],t=[];return function(i,u,f,e){n[0]=i.getStartPoint();n[1]=u.getStartPoint();t[0]=i.getEndPoint();t[1]=u.getEndPoint();this._calculateMeetPoints(n,t,f,e);return r(n[0],f)+r(f,e)+r(e,t[0])+r(n[1],f)+r(e,t[1])}}(),_calculateGroupEdgeInk:function(n,t,i,u){for(var s,h,e=[],o=[],f=0;f<n.edgeList.length;f++)s=n.edgeList[f],e.push(s.getStartPoint()),o.push(s.getEndPoint());for(e.push(t.getStartPoint()),o.push(t.getEndPoint()),this._calculateMeetPoints(e,o,i,u),h=r(i,u),f=0;f<e.length;f++)h+=r(e[f],i)+r(o[f],u);return h},_calculateMeetPoints:function(){var n=i(),r=i();return function(i,u,f,e){var s,o;for(t.set(n,0,0),t.set(r,0,0),s=i.length,o=0;s>o;o++)t.add(n,n,i[o]);for(t.scale(n,n,1/s),s=u.length,o=0;s>o;o++)t.add(r,r,u[o]);t.scale(r,r,1/s);this._limitTurningAngle(i,n,r,f);this._limitTurningAngle(u,r,n,e)}}(),_limitTurningAngle:function(){var n=i(),u=i(),f=i(),e=i();return function(i,o,s,c){var d=Math.cos(this.maxTurningAngle),g=Math.tan(this.maxTurningAngle),a,l,v,y,p,b,k,w;for(t.sub(n,o,s),t.normalize(n,n),t.copy(c,o),a=0,l=0;l<i.length;l++)v=i[l],t.sub(u,v,o),y=t.len(u),t.scale(u,u,1/y),p=t.dot(u,n),d>p&&(t.scaleAndAdd(f,o,n,y*p),b=r(f,v),k=b/g,t.scaleAndAdd(e,f,n,-k),w=h(e,o),w>a&&(a=w,t.copy(c,e)))}}()},s});define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(n){var u=n("../tool/math"),f=u.sin,t=u.cos,i=Math.PI,e=n("./Base"),r=function(n){e.call(this,n)};return r.prototype={type:"star",buildPath:function(n,r){var o=r.n,u,l,b,e;if(o&&!(2>o)){var a=r.x,v=r.y,h=r.r,c=r.r0;null==c&&(c=o>4?h*t(2*i/o)/t(i/o):h/3);var y=i/o,s=-i/2,p=a+h*t(s),w=v+h*f(s);for(s+=y,u=r.pointList=[],u.push([p,w]),e=0,b=2*o-1;b>e;e++)l=e%2==0?c:h,u.push([a+l*t(s),v+l*f(s)]),s+=y;for(u.push([p,w]),n.moveTo(u[0][0],u[0][1]),e=0;e<u.length;e++)n.lineTo(u[e][0],u[e][1]);n.closePath()}},getRect:function(n){if(n.__rect)return n.__rect;var t;return t="stroke"==n.brushType||"fill"==n.brushType?n.lineWidth||1:0,n.__rect={x:Math.round(n.x-n.r-t/2),y:Math.round(n.y-n.r-t/2),width:2*n.r+t,height:2*n.r+t},n.__rect}},n("../tool/util").inherits(r,e),r});define("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(n){"use strict";var i=n("./Base"),r=n("./util/PathProxy"),u=n("../tool/area"),t=function(n){i.call(this,n);this._pathProxy=new r};return t.prototype={type:"heart",buildPath:function(n,t){var i=this._pathProxy||new r;i.begin(n);i.moveTo(t.x,t.y);i.bezierCurveTo(t.x+t.a/2,t.y-2*t.b/3,t.x+2*t.a,t.y+t.b/3,t.x,t.y+t.b);i.bezierCurveTo(t.x-2*t.a,t.y+t.b/3,t.x-t.a/2,t.y-2*t.b/3,t.x,t.y);i.closePath()},getRect:function(n){return n.__rect?n.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,n),this._pathProxy.fastBoundingRect())},isCover:function(n,t){var i=this.transformCoordToLocal(n,t);return n=i[0],t=i[1],this.isCoverRect(n,t)?u.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,n,t):void 0}},n("../tool/util").inherits(t,i),t});define("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(n){"use strict";var i=n("./Base"),r=n("./util/PathProxy"),u=n("../tool/area"),t=function(n){i.call(this,n);this._pathProxy=new r};return t.prototype={type:"droplet",buildPath:function(n,t){var i=this._pathProxy||new r;i.begin(n);i.moveTo(t.x,t.y+t.a);i.bezierCurveTo(t.x+t.a,t.y+t.a,t.x+3*t.a/2,t.y-t.a/3,t.x,t.y-t.b);i.bezierCurveTo(t.x-3*t.a/2,t.y-t.a/3,t.x-t.a,t.y+t.a,t.x,t.y+t.a);i.closePath()},getRect:function(n){return n.__rect?n.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,n),this._pathProxy.fastBoundingRect())},isCover:function(n,t){var i=this.transformCoordToLocal(n,t);return n=i[0],t=i[1],this.isCoverRect(n,t)?u.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,n,t):void 0}},n("../tool/util").inherits(t,i),t});define("zrender/tool/math",[],function(){function t(t,i){return Math.sin(i?t*n:t)}function i(t,i){return Math.cos(i?t*n:t)}function r(t){return t*n}function u(t){return t/n}var n=Math.PI/180;return{sin:t,cos:i,degreeToRadian:r,radianToDegree:u}});define("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(n){var r=n("../../tool/vector"),i=function(n,t){this.command=n;this.points=t||null},t=function(){this.pathCommands=[];this._ctx=null;this._min=[];this._max=[]};return t.prototype.fastBoundingRect=function(){var n=this._min,t=this._max,f,e,i,u;for(n[0]=n[1]=1/0,t[0]=t[1]=-(1/0),f=0;f<this.pathCommands.length;f++){e=this.pathCommands[f];i=e.points;switch(e.command){case"M":r.min(n,n,i);r.max(t,t,i);break;case"L":r.min(n,n,i);r.max(t,t,i);break;case"C":for(u=0;6>u;u+=2)n[0]=Math.min(n[0],n[0],i[u]),n[1]=Math.min(n[1],n[1],i[u+1]),t[0]=Math.max(t[0],t[0],i[u]),t[1]=Math.max(t[1],t[1],i[u+1]);break;case"Q":for(u=0;4>u;u+=2)n[0]=Math.min(n[0],n[0],i[u]),n[1]=Math.min(n[1],n[1],i[u+1]),t[0]=Math.max(t[0],t[0],i[u]),t[1]=Math.max(t[1],t[1],i[u+1]);break;case"A":var o=i[0],s=i[1],h=i[2],c=i[3];n[0]=Math.min(n[0],n[0],o-h);n[1]=Math.min(n[1],n[1],s-c);t[0]=Math.max(t[0],t[0],o+h);t[1]=Math.max(t[1],t[1],s+c)}}return{x:n[0],y:n[1],width:t[0]-n[0],height:t[1]-n[1]}},t.prototype.begin=function(n){return this._ctx=n||null,this.pathCommands.length=0,this},t.prototype.moveTo=function(n,t){return this.pathCommands.push(new i("M",[n,t])),this._ctx&&this._ctx.moveTo(n,t),this},t.prototype.lineTo=function(n,t){return this.pathCommands.push(new i("L",[n,t])),this._ctx&&this._ctx.lineTo(n,t),this},t.prototype.bezierCurveTo=function(n,t,r,u,f,e){return this.pathCommands.push(new i("C",[n,t,r,u,f,e])),this._ctx&&this._ctx.bezierCurveTo(n,t,r,u,f,e),this},t.prototype.quadraticCurveTo=function(n,t,r,u){return this.pathCommands.push(new i("Q",[n,t,r,u])),this._ctx&&this._ctx.quadraticCurveTo(n,t,r,u),this},t.prototype.arc=function(n,t,r,u,f,e){return this.pathCommands.push(new i("A",[n,t,r,r,u,f-u,0,e?0:1])),this._ctx&&this._ctx.arc(n,t,r,u,f,e),this},t.prototype.arcTo=function(n,t,i,r,u){return this._ctx&&this._ctx.arcTo(n,t,i,r,u),this},t.prototype.rect=function(n,t,i,r){return this._ctx&&this._ctx.rect(n,t,i,r),this},t.prototype.closePath=function(){return this.pathCommands.push(new i("z")),this._ctx&&this._ctx.closePath(),this},t.prototype.isEmpty=function(){return 0===this.pathCommands.length},t.PathSegment=i,t});define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(n){var i=n("./Base"),r=n("./util/dashedLineTo"),t=function(n){this.brushTypeOnly="stroke";this.textPosition="end";i.call(this,n)};return t.prototype={type:"line",buildPath:function(n,t){if(t.lineType&&"solid"!=t.lineType){if("dashed"==t.lineType||"dotted"==t.lineType){var i=(t.lineWidth||1)*("dashed"==t.lineType?5:1);r(n,t.xStart,t.yStart,t.xEnd,t.yEnd,i)}}else n.moveTo(t.xStart,t.yStart),n.lineTo(t.xEnd,t.yEnd)},getRect:function(n){if(n.__rect)return n.__rect;var t=n.lineWidth||1;return n.__rect={x:Math.min(n.xStart,n.xEnd)-t,y:Math.min(n.yStart,n.yEnd)-t,width:Math.abs(n.xStart-n.xEnd)+t,height:Math.abs(n.yStart-n.yEnd)+t},n.__rect}},n("../tool/util").inherits(t,i),t});define("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(n){"use strict";var i=n("./Base"),t=function(n){this.brushTypeOnly="stroke";this.textPosition="end";i.call(this,n)};return t.prototype={type:"bezier-curve",buildPath:function(n,t){n.moveTo(t.xStart,t.yStart);"undefined"!=typeof t.cpX2&&"undefined"!=typeof t.cpY2?n.bezierCurveTo(t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd):n.quadraticCurveTo(t.cpX1,t.cpY1,t.xEnd,t.yEnd)},getRect:function(n){var t;if(n.__rect)return n.__rect;var i=Math.min(n.xStart,n.xEnd,n.cpX1),r=Math.min(n.yStart,n.yEnd,n.cpY1),u=Math.max(n.xStart,n.xEnd,n.cpX1),f=Math.max(n.yStart,n.yEnd,n.cpY1),e=n.cpX2,o=n.cpY2;return"undefined"!=typeof e&&"undefined"!=typeof o&&(i=Math.min(i,e),r=Math.min(r,o),u=Math.max(u,e),f=Math.max(f,o)),t=n.lineWidth||1,n.__rect={x:i-t,y:r-t,width:u-i+t,height:f-r+t},n.__rect}},n("../tool/util").inherits(t,i),t});define("zrender/shape/util/dashedLineTo",[],function(){var n=[5,5];return function(t,i,r,u,f,e){var h,l;if(t.setLineDash)return n[0]=n[1]=e,t.setLineDash(n),t.moveTo(i,r),void t.lineTo(u,f);e="number"!=typeof e?5:e;var o=u-i,s=f-r,c=Math.floor(Math.sqrt(o*o+s*s)/e);for(o/=c,s/=c,h=!0,l=0;c>l;++l)h?t.moveTo(i,r):t.lineTo(i,r),h=!h,i+=o,r+=s;t.lineTo(u,f)}});define("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(n){var i=n("./Base"),u=n("./util/smoothSpline"),f=n("./util/smoothBezier"),r=n("./util/dashedLineTo"),t=function(n){i.call(this,n)};return t.prototype={type:"polygon",buildPath:function(n,t){var i=t.pointList,h,c,l,a,v,o,e,s;if(!(i.length<2)){if(t.smooth&&"spline"!==t.smooth)for(h=f(i,t.smooth,!0,t.smoothConstraint),n.moveTo(i[0][0],i[0][1]),v=i.length,e=0;v>e;e++)c=h[2*e],l=h[2*e+1],a=i[(e+1)%v],n.bezierCurveTo(c[0],c[1],l[0],l[1],a[0],a[1]);else if("spline"===t.smooth&&(i=u(i,!0)),t.lineType&&"solid"!=t.lineType){if("dashed"==t.lineType||"dotted"==t.lineType){for(o=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1),t._dashLength=o,n.moveTo(i[0][0],i[0][1]),e=1,s=i.length;s>e;e++)r(n,i[e-1][0],i[e-1][1],i[e][0],i[e][1],o);r(n,i[i.length-1][0],i[i.length-1][1],i[0][0],i[0][1],o)}}else{for(n.moveTo(i[0][0],i[0][1]),e=1,s=i.length;s>e;e++)n.lineTo(i[e][0],i[e][1]);n.lineTo(i[0][0],i[0][1])}n.closePath()}},getRect:function(n){var r;if(n.__rect)return n.__rect;for(var u=Number.MAX_VALUE,e=Number.MIN_VALUE,f=Number.MAX_VALUE,o=Number.MIN_VALUE,i=n.pointList,t=0,s=i.length;s>t;t++)i[t][0]<u&&(u=i[t][0]),i[t][0]>e&&(e=i[t][0]),i[t][1]<f&&(f=i[t][1]),i[t][1]>o&&(o=i[t][1]);return r="stroke"==n.brushType||"fill"==n.brushType?n.lineWidth||1:0,n.__rect={x:Math.round(u-r/2),y:Math.round(f-r/2),width:e-u+r,height:o-f+r},n.__rect}},n("../tool/util").inherits(t,i),t});define("echarts/util/shape/normalIsCover",[],function(){return function(n,t){var i=this.transformCoordToLocal(n,t);return n=i[0],t=i[1],this.isCoverRect(n,t)}});define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(n){function t(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}var i=n("../../tool/vector");return function(n,r){for(var o,a,v,u=n.length,y=[],p=0,e=1;u>e;e++)p+=i.distance(n[e-1],n[e]);for(o=p/5,o=u>o?u:o,e=0;o>e;e++){var h,c,l,w=e/(o-1)*(r?u:u-1),f=Math.floor(w),s=w-f,b=n[f%u];r?(h=n[(f-1+u)%u],c=n[(f+1)%u],l=n[(f+2)%u]):(h=n[0===f?f:f-1],c=n[f>u-2?u-1:f+1],l=n[f>u-3?u-1:f+2]);a=s*s;v=s*a;y.push([t(h[0],b[0],c[0],l[0],s,a,v),t(h[1],b[1],c[1],l[1],s,a,v)])}return y}});define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(n){var t=n("../../tool/vector");return function(n,i,r,u){var e,o,h=[],a=[],d=[],g=[],nt=!!u,f,s,y,p,v,c,l;if(nt){for(e=[1/0,1/0],o=[-(1/0),-(1/0)],f=0,s=n.length;s>f;f++)t.min(e,e,n[f]),t.max(o,o,n[f]);t.min(e,e,u[0]);t.max(o,o,u[1])}for(f=0,s=n.length;s>f;f++){if(v=n[f],r)y=n[f?f-1:s-1],p=n[(f+1)%s];else{if(0===f||f===s-1){h.push(t.clone(n[f]));continue}y=n[f-1];p=n[f+1]}t.sub(a,p,y);t.scale(a,a,i);var w=t.distance(v,y),b=t.distance(v,p),k=w+b;0!==k&&(w/=k,b/=k);t.scale(d,a,-w);t.scale(g,a,b);c=t.add([],v,d);l=t.add([],v,g);nt&&(t.max(c,c,e),t.min(c,c,o),t.max(l,l,e),t.min(l,l,o));h.push(c);h.push(l)}return r&&h.push(t.clone(h.shift())),h}});define("echarts/util/ecQuery",["require","zrender/tool/util"],function(n){function t(n,t){if("undefined"!=typeof n){if(!t)return n;t=t.split(".");for(var r=t.length,i=0;r>i;){if(n=n[t[i]],"undefined"==typeof n)return;i++}return n}}function r(n,i){for(var r,u=0,f=n.length;f>u;u++)if(r=t(n[u],i),"undefined"!=typeof r)return r}function u(n,r){for(var u,f,e=n.length;e--;)f=t(n[e],r),"undefined"!=typeof f&&("undefined"==typeof u?u=i.clone(f):i.merge(u,f,!0));return u}var i=n("zrender/tool/util");return{query:t,deepQuery:r,deepMerge:u}});define("echarts/util/number",[],function(){function t(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")}function n(n,i){return"string"==typeof n?t(n).match(/%$/)?parseFloat(n)/100*i:parseFloat(n):n}function i(t,i){return[n(i[0],t.getWidth()),n(i[1],t.getHeight())]}function r(t,i){i instanceof Array||(i=[0,i]);var r=Math.min(t.getWidth(),t.getHeight())/2;return[n(i[0],r),n(i[1],r)]}function u(n){return isNaN(n)?"-":(n=(n+"").split("."),n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:""))}function f(n){for(var t=1,i=0;Math.round(n*t)/t!==n;)t*=10,i++;return i}return{parsePercent:n,parseCenter:i,parseRadius:r,addCommas:u,getPrecision:f}});define("echarts/data/KDTree",["require","./quickSelect"],function(n){function i(n,t){this.left=null;this.right=null;this.axis=n;this.data=t}var r=n("./quickSelect"),t=function(n,t){n.length&&(t||(t=n[0].array.length),this.dimension=t,this.root=this._buildTree(n,0,n.length-1,0),this._stack=[],this._nearstNList=[])};return t.prototype._buildTree=function(n,t,u,f){var e,s,o;return t>u?null:(e=Math.floor((t+u)/2),e=r(n,t,u,e,function(n,t){return n.array[f]-t.array[f]}),s=n[e],o=new i(f,s),f=(f+1)%this.dimension,u>t&&(o.left=this._buildTree(n,t,e-1,f),o.right=this._buildTree(n,e+1,u,f)),o)},t.prototype.nearest=function(n,t){var i=this.root,u=this._stack,r=0,e=1/0,o=null;for(i.data!==n&&(e=t(i.data,n),o=i),n.array[i.axis]<i.data.array[i.axis]?(i.right&&(u[r++]=i.right),i.left&&(u[r++]=i.left)):(i.left&&(u[r++]=i.left),i.right&&(u[r++]=i.right));r--;){i=u[r];var f=n.array[i.axis]-i.data.array[i.axis],h=0>f,s=!1;f*=f;e>f&&(f=t(i.data,n),e>f&&i.data!==n&&(e=f,o=i),s=!0);h?(s&&i.right&&(u[r++]=i.right),i.left&&(u[r++]=i.left)):(s&&i.left&&(u[r++]=i.left),i.right&&(u[r++]=i.right))}return o.data},t.prototype._addNearest=function(n,t,i){for(var u=this._nearstNList,r=n-1;r>0&&!(t>=u[r-1].dist);r--)u[r].dist=u[r-1].dist,u[r].node=u[r-1].node;u[r].dist=t;u[r].node=i},t.prototype.nearestN=function(n,t,i,r){var h,f,e;if(0>=t)return r.length=0,r;for(var u=this.root,s=this._stack,o=0,c=this._nearstNList,e=0;t>e;e++)c[e]||(c[e]={}),c[e].dist=0,c[e].node=null;for(h=i(u.data,n),f=0,u.data!==n&&(f++,this._addNearest(f,h,u)),n.array[u.axis]<u.data.array[u.axis]?(u.right&&(s[o++]=u.right),u.left&&(s[o++]=u.left)):(u.left&&(s[o++]=u.left),u.right&&(s[o++]=u.right));o--;){u=s[o];var h=n.array[u.axis]-u.data.array[u.axis],a=0>h,l=!1;h*=h;(t>f||h<c[f-1].dist)&&(h=i(u.data,n),(t>f||h<c[f-1].dist)&&u.data!==n&&(t>f&&f++,this._addNearest(f,h,u)),l=!0);a?(l&&u.right&&(s[o++]=u.right),u.left&&(s[o++]=u.left)):(l&&u.left&&(s[o++]=u.left),u.right&&(s[o++]=u.right))}for(e=0;f>e;e++)r[e]=c[e].node.data;return r.length=f,r},t});define("echarts/data/quickSelect",["require"],function(){function t(n,t){return n-t}function n(n,t,i){var r=n[t];n[t]=n[i];n[i]=r}function i(t,i,r,u,f){for(var s,o,e=i;r>i;){for(e=Math.round((r+i)/2),s=t[e],n(t,e,r),e=i,o=i;r-1>=o;o++)f(s,t[o])>=0&&(n(t,o,e),e++);if(n(t,r,e),e===u)return e;u>e?i=e+1:r=e-1}return i}function r(n,r,u,f,e){return arguments.length<=3&&(f=r,e=2==arguments.length?t:u,r=0,u=n.length-1),i(n,r,u,f,e)}return r});define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(n){function i(n,t,i,u,f){r.call(this,n,t,i,u,f);this.dom=f.dom;this._tDom=document.createElement("div");this._textArea=document.createElement("textArea");this._buttonRefresh=document.createElement("button");this._buttonRefresh.setAttribute("type","button");this._buttonClose=document.createElement("button");this._buttonClose.setAttribute("type","button");this._hasShow=!1;this._zrHeight=i.getHeight();this._zrWidth=i.getWidth();this._tDom.className="echarts-dataview";this.hide();this.dom.firstChild.appendChild(this._tDom);window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var r=n("./base"),t=n("../config"),u=n("zrender/tool/util");return i.prototype={type:t.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(n){var t,i,r;this._hasShow=!0;t=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=n;this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(t[0]||this._lang[0])+"<\/p>";i=this.query(this.option,"toolbox.feature.dataView.optionToContent");"function"!=typeof i?this._textArea.value=this._optionToContent():(this._textArea=document.createElement("div"),this._textArea.innerHTML=i(this.option));this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;";this._tDom.appendChild(this._textArea);this._buttonClose.style.cssText="float:right;padding:1px 6px;";this._buttonClose.innerHTML=t[1]||this._lang[1];r=this;this._buttonClose.onclick=function(){r.hide()};this._tDom.appendChild(this._buttonClose);this.query(this.option,"toolbox.feature.dataView.readOnly")===!1?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=t[2]||this._lang[2],this._buttonRefresh.onclick=function(){r._save()},this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._buttonRefresh.style.cssText="display:none",this._textArea.readOnly=!0,this._textArea.style.cursor="text");this._tDom.appendChild(this._buttonRefresh);this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var n,i,e,o,h,u,r=[],s="",c,f;if(this.option.xAxis)for(r=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],n=0,o=r.length;o>n;n++)if("category"==(r[n].type||"category")){for(u=[],i=0,e=r[n].data.length;e>i;i++)u.push(this.getDataFromOption(r[n].data[i]));s+=u.join(", ")+"\n\n"}if(this.option.yAxis)for(r=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],n=0,o=r.length;o>n;n++)if("category"==r[n].type){for(u=[],i=0,e=r[n].data.length;e>i;i++)u.push(this.getDataFromOption(r[n].data[i]));s+=u.join(", ")+"\n\n"}for(f=this.option.series,n=0,o=f.length;o>n;n++){for(u=[],i=0,e=f[n].data.length;e>i;i++)h=f[n].data[i],c=f[n].type==t.CHART_TYPE_PIE||f[n].type==t.CHART_TYPE_MAP?(h.name||"-")+":":"",f[n].type==t.CHART_TYPE_SCATTER&&(h=this.getDataFromOption(h).join(", ")),u.push(c+this.getDataFromOption(h));s+=(f[n].name||"-")+" : \n";s+=u.join(f[n].type==t.CHART_TYPE_SCATTER?"\n":", ");s+="\n\n"}return s},_save:function(){var u=this.query(this.option,"toolbox.feature.dataView.contentToOption"),i;if("function"!=typeof u){for(var r=this._textArea.value.split("\n"),f=[],n=0,e=r.length;e>n;n++)r[n]=this._trim(r[n]),""!==r[n]&&f.push(r[n]);this._contentToOption(f)}else u(this._textArea,this.option);this.hide();i=this;setTimeout(function(){i.messageCenter&&i.messageCenter.dispatch(t.EVENT.DATA_VIEW_CHANGED,null,{option:i.option},i.myChart)},i.canvasSupported?800:100)},_contentToOption:function(n){var i,c,l,h,u,f=[],o=0,e,r,s;if(this.option.xAxis)for(f=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],i=0,c=f.length;c>i;i++)if("category"==(f[i].type||"category")){for(h=n[o].split(","),r=0,s=f[i].data.length;s>r;r++)u=this._trim(h[r]||""),l=f[i].data[r],"undefined"!=typeof f[i].data[r].value?f[i].data[r].value=u:f[i].data[r]=u;o++}if(this.option.yAxis)for(f=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],i=0,c=f.length;c>i;i++)if("category"==f[i].type){for(h=n[o].split(","),r=0,s=f[i].data.length;s>r;r++)u=this._trim(h[r]||""),l=f[i].data[r],"undefined"!=typeof f[i].data[r].value?f[i].data[r].value=u:f[i].data[r]=u;o++}for(e=this.option.series,i=0,c=e.length;c>i;i++)if(o++,e[i].type==t.CHART_TYPE_SCATTER)for(r=0,s=e[i].data.length;s>r;r++)h=n[o],u=h.replace(" ","").split(","),"undefined"!=typeof e[i].data[r].value?e[i].data[r].value=u:e[i].data[r]=u,o++;else{for(h=n[o].split(","),r=0,s=e[i].data.length;s>r;r++)u=(h[r]||"").replace(/.*:/,""),u=this._trim(u),u="-"!=u&&""!==u?+u:"-","undefined"!=typeof e[i].data[r].value?e[i].data[r].value=u:e[i].data[r]=u;o++}},_trim:function(n){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return n.replace(t,"")},_stop:function(n){n=n||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();this._tDom.offsetHeight>10&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop));this._buttonRefresh.onclick=null;this._buttonClose.onclick=null;this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose));this._textArea=null;this._buttonRefresh=null;this._buttonClose=null;this.dom.firstChild.removeChild(this._tDom);this._tDom=null}},u.inherits(i,r),n("../component").define("dataView",i),i});define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(n){function t(n){i.call(this,n)}var i=n("zrender/shape/Base"),r=n("zrender/shape/Line"),u=n("zrender/tool/util");return t.prototype={type:"cross",buildPath:function(n,t){var i=t.rect;t.xStart=i.x;t.xEnd=i.x+i.width;t.yStart=t.yEnd=t.y;r.prototype.buildPath(n,t);t.xStart=t.xEnd=t.x;t.yStart=i.y;t.yEnd=i.y+i.height;r.prototype.buildPath(n,t)},getRect:function(n){return n.rect},isCover:n("./normalIsCover")},u.inherits(t,i),t});define("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(n){var i=n("../tool/math"),e=n("../tool/computeBoundingBox"),u=n("../tool/vector"),o=n("./Base"),t=u.create(),s=u.create(),r=u.create(),h=u.create(),f=function(n){o.call(this,n)};return f.prototype={type:"sector",buildPath:function(n,t){var e=t.x,o=t.y,f=t.r0||0,s=t.r,r=t.startAngle,u=t.endAngle,h=t.clockWise||!1,c,l;r=i.degreeToRadian(r);u=i.degreeToRadian(u);h||(r=-r,u=-u);c=i.cos(r);l=i.sin(r);n.moveTo(c*f+e,l*f+o);n.lineTo(c*s+e,l*s+o);n.arc(e,o,s,r,u,!h);n.lineTo(i.cos(u)*f+e,i.sin(u)*f+o);0!==f&&n.arc(e,o,f,u,r,h);n.closePath()},getRect:function(n){if(n.__rect)return n.__rect;var c=n.x,l=n.y,v=n.r0||0,y=n.r,f=i.degreeToRadian(n.startAngle),o=i.degreeToRadian(n.endAngle),a=n.clockWise;return a||(f=-f,o=-o),v>1?e.arc(c,l,v,f,o,!a,t,r):(t[0]=r[0]=c,t[1]=r[1]=l),e.arc(c,l,y,f,o,!a,s,h),u.min(t,t,s),u.max(r,r,h),n.__rect={x:t[0],y:t[1],width:r[0]-t[0],height:r[1]-t[1]},n.__rect}},n("../tool/util").inherits(f,o),f});define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(n){function t(n){r.call(this,n)}var r=n("zrender/shape/Base"),i=n("zrender/tool/util");return t.prototype={type:"candle",_numberOrder:function(n,t){return t-n},buildPath:function(n,t){var r=i.clone(t.y).sort(this._numberOrder);n.moveTo(t.x,r[3]);n.lineTo(t.x,r[2]);n.moveTo(t.x-t.width/2,r[2]);n.rect(t.x-t.width/2,r[2],t.width,r[1]-r[2]);n.moveTo(t.x,r[1]);n.lineTo(t.x,r[0])},getRect:function(n){var t,r;return n.__rect||(t=0,("stroke"==n.brushType||"fill"==n.brushType)&&(t=n.lineWidth||1),r=i.clone(n.y).sort(this._numberOrder),n.__rect={x:Math.round(n.x-n.width/2-t/2),y:Math.round(r[3]-t/2),width:n.width+t,height:r[0]-r[3]+t}),n.__rect},isCover:n("./normalIsCover")},i.inherits(t,r),t});define("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(n){function r(n,t,i){var r;if(0!==n.length){for(var u=n[0][0],f=n[0][0],e=n[0][1],o=n[0][1],s=1;s<n.length;s++)r=n[s],r[0]<u&&(u=r[0]),r[0]>f&&(f=r[0]),r[1]<e&&(e=r[1]),r[1]>o&&(o=r[1]);t[0]=u;t[1]=e;i[0]=f;i[1]=o}}function o(n,t,r,u,f,e){var h=[],s,o;for(i.cubicExtrema(n[0],t[0],r[0],u[0],h),o=0;o<h.length;o++)h[o]=i.cubicAt(n[0],t[0],r[0],u[0],h[o]);for(s=[],i.cubicExtrema(n[1],t[1],r[1],u[1],s),o=0;o<s.length;o++)s[o]=i.cubicAt(n[1],t[1],r[1],u[1],s[o]);h.push(n[0],u[0]);s.push(n[1],u[1]);var c=Math.min.apply(null,h),l=Math.max.apply(null,h),a=Math.min.apply(null,s),v=Math.max.apply(null,s);f[0]=c;f[1]=a;e[0]=l;e[1]=v}function s(n,t,r,u,f){var e=i.quadraticExtremum(n[0],t[0],r[0]),o=i.quadraticExtremum(n[1],t[1],r[1]);e=Math.max(Math.min(e,1),0);o=Math.max(Math.min(o,1),0);var s=1-e,h=1-o,c=s*s*n[0]+2*s*e*t[0]+e*e*r[0],l=s*s*n[1]+2*s*e*t[1]+e*e*r[1],a=h*h*n[0]+2*h*o*t[0]+o*o*r[0],v=h*h*n[1]+2*h*o*t[1]+o*o*r[1];u[0]=Math.min(n[0],r[0],c,a);u[1]=Math.min(n[1],r[1],l,v);f[0]=Math.max(n[0],r[0],c,a);f[1]=Math.max(n[1],r[1],l,v)}var t=n("./vector"),i=n("./curve"),u=t.create(),f=t.create(),e=t.create(),h=function(n,i,r,o,s,h,c,l){var v,a;if(Math.abs(o-s)>=2*Math.PI)return c[0]=n-r,c[1]=i-r,l[0]=n+r,void(l[1]=i+r);for((u[0]=Math.cos(o)*r+n,u[1]=Math.sin(o)*r+i,f[0]=Math.cos(s)*r+n,f[1]=Math.sin(s)*r+i,t.min(c,u,f),t.max(l,u,f),o%=2*Math.PI,0>o&&(o+=2*Math.PI),s%=2*Math.PI,0>s&&(s+=2*Math.PI),o>s&&!h?s+=2*Math.PI:s>o&&h&&(o+=2*Math.PI),h)&&(v=s,s=o,o=v),a=0;s>a;a+=Math.PI/2)a>o&&(e[0]=Math.cos(a)*r+n,e[1]=Math.sin(a)*r+i,t.min(c,e,c),t.max(l,e,l))};return r.cubeBezier=o,r.quadraticBezier=s,r.arc=h,r});define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(n){function i(n){r.call(this,n)}var r=n("zrender/shape/Base"),u=n("./Icon"),f=n("zrender/shape/util/dashedLineTo"),e=n("zrender/tool/util"),t=n("zrender/tool/matrix");return i.prototype={type:"chain",brush:function(n,t){var i=this.style;t&&(i=this.getHighlightStyle(i,this.highlightStyle||{}));n.save();this.setContext(n,i);this.setTransform(n);n.save();n.beginPath();this.buildLinePath(n,i);n.stroke();n.restore();this.brushSymbol(n,i);n.restore()},buildLinePath:function(n,t){var i=t.x,r=t.y+5,e=t.width,u=t.height/2-10,o;(n.moveTo(i,r),n.lineTo(i,r+u),n.moveTo(i+e,r),n.lineTo(i+e,r+u),n.moveTo(i,r+u/2),t.lineType&&"solid"!=t.lineType)?("dashed"==t.lineType||"dotted"==t.lineType)&&(o=(t.lineWidth||1)*("dashed"==t.lineType?5:1),f(n,i,r+u/2,i+e,r+u/2,o)):n.lineTo(i+e,r+u/2)},brushSymbol:function(n,t){var o=t.y+t.height/4,r;n.save();for(var i,e=t.chainPoint,f=0,s=e.length;s>f;f++)(i=e[f],"none"!=i.symbol)&&(n.beginPath(),r=i.symbolSize,u.prototype.buildPath(n,{iconType:i.symbol,x:i.x-r,y:o-r,width:2*r,height:2*r,n:i.n}),n.fillStyle=i.isEmpty?"#fff":t.strokeColor,n.closePath(),n.fill(),n.stroke()),i.showLabel&&(n.font=i.textFont,n.fillStyle=i.textColor,n.textAlign=i.textAlign,n.textBaseline=i.textBaseline,i.rotation?(n.save(),this._updateTextTransform(n,i.rotation),n.fillText(i.name,i.textX,i.textY),n.restore()):n.fillText(i.name,i.textX,i.textY));n.restore()},_updateTextTransform:function(n,i){var r=t.create(),u,f;(t.identity(r),0!==i[0])&&(u=i[1]||0,f=i[2]||0,(u||f)&&t.translate(r,r,[-u,-f]),t.rotate(r,r,i[0]),(u||f)&&t.translate(r,r,[u,f]));n.transform.apply(n,r)},isCover:function(n,t){var i=this.style;return n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height?!0:!1}},e.inherits(i,r),i});define("zrender/shape/Ring",["require","./Base","../tool/util"],function(n){var i=n("./Base"),t=function(n){i.call(this,n)};return t.prototype={type:"ring",buildPath:function(n,t){n.arc(t.x,t.y,t.r,0,2*Math.PI,!1);n.moveTo(t.x+t.r0,t.y);n.arc(t.x,t.y,t.r0,0,2*Math.PI,!0)},getRect:function(n){if(n.__rect)return n.__rect;var t;return t="stroke"==n.brushType||"fill"==n.brushType?n.lineWidth||1:0,n.__rect={x:Math.round(n.x-n.r-t/2),y:Math.round(n.y-n.r-t/2),width:2*n.r+t,height:2*n.r+t},n.__rect}},n("../tool/util").inherits(t,i),t});define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(n){function t(n,t,r,u,f,e){i.call(this,n,t,r,u,f);this.axisType=e;this._axisList=[];this.refresh(u)}var i=n("./base"),u=n("zrender/shape/Line"),r=n("../config"),f=n("../util/ecData"),e=n("zrender/tool/util"),o=n("zrender/tool/color");return t.prototype={type:r.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var f=this.option.axisLine.lineStyle.width,i=f/2,r={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},n=this.grid,t;switch(this.option.position){case"left":r.style={xStart:n.getX()-i,yStart:n.getYend(),xEnd:n.getX()-i,yEnd:n.getY(),lineCap:"round"};break;case"right":r.style={xStart:n.getXend()+i,yStart:n.getYend(),xEnd:n.getXend()+i,yEnd:n.getY(),lineCap:"round"};break;case"bottom":r.style={xStart:n.getX(),yStart:n.getYend()+i,xEnd:n.getXend(),yEnd:n.getYend()+i,lineCap:"round"};break;case"top":r.style={xStart:n.getX(),yStart:n.getY()-i,xEnd:n.getXend(),yEnd:n.getY()-i,lineCap:"round"}}t=r.style;""!==this.option.name&&(t.text=this.option.name,t.textPosition=this.option.nameLocation,t.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(t.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(t.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(t.textColor=this.option.nameTextStyle.color));t.strokeColor=this.option.axisLine.lineStyle.color;t.lineWidth=f;this.isHorizontal()?t.yStart=t.yEnd=this.subPixelOptimize(t.yEnd,f):t.xStart=t.xEnd=this.subPixelOptimize(t.xEnd,f);t.lineType=this.option.axisLine.lineStyle.type;r=new u(r);this.shapeList.push(r)},_axisLabelClickable:function(n,t){return n?(f.pack(t,void 0,-1,void 0,-1,t.style.text),t.hoverable=!0,t.clickable=!0,t.highlightStyle={color:o.lift(t.style.color,1),brushType:"fill"},t):t},refixAxisShape:function(n,t){var r,i,u;if(this.option.axisLine.onZero){if(this.isHorizontal()&&null!=t)for(i=0,u=this.shapeList.length;u>i;i++)"axisLine"===this.shapeList[i]._axisShape?(this.shapeList[i].style.yStart=this.shapeList[i].style.yEnd=this.subPixelOptimize(t,this.shapeList[i].stylelineWidth),this.zr.modShape(this.shapeList[i].id)):"axisTick"===this.shapeList[i]._axisShape&&(r=this.shapeList[i].style.yEnd-this.shapeList[i].style.yStart,this.shapeList[i].style.yStart=t-r,this.shapeList[i].style.yEnd=t,this.zr.modShape(this.shapeList[i].id));if(!this.isHorizontal()&&null!=n)for(i=0,u=this.shapeList.length;u>i;i++)"axisLine"===this.shapeList[i]._axisShape?(this.shapeList[i].style.xStart=this.shapeList[i].style.xEnd=this.subPixelOptimize(n,this.shapeList[i].stylelineWidth),this.zr.modShape(this.shapeList[i].id)):"axisTick"===this.shapeList[i]._axisShape&&(r=this.shapeList[i].style.xEnd-this.shapeList[i].style.xStart,this.shapeList[i].style.xStart=n,this.shapeList[i].style.xEnd=n+r,this.zr.modShape(this.shapeList[i].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(n){var t,i;if(!n||n instanceof Array&&0===n.length?n=[{type:r.COMPONENT_TYPE_AXIS_VALUE}]:n instanceof Array||(n=[n]),n.length>2&&(n=[n[0],n[1]]),"xAxis"===this.axisType)for(n[0].position&&("bottom"==n[0].position||"top"==n[0].position)||(n[0].position="bottom"),n.length>1&&(n[1].position="bottom"===n[0].position?"top":"bottom"),t=0,i=n.length;i>t;t++)n[t].type=n[t].type||"category",n[t].xAxisIndex=t,n[t].yAxisIndex=-1;else for(n[0].position&&("left"==n[0].position||"right"==n[0].position)||(n[0].position="left"),n.length>1&&(n[1].position="left"===n[0].position?"right":"left"),t=0,i=n.length;i>t;t++)n[t].type=n[t].type||"value",n[t].xAxisIndex=-1,n[t].yAxisIndex=t;return n},refresh:function(t){var r;t&&(this.option=t,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(t.xAxis),r=this.option.xAxis):(this.option.yAxis=this.reformOption(t.yAxis),r=this.option.yAxis),this.series=t.series);for(var u=n("./categoryAxis"),f=n("./valueAxis"),e=Math.max(r&&r.length||0,this._axisList.length),i=0;e>i;i++)this._axisList[i]&&t&&(!r[i]||this._axisList[i].type!=r[i].type)&&(this._axisList[i].dispose&&this._axisList[i].dispose(),this._axisList[i]=!1),this._axisList[i]?this._axisList[i].refresh&&this._axisList[i].refresh(r?r[i]:!1,this.series):r&&r[i]&&(this._axisList[i]="category"===r[i].type?new u(this.ecTheme,this.messageCenter,this.zr,r[i],this.myChart,this.axisBase):new f(this.ecTheme,this.messageCenter,this.zr,r[i],this.myChart,this.axisBase,this.series))},getAxis:function(n){return this._axisList[n]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var n=0,t=this._axisList.length;t>n;n++)this._axisList[n].dispose&&this._axisList[n].dispose();this._axisList=[]}},e.inherits(t,i),n("../component").define("axis",t),t});define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(n){function t(n,t,i,u,f){r.call(this,n,t,i,u,f);this.refresh(u)}var r=n("./base"),f=n("zrender/shape/Rectangle"),i=n("../config"),u;return i.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},u=n("zrender/tool/util"),t.prototype={type:i.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(n){for(var f,e,t,u=n.xAxis._axisList.concat(n.yAxis?n.yAxis._axisList:[]),r=u.length;r--;)t=u[r],t.type==i.COMPONENT_TYPE_AXIS_VALUE&&t._min<0&&t._max>=0&&(t.isHorizontal()?f=t.getCoord(0):e=t.getCoord(0));if("undefined"!=typeof f||"undefined"!=typeof e)for(r=u.length;r--;)u[r].refixAxisShape(f,e)},refresh:function(n){var t,i,r;(n||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight())&&(this.clear(),this.option=n||this.option,this.option.grid=this.reformOption(this.option.grid),t=this.option.grid,this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(t.x,this._zrWidth),this._y=this.parsePercent(t.y,this._zrHeight),i=this.parsePercent(t.x2,this._zrWidth),r=this.parsePercent(t.y2,this._zrHeight),this._width="undefined"==typeof t.width?this._zrWidth-this._x-i:this.parsePercent(t.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof t.height?this._zrHeight-this._y-r:this.parsePercent(t.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,t.borderWidth),this._y=this.subPixelOptimize(this._y,t.borderWidth),this.shapeList.push(new f({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:t.borderWidth>0?"both":"fill",color:t.backgroundColor,strokeColor:t.borderColor,lineWidth:t.borderWidth}})),this.zr.addShape(this.shapeList[0]))}},u.inherits(t,r),n("../component").define("grid",t),t});define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(n){function r(n,t,i,r,u){e.call(this,n,t,i,r,u);var f=this;f._ondrift=function(n,t){return f.__ondrift(this,n,t)};f._ondragend=function(){return f.__ondragend()};this._fillerSize=30;this._isSilence=!1;this._zoom={};this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;this._handleSize=this.zoomOption.handleSize;this.myChart.canvasSupported||(this.zoomOption.realtime=!1);this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();this.option.dataZoom.show&&this._buildShape();this._syncData()}var e=n("./base"),u=n("zrender/shape/Rectangle"),s=n("zrender/shape/Polygon"),o=n("../util/shape/Icon"),t=n("../config"),f,i;return t.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0},f=n("../util/date"),i=n("zrender/tool/util"),r.prototype={type:t.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground();this._buildFiller();this._buildHandle();this._buildFrame();for(var n=0,t=this.shapeList.length;t>n;n++)this.zr.addShape(this.shapeList[n]);this._syncFrameShape()},_getLocation:function(){var i,r,u,n,t=this.component.grid;return"horizontal"==this.zoomOption.orient?(u=this.zoomOption.width||t.getWidth(),n=this.zoomOption.height||this._fillerSize,i=null!=this.zoomOption.x?this.zoomOption.x:t.getX(),r=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-n-2):(u=this.zoomOption.width||this._fillerSize,n=this.zoomOption.height||t.getHeight(),i=null!=this.zoomOption.x?this.zoomOption.x:2,r=null!=this.zoomOption.y?this.zoomOption.y:t.getY()),{x:i,y:r,width:u,height:n}},_getZoom:function(){var y=this.option.series,u=this.option.xAxis,f,h,c,a,i,r,n,l,e,v,s,o,p;if(!u||u instanceof Array||(u=[u],this.option.xAxis=u),f=this.option.yAxis,!f||f instanceof Array||(f=[f],this.option.yAxis=f),a=[],i=this.zoomOption.xAxisIndex,u&&null==i)for(h=[],n=0,l=u.length;l>n;n++)("category"==u[n].type||null==u[n].type)&&h.push(n);else h=i instanceof Array?i:null!=i?[i]:[];if(i=this.zoomOption.yAxisIndex,f&&null==i)for(c=[],n=0,l=f.length;l>n;n++)"category"==f[n].type&&c.push(n);else c=i instanceof Array?i:null!=i?[i]:[];for(n=0,l=y.length;l>n;n++)if(r=y[n],r.type==t.CHART_TYPE_LINE||r.type==t.CHART_TYPE_BAR||r.type==t.CHART_TYPE_SCATTER||r.type==t.CHART_TYPE_K){for(e=0,v=h.length;v>e;e++)if(h[e]==(r.xAxisIndex||0)){a.push(n);break}for(e=0,v=c.length;v>e;e++)if(c[e]==(r.yAxisIndex||0)){a.push(n);break}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&r.data&&this.getDataFromOption(r.data[0])instanceof Array&&(r.type==t.CHART_TYPE_SCATTER||r.type==t.CHART_TYPE_LINE||r.type==t.CHART_TYPE_BAR)&&a.push(n)}return s=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,o=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100,s>o&&(s+=o,o=s-o,s-=o),p=Math.round((o-s)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height)),{start:s,end:o,start2:0,end2:100,size:p,xAxisIndex:h,yAxisIndex:c,seriesIndex:a,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var o=this.option.xAxis,u=this._zoom.xAxisIndex,n=0,f=u.length;f>n;n++)this._originalData.xAxis[u[n]]=o[u[n]].data;for(var s=this.option.yAxis,e=this._zoom.yAxisIndex,n=0,f=e.length;f>n;n++)this._originalData.yAxis[e[n]]=s[e[n]].data;for(var i,h=this.option.series,r=this._zoom.seriesIndex,n=0,f=r.length;f>n;n++)i=h[r[n]],this._originalData.series[r[n]]=i.data,i.data&&this.getDataFromOption(i.data[0])instanceof Array&&(i.type==t.CHART_TYPE_SCATTER||i.type==t.CHART_TYPE_LINE||i.type==t.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(r[n]))},_calculScatterMap:function(t){var u,f;this._zoom.scatterMap=this._zoom.scatterMap||{};this._zoom.scatterMap[t]=this._zoom.scatterMap[t]||{};var o=n("../component"),e=o.get("axis"),r=i.clone(this.option.xAxis);"category"==r[0].type&&(r[0].type="value");r[1]&&"category"==r[1].type&&(r[1].type="value");u=new e(this.ecTheme,null,!1,{xAxis:r,series:this.option.series},this,"xAxis");f=this.option.series[t].xAxisIndex||0;this._zoom.scatterMap[t].x=u.getAxis(f).getExtremum();u.dispose();r=i.clone(this.option.yAxis);"category"==r[0].type&&(r[0].type="value");r[1]&&"category"==r[1].type&&(r[1].type="value");u=new e(this.ecTheme,null,!1,{yAxis:r,series:this.option.series},this,"yAxis");f=this.option.series[t].yAxisIndex||0;this._zoom.scatterMap[t].y=u.getAxis(f).getExtremum();u.dispose()},_buildBackground:function(){var h=this._location.width,f=this._location.height,n,e;this.shapeList.push(new u({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:h,height:f,color:this.zoomOption.backgroundColor}}));for(var r=0,g=this._originalData.xAxis,p=this._zoom.xAxisIndex,n=0,e=p.length;e>n;n++)r=Math.max(r,g[p[n]].length);for(var nt=this._originalData.yAxis,w=this._zoom.yAxisIndex,n=0,e=w.length;e>n;n++)r=Math.max(r,nt[w[n]].length);for(var i,l=this._zoom.seriesIndex[0],a=this._originalData.series[l],v=Number.MIN_VALUE,c=Number.MAX_VALUE,n=0,e=a.length;e>n;n++)i=this.getDataFromOption(a[n],0),this.option.series[l].type==t.CHART_TYPE_K&&(i=i[1]),isNaN(i)&&(i=0),v=Math.max(v,i),c=Math.min(c,i);var b=v-c,o=[],k=h/(r-(r>1?1:0)),d=f/(r-(r>1?1:0)),y=1;for("horizontal"==this.zoomOption.orient&&1>k?y=Math.floor(3*r/h):"vertical"==this.zoomOption.orient&&1>d&&(y=Math.floor(3*r/f)),n=0,e=r;e>n;n+=y)i=this.getDataFromOption(a[n],0),this.option.series[l].type==t.CHART_TYPE_K&&(i=i[1]),isNaN(i)&&(i=0),o.push("horizontal"==this.zoomOption.orient?[this._location.x+k*n,this._location.y+f-1-Math.round((i-c)/b*(f-10))]:[this._location.x+1+Math.round((i-c)/b*(h-10)),this._location.y+d*(e-n-1)]);"horizontal"==this.zoomOption.orient?(o.push([this._location.x+h,this._location.y+f]),o.push([this._location.x,this._location.y+f])):(o.push([this._location.x,this._location.y]),o.push([this._location.x,this._location.y+f]));this.shapeList.push(new s({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:o,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"};this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"};this._fillerShae=new u(this._fillerShae);this.shapeList.push(this._fillerShae)},_buildHandle:function(){var n=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:n.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend};"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=i.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=n.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=i.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=n.end,this._endShape.highlightStyle.textPosition="top");this._startShape=new o(this._startShape);this._endShape=new o(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_buildFrame:function(){var n=this.subPixelOptimize(this._location.x,1),t=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:n,y:t,width:this._location.width-(n>this._location.x?1:0),height:this._location.height-(t>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}};this._endFrameShape=i.clone(this._startFrameShape);this._startFrameShape=new u(this._startFrameShape);this._endFrameShape=new u(this._endFrameShape);this.shapeList.push(this._startFrameShape);this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100);this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFillerShape:function(){var n,t;"horizontal"==this.zoomOption.orient?(n=this._startShape.style.x,t=this._endShape.style.x,this._fillerShae.style.x=Math.min(n,t)+this._handleSize,this._fillerShae.style.width=Math.abs(n-t)-this._handleSize,this._zoom.start=(Math.min(n,t)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(n,t)+this._handleSize-this._location.x)/this._location.width*100):(n=this._startShape.style.y,t=this._endShape.style.y,this._fillerShae.style.y=Math.min(n,t)+this._handleSize,this._fillerShae.style.height=Math.abs(n-t)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(n,t))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(n,t)-this._handleSize)/this._location.height*100);this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y);this.zr.modShape(this._startFrameShape.id);this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(n){var f,o,s,e,i,u,r;for(u in this._originalData){f=this._originalData[u];for(r in f)i=f[r],null!=i&&(e=i.length,o=Math.floor(this._zoom.start/100*e),s=Math.ceil(this._zoom.end/100*e),this.getDataFromOption(i[0])instanceof Array&&this.option[u][r].type!=t.CHART_TYPE_K?(this._setScale(),this.option[u][r].data=this._synScatterData(r,i)):this.option[u][r].data=i.slice(o,s))}!this._isSilence&&(this.zoomOption.realtime||n)&&this.messageCenter.dispatch(t.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(n,t){var r,e,o,s,h,l,i,u,c,f,a;if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2)return t;for(l=[],i=this._zoom.scatterMap[n],"horizontal"==this.zoomOption.orient?(r=i.x.max-i.x.min,e=this._zoom.start/100*r+i.x.min,o=this._zoom.end/100*r+i.x.min,r=i.y.max-i.y.min,s=this._zoom.start2/100*r+i.y.min,h=this._zoom.end2/100*r+i.y.min):(r=i.x.max-i.x.min,e=this._zoom.start2/100*r+i.x.min,o=this._zoom.end2/100*r+i.x.min,r=i.y.max-i.y.min,s=this._zoom.start/100*r+i.y.min,h=this._zoom.end/100*r+i.y.min),(u=i.x.dataMappingMethods)&&(e=u.coord2Value(e),o=u.coord2Value(o)),(u=i.y.dataMappingMethods)&&(s=u.coord2Value(s),h=u.coord2Value(h)),f=0,a=t.length;a>f;f++)c=t[f].value||t[f],c[0]>=e&&c[0]<=o&&c[1]>=s&&c[1]<=h&&l.push(t[f]);return l},_setScale:function(){var u=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,t={xAxis:this.option.xAxis,yAxis:this.option.yAxis},i,n,r;for(i in t)for(n=0,r=t[i].length;r>n;n++)t[i][n].scale=u||t[i][n]._scale},_backupScale:function(){var t={xAxis:this.option.xAxis,yAxis:this.option.yAxis},i,n,r;for(i in t)for(n=0,r=t[i].length;r>n;n++)t[i][n]._scale=t[i][n].scale},_getDetail:function(){for(var o,l,i,c,n=["xAxis","yAxis"],e=0,y=n.length;y>e;e++){o=this._originalData[n[e]];for(l in o)if(i=o[l],null!=i){var a=i.length,p=Math.floor(this._zoom.start/100*a),s=Math.ceil(this._zoom.end/100*a);return s-=s>0?1:0,{start:this.getDataFromOption(i[p]),end:this.getDataFromOption(i[s])}}}n="horizontal"==this.zoomOption.orient?"xAxis":"yAxis";var h=this._zoom.seriesIndex[0],w=this.option.series[h][n+"Index"]||0,v=this.option[n][w].type,t=this._zoom.scatterMap[h][n.charAt(0)].min,r=this._zoom.scatterMap[h][n.charAt(0)].max,u=r-t;return"value"==v?{start:t+u*this._zoom.start/100,end:t+u*this._zoom.end/100}:"time"==v?(r=t+u*this._zoom.end/100,t+=u*this._zoom.start/100,c=f.getAutoFormatter(t,r).formatter,{start:f.format(c,t),end:f.format(c,r)}):{start:"",end:""}},__ondrift:function(n,t,i){var r,u;return this.zoomOption.zoomLock&&(n=this._fillerShae),r="filler"==n._type?this._handleSize:0,("horizontal"==this.zoomOption.orient?n.style.x+t-r<=this._location.x?n.style.x=this._location.x+r:n.style.x+t+n.style.width+r>=this._location.x+this._location.width?n.style.x=this._location.x+this._location.width-n.style.width-r:n.style.x+=t:n.style.y+i-r<=this._location.y?n.style.y=this._location.y+r:n.style.y+i+n.style.height+r>=this._location.y+this._location.height?n.style.y=this._location.y+this._location.height-n.style.height-r:n.style.y+=i,"filler"==n._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail)&&(u=this._getDetail(),this._startShape.style.text=this._startShape.highlightStyle.text=u.start,this._endShape.style.text=this._endShape.highlightStyle.text=u.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition),!0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame());this.isDragend=!0},ondragend:function(n,i){this.isDragend&&n.target&&(!this.zoomOption.realtime&&this._syncData(),i.dragOut=!0,i.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(t.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),i.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(n,t){t.needRefresh=!0},absoluteZoom:function(n){this._zoom.start=n.start;this._zoom.end=n.end;this._zoom.start2=n.start2;this._zoom.end2=n.end2;this._syncShape();this._syncData(!0)},rectZoom:function(n){var i,t;if(!n)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;if(i=this.component.grid.getArea(),t={x:n.x,y:n.y,width:n.width,height:n.height},t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height),t.x>i.x+i.width||t.y>i.y+i.height)return!1;t.x<i.x&&(t.x=i.x);t.x+t.width>i.x+i.width&&(t.width=i.x+i.width-t.x);t.y+t.height>i.y+i.height&&(t.height=i.y+i.height-t.y);var r,u=(t.x-i.x)/i.width,f=1-(t.x+t.width-i.x)/i.width,e=1-(t.y+t.height-i.y)/i.height,o=(t.y-i.y)/i.height;return"horizontal"==this.zoomOption.orient?(r=this._zoom.end-this._zoom.start,this._zoom.start+=r*u,this._zoom.end-=r*f,r=this._zoom.end2-this._zoom.start2,this._zoom.start2+=r*e,this._zoom.end2-=r*o):(r=this._zoom.end-this._zoom.start,this._zoom.start+=r*e,this._zoom.end-=r*o,r=this._zoom.end2-this._zoom.start2,this._zoom.start2+=r*u,this._zoom.end2-=r*f),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(n){for(var i,o,e,u,r=this._originalData.series,f=n.series,t=0,s=f.length;s>t;t++)for(u=f[t].data||f[t].eventList,e=r[t]?Math.floor(this._zoom.start/100*r[t].length):0,i=0,o=u.length;o>i;i++)r[t]&&(r[t][i+e]=u[i])},syncOption:function(n){this.silence(!0);this.option=n;this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;this.myChart.canvasSupported||(this.zoomOption.realtime=!1);this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape();this._syncData();this.silence(!1)},silence:function(n){this._isSilence=n},getRealDataIndex:function(n,t){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end)return t;var i=this._originalData.series;return i[n]?Math.floor(this._zoom.start/100*i[n].length)+t:-1},resize:function(){this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this.option.dataZoom.show&&this._buildShape()}},i.inherits(r,e),n("../component").define("dataZoom",r),r});define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(n){function i(n,t,i,r,u,e){if(r.data.length<1)return void console.error("option.data.length < 1.");f.call(this,n,t,i,r,u);this.grid=this.component.grid;for(var o in e)this[o]=e[o];this.refresh(r)}var f=n("./base"),e=n("zrender/shape/Text"),r=n("zrender/shape/Line"),u=n("zrender/shape/Rectangle"),o=n("../config"),t,s;return o.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},t=n("zrender/tool/util"),s=n("zrender/tool/area"),i.prototype={type:o.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(n){var t=this.getDataFromOption(this.option.data[n]),i=this.option.data[n].formatter||this.option.axisLabel.formatter;return i&&("function"==typeof i?t=i.call(this.myChart,t):"string"==typeof i&&(t=i.replace("{value}",t))),t},_getInterval:function(){var n=this.option.axisLabel.interval,i,r;if("auto"==n){var f=this.option.axisLabel.textStyle.fontSize,c=this.option.data,u=this.option.data.length;if(this.isHorizontal())if(u>3){var l,e,r=this.getGap(),h=!1,o=Math.floor(.5/r);for(o=1>o?1:o,n=Math.floor(15/r);!h&&u>n;)for(n+=o,h=!0,l=Math.floor(r*n),i=Math.floor((u-1)/n)*n;i>=0;i-=n){if(0!==this.option.axisLabel.rotate)e=f;else if(c[i].textStyle)e=s.getTextWidth(this._getReformedLabel(i),this.getFont(t.merge(c[i].textStyle,this.option.axisLabel.textStyle)));else{var a=this._getReformedLabel(i)+"",v=(a.match(/\w/g)||"").length,y=a.length-v;e=v*f*2/3+y*f}if(e>l){h=!1;break}}}else n=1;else if(u>3)for(r=this.getGap(),n=Math.floor(11/r);f>r*n-6&&u>n;)n++;else n=1}else n="function"==typeof n?1:+n+1;return n},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var n=0,t=this.shapeList.length;t>n;n++)this.zr.addShape(this.shapeList[n])}},_buildAxisTick:function(){var f,v=this.option.data,y=this.option.data.length,t=this.option.axisTick,i=t.length,p=t.lineStyle.color,e=t.lineStyle.width,u="function"==typeof t.interval?t.interval:"auto"==t.interval&&"function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,o=u?1:"auto"==t.interval?this._interval:t.interval- -1,w=t.onGap,s=w?this.getGap()/2:"undefined"==typeof w&&this.option.boundaryGap?this.getGap()/2:0,b=s>0?-o:0,h,c,l,a,n;if(this.isHorizontal())for(c="bottom"==this.option.position?t.inside?this.grid.getYend()-i-1:this.grid.getYend()+1:t.inside?this.grid.getY()+1:this.grid.getY()-i-1,n=b;y>n;n+=o)(!u||u(n,v[n]))&&(h=this.subPixelOptimize(this.getCoordByIndex(n)+(n>=0?s:0),e),f={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:h,yStart:c,xEnd:h,yEnd:c+i,strokeColor:p,lineWidth:e}},this.shapeList.push(new r(f)));else for(a="left"==this.option.position?t.inside?this.grid.getX()+1:this.grid.getX()-i-1:t.inside?this.grid.getXend()-i-1:this.grid.getXend()+1,n=b;y>n;n+=o)(!u||u(n,v[n]))&&(l=this.subPixelOptimize(this.getCoordByIndex(n)-(n>=0?s:0),e),f={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:a,yStart:l,xEnd:a+i,yEnd:l,strokeColor:p,lineWidth:e}},this.shapeList.push(new r(f)))},_buildAxisLabel:function(){var i,r,o=this.option.data,c=this.option.data.length,u=this.option.axisLabel,f=u.rotate,s=u.margin,p=u.clickable,w=u.textStyle,h="function"==typeof u.interval?u.interval:!1,l,a,v,y,n;if(this.isHorizontal())for("bottom"==this.option.position?(l=this.grid.getYend()+s,a="top"):(l=this.grid.getY()-s,a="bottom"),n=0;c>n;n+=this._interval)h&&!h(n,o[n])||""===this._getReformedLabel(n)||(r=t.merge(o[n].textStyle||{},w),i={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(n),y:l,color:r.color,text:this._getReformedLabel(n),textFont:this.getFont(r),textAlign:r.align||"center",textBaseline:r.baseline||a}},f&&(i.style.textAlign=f>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",i.rotation=[f*Math.PI/180,i.style.x,i.style.y]),this.shapeList.push(new e(this._axisLabelClickable(p,i))));else for("left"==this.option.position?(v=this.grid.getX()-s,y="right"):(v=this.grid.getXend()+s,y="left"),n=0;c>n;n+=this._interval)h&&!h(n,o[n])||""===this._getReformedLabel(n)||(r=t.merge(o[n].textStyle||{},w),i={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:v,y:this.getCoordByIndex(n),color:r.color,text:this._getReformedLabel(n),textFont:this.getFont(r),textAlign:r.align||y,textBaseline:r.baseline||0===n&&""!==this.option.name?"bottom":n==c-1&&""!==this.option.name?"top":"middle"}},f&&(i.rotation=[f*Math.PI/180,i.style.x,i.style.y]),this.shapeList.push(new e(this._axisLabelClickable(p,i))))},_buildSplitLine:function(){var i,l=this.option.data,s=this.option.data.length,u=this.option.splitLine,a=u.lineStyle.type,f=u.lineStyle.width,t=u.lineStyle.color;t=t instanceof Array?t:[t];var v=t.length,e="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,o=u.onGap,y=o?this.getGap()/2:"undefined"==typeof o&&this.option.boundaryGap?this.getGap()/2:0;if(s-=o||"undefined"==typeof o&&this.option.boundaryGap?1:0,this.isHorizontal())for(var h,p=this.grid.getY(),w=this.grid.getYend(),n=0;s>n;n+=this._interval)(!e||e(n,l[n]))&&(h=this.subPixelOptimize(this.getCoordByIndex(n)+y,f),i={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:h,yStart:p,xEnd:h,yEnd:w,strokeColor:t[n/this._interval%v],lineType:a,lineWidth:f}},this.shapeList.push(new r(i)));else for(var c,b=this.grid.getX(),k=this.grid.getXend(),n=0;s>n;n+=this._interval)(!e||e(n,l[n]))&&(c=this.subPixelOptimize(this.getCoordByIndex(n)-y,f),i={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:b,yStart:c,xEnd:k,yEnd:c,strokeColor:t[n/this._interval%v],lineType:a,lineWidth:f}},this.shapeList.push(new r(i)))},_buildSplitArea:function(){var t,h=this.option.data,c=this.option.splitArea,r=c.areaStyle.color;if(r instanceof Array){var l=r.length,i=this.option.data.length,f="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,a=c.onGap,v=a?this.getGap()/2:"undefined"==typeof a&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal())for(var o,p=this.grid.getY(),w=this.grid.getHeight(),s=this.grid.getX(),n=0;i>=n;n+=this._interval)f&&!f(n,h[n])&&i>n||(o=i>n?this.getCoordByIndex(n)+v:this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:s,y:p,width:o-s,height:w,color:r[n/this._interval%l]}},this.shapeList.push(new u(t)),s=o);else for(var e,b=this.grid.getX(),k=this.grid.getWidth(),y=this.grid.getYend(),n=0;i>=n;n+=this._interval)f&&!f(n,h[n])&&i>n||(e=i>n?this.getCoordByIndex(n)-v:this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:b,y:e,width:k,height:y-e,color:r[n/this._interval%l]}},this.shapeList.push(new u(t)),y=e)}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:r}},this.shapeList.push(new u(t))},refresh:function(n){n&&(this.option=this.reformOption(n),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle));this.clear();this._buildShape()},getGap:function(){var n=this.option.data.length,t=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?t/n:t/(n>1?n-1:1)},getCoord:function(n){for(var r=this.option.data,f=r.length,u=this.getGap(),t=this.option.boundaryGap?u/2:0,i=0;f>i;i++){if(this.getDataFromOption(r[i])==n)return this.isHorizontal()?this.grid.getX()+t:this.grid.getYend()-t;t+=u}},getCoordByIndex:function(n){if(0>n)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(n>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var i=this.getGap(),t=this.option.boundaryGap?i/2:0;return t+=n*i,t=this.isHorizontal()?this.grid.getX()+t:this.grid.getYend()-t},getNameByIndex:function(n){return this.getDataFromOption(this.option.data[n])},getIndexByName:function(n){for(var i=this.option.data,r=i.length,t=0;r>t;t++)if(this.getDataFromOption(i[t])==n)return t;return-1},getValueFromCoord:function(){return""},isMainAxis:function(n){return n%this._interval==0}},t.inherits(i,f),n("../component").define("categoryAxis",i),i});define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(n){function r(n,t,i,r,u,f,e){if(!e||0===e.length)return void console.err("option.series.length == 0.");o.call(this,n,t,i,r,u);this.series=e;this.grid=this.component.grid;for(var s in f)this[s]=f[s];this.refresh(r,e)}var o=n("./base"),s=n("zrender/shape/Text"),u=n("zrender/shape/Line"),e=n("zrender/shape/Rectangle"),i=n("../config"),t,f;return i.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},t=n("../util/date"),f=n("zrender/tool/util"),r.prototype={type:i.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var n=0,t=this.shapeList.length;t>n;n++)this.zr.addShape(this.shapeList[n])}},_buildAxisTick:function(){var r,c=this._valueList,l=this._valueList.length,t=this.option.axisTick,i=t.length,a=t.lineStyle.color,f=t.lineStyle.width,e,o,s,h,n;if(this.isHorizontal())for(o="bottom"===this.option.position?t.inside?this.grid.getYend()-i-1:this.grid.getYend()+1:t.inside?this.grid.getY()+1:this.grid.getY()-i-1,n=0;l>n;n++)e=this.subPixelOptimize(this.getCoord(c[n]),f),r={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:e,yStart:o,xEnd:e,yEnd:o+i,strokeColor:a,lineWidth:f}},this.shapeList.push(new u(r));else for(h="left"===this.option.position?t.inside?this.grid.getX()+1:this.grid.getX()-i-1:t.inside?this.grid.getXend()-i-1:this.grid.getXend()+1,n=0;l>n;n++)s=this.subPixelOptimize(this.getCoord(c[n]),f),r={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:h,yStart:s,xEnd:h+i,yEnd:s,strokeColor:a,lineWidth:f}},this.shapeList.push(new u(r))},_buildAxisLabel:function(){var i,u=this._valueList,e=this._valueList.length,r=this.option.axisLabel.rotate,f=this.option.axisLabel.margin,a=this.option.axisLabel.clickable,t=this.option.axisLabel.textStyle,o,h,c,l,n;if(this.isHorizontal())for("bottom"===this.option.position?(o=this.grid.getYend()+f,h="top"):(o=this.grid.getY()-f,h="bottom"),n=0;e>n;n++)i={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(u[n]),y:o,color:"function"==typeof t.color?t.color(u[n]):t.color,text:this._valueLabel[n],textFont:this.getFont(t),textAlign:t.align||"center",textBaseline:t.baseline||h}},r&&(i.style.textAlign=r>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",i.rotation=[r*Math.PI/180,i.style.x,i.style.y]),this.shapeList.push(new s(this._axisLabelClickable(a,i)));else for("left"===this.option.position?(c=this.grid.getX()-f,l="right"):(c=this.grid.getXend()+f,l="left"),n=0;e>n;n++)i={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:c,y:this.getCoord(u[n]),color:"function"==typeof t.color?t.color(u[n]):t.color,text:this._valueLabel[n],textFont:this.getFont(t),textAlign:t.align||l,textBaseline:t.baseline||(0===n&&""!==this.option.name?"bottom":n===e-1&&""!==this.option.name?"top":"middle")}},r&&(i.rotation=[r*Math.PI/180,i.style.x,i.style.y]),this.shapeList.push(new s(this._axisLabelClickable(a,i)))},_buildSplitLine:function(){var i,h=this._valueList,c=this._valueList.length,f=this.option.splitLine,l=f.lineStyle.type,r=f.lineStyle.width,t=f.lineStyle.color,e;if(t=t instanceof Array?t:[t],e=t.length,this.isHorizontal())for(var o,a=this.grid.getY(),v=this.grid.getYend(),n=0;c>n;n++)o=this.subPixelOptimize(this.getCoord(h[n]),r),i={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:o,yStart:a,xEnd:o,yEnd:v,strokeColor:t[n%e],lineType:l,lineWidth:r}},this.shapeList.push(new u(i));else for(var s,y=this.grid.getX(),p=this.grid.getXend(),n=0;c>n;n++)s=this.subPixelOptimize(this.getCoord(h[n]),r),i={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:y,yStart:s,xEnd:p,yEnd:s,strokeColor:t[n%e],lineType:l,lineWidth:r}},this.shapeList.push(new u(i))},_buildSplitArea:function(){var t,i=this.option.splitArea.areaStyle.color;if(i instanceof Array){var s=i.length,h=this._valueList,r=this._valueList.length;if(this.isHorizontal())for(var f,l=this.grid.getY(),a=this.grid.getHeight(),o=this.grid.getX(),n=0;r>=n;n++)f=r>n?this.getCoord(h[n]):this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:o,y:l,width:f-o,height:a,color:i[n%s]}},this.shapeList.push(new e(t)),o=f;else for(var u,v=this.grid.getX(),y=this.grid.getWidth(),c=this.grid.getYend(),n=0;r>=n;n++)u=r>n?this.getCoord(h[n]):this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:v,y:u,width:y,height:c-u,color:i[n%s]}},this.shapeList.push(new e(t)),c=u}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:i}},this.shapeList.push(new e(t))},_calculateValue:function(){var r,n,t,f,e,o;if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var s,h,u={},c=this.component.legend,n=0,l=this.series.length;l>n;n++)!(this.series[n].type!=i.CHART_TYPE_LINE&&this.series[n].type!=i.CHART_TYPE_BAR&&this.series[n].type!=i.CHART_TYPE_SCATTER&&this.series[n].type!=i.CHART_TYPE_K&&this.series[n].type!=i.CHART_TYPE_EVENTRIVER||c&&!c.isSelected(this.series[n].name)||(s=this.series[n].xAxisIndex||0,h=this.series[n].yAxisIndex||0,this.option.xAxisIndex!=s&&this.option.yAxisIndex!=h||!this._calculSum(u,n)));for(n in u){for(r=u[n],t=0,f=r.length;f>t;t++)if(!isNaN(r[t])){this._hasData=!0;this._min=r[t];this._max=r[t];break}if(this._hasData)break}for(n in u)for(r=u[n],t=0,f=r.length;f>t;t++)isNaN(r[t])||(this._min=Math.min(this._min,r[t]),this._max=Math.max(this._max,r[t]));e="log"!==this.option.type?this.option.boundaryGap:[0,0];o=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(o*e[0]):this.option.min-0;this._max=isNaN(this.option.max-0)?this._max+Math.abs(o*e[1]):this.option.max-0;this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5);"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._reformValue(this.option.scale)}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._customerValue()},_calculSum:function(n,r){var u,o,e=this.series[r].name||"kener",s,h,f,c;if(this.series[r].stack)for(s="__Magic_Key_Positive__"+this.series[r].stack,h="__Magic_Key_Negative__"+this.series[r].stack,n[s]=n[s]||[],n[h]=n[h]||[],n[e]=n[e]||[],o=this.series[r].data,f=0,c=o.length;c>f;f++)u=this.getDataFromOption(o[f]),"-"!==u&&(u-=0,u>=0?null!=n[s][f]?n[s][f]+=u:n[s][f]=u:null!=n[h][f]?n[h][f]+=u:n[h][f]=u,this.option.scale&&n[e].push(u));else if(n[e]=n[e]||[],this.series[r].type!=i.CHART_TYPE_EVENTRIVER)for(o=this.series[r].data,f=0,c=o.length;c>f;f++)u=this.getDataFromOption(o[f]),this.series[r].type===i.CHART_TYPE_K?(n[e].push(u[0]),n[e].push(u[1]),n[e].push(u[2]),n[e].push(u[3])):u instanceof Array?(-1!=this.option.xAxisIndex&&n[e].push("time"!=this.option.type?u[0]:t.getNewDate(u[0])),-1!=this.option.yAxisIndex&&n[e].push("time"!=this.option.type?u[1]:t.getNewDate(u[1]))):n[e].push(u);else for(o=this.series[r].data,f=0,c=o.length;c>f;f++)for(var a=o[f].evolution,l=0,v=a.length;v>l;l++)n[e].push(t.getNewDate(a[l].time))},_reformValue:function(t){var u=n("../util/smartSteps"),r=this.option.splitNumber,i;!t&&this._min>=0&&this._max>=0&&(this._min=0);!t&&this._min<=0&&this._max<=0&&(this._max=0);i=u(this._min,this._max,r);r=null!=r?r:i.secs;this._min=i.min;this._max=i.max;this._valueList=i.pnts;this._reformLabelData()},_reformTimeValue:function(){var f=null!=this.option.splitNumber?this.option.splitNumber:5,i=t.getAutoFormatter(this._min,this._max,f),u=i.formatter,r=i.gapValue,n;this._valueList=[t.getNewDate(this._min)];switch(u){case"week":n=t.nextMonday(this._min);break;case"month":n=t.nextNthOnMonth(this._min,1);break;case"quarter":n=t.nextNthOnQuarterYear(this._min,1);break;case"half-year":n=t.nextNthOnHalfYear(this._min,1);break;case"year":n=t.nextNthOnYear(this._min,1);break;default:72e5>=r?n=(Math.floor(this._min/r)+1)*r:(n=t.getNewDate(this._min- -r),n.setHours(6*Math.round(n.getHours()/6)),n.setMinutes(0),n.setSeconds(0))}for(n-this._min<r/2&&(n-=-r),i=t.getNewDate(n),f*=1.5;f-->=0&&(("month"==u||"quarter"==u||"half-year"==u||"year"==u)&&i.setDate(1),!(this._max-i<r/2));)this._valueList.push(i),i=t.getNewDate(i- -r);this._valueList.push(t.getNewDate(this._max));this._reformLabelData(function(n){return function(i){return t.format(n,i)}}(u))},_customerValue:function(){var i=n("../util/accMath"),r=null!=this.option.splitNumber?this.option.splitNumber:5,u=(this._max-this._min)/r,t;for(this._valueList=[],t=0;r>=t;t++)this._valueList.push(i.accAdd(this._min,i.accMul(u,t)));this._reformLabelData()},_reformLogValue:function(){var i=this.option,t=n("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:i.logPositive,logLabelBase:i.logLabelBase,splitNumber:i.splitNumber});this._min=t.dataMin;this._max=t.dataMax;this._valueList=t.tickList;this._dataMappingMethods=t.dataMappingMethods;this._reformLabelData(t.labelFormatter)},_reformLabelData:function(n){var r,i,u;if(this._valueLabel=[],r=this.option.axisLabel.formatter,r)for(i=0,u=this._valueList.length;u>i;i++)"function"==typeof r?this._valueLabel.push(n?r.call(this.myChart,this._valueList[i],n):r.call(this.myChart,this._valueList[i])):"string"==typeof r&&this._valueLabel.push(n?t.format(r,this._valueList[i]):r.replace("{value}",this._valueList[i]));else for(i=0,u=this._valueList.length;u>i;i++)this._valueLabel.push(n?n(this._valueList[i]):this.numAddCommas(this._valueList[i]))},getExtremum:function(){this._calculateValue();var n=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:n?f.merge({},n):null}},refresh:function(n,t){n&&(this.option=this.reformOption(n),this.option.axisLabel.textStyle=f.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=t);this.zr&&(this.clear(),this._buildShape())},getCoord:function(n){this._dataMappingMethods&&(n=this._dataMappingMethods.value2Coord(n));n=n<this._min?this._min:n;n=n>this._max?this._max:n;return this.isHorizontal()?this.grid.getX()+(n-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(n-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(n){return Math.abs(this.isHorizontal()?n/(this._max-this._min)*this.grid.getWidth():n/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(n){var t;return this.isHorizontal()?(n=n<this.grid.getX()?this.grid.getX():n,n=n>this.grid.getXend()?this.grid.getXend():n,t=this._min+(n-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(n=n<this.grid.getY()?this.grid.getY():n,n=n>this.grid.getYend()?this.grid.getYend():n,t=this._max-(n-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),this._dataMappingMethods&&(t=this._dataMappingMethods.coord2Value(t)),t.toFixed(2)-0},isMaindAxis:function(n){for(var t=0,i=this._valueList.length;i>t;t++)if(this._valueList[t]===n)return!0;return!1}},f.inherits(r,o),n("../component").define("valueAxis",r),r});define("echarts/util/date",[],function(){function u(n,t,i){i=i>1?i:2;for(var u,e,o,s,f=0,h=r.length;h>f;f++)if(u=r[f].value,e=Math.ceil(t/u)*u-Math.floor(n/u)*u,Math.round(e/u)<=1.2*i){o=r[f].formatter;s=r[f].value;break}return null==o&&(o="year",u=317088e5,e=Math.ceil(t/u)*u-Math.floor(n/u)*u,s=Math.round(e/(i-1)/u)*u),{formatter:o,gapValue:s}}function n(n){return 10>n?"0"+n:n}function f(t,r){("week"==t||"month"==t||"quarter"==t||"half-year"==t||"year"==t)&&(t="MM - dd\nyyyy");var u=i(r),f=u.getFullYear(),c=u.getMonth()+1,e=u.getDate(),o=u.getHours(),s=u.getMinutes(),h=u.getSeconds();return t=t.replace("MM",n(c)),t=t.toLowerCase(),t=t.replace("yyyy",f),t=t.replace("yy",f%100),t=t.replace("dd",n(e)),t=t.replace("d",e),t=t.replace("hh",n(o)),t=t.replace("h",o),t=t.replace("mm",n(s)),t=t.replace("m",s),t=t.replace("ss",n(h)),t=t.replace("s",h)}function e(n){return n=i(n),n.setDate(n.getDate()+8-n.getDay()),n}function t(n,t,r){return n=i(n),n.setMonth(Math.ceil((n.getMonth()+1)/r)*r),n.setDate(t),n}function o(n,i){return t(n,i,1)}function s(n,i){return t(n,i,3)}function h(n,i){return t(n,i,6)}function c(n,i){return t(n,i,12)}function i(n){return n instanceof Date?n:new Date("string"==typeof n?n.replace(/-/g,"/"):n)}var r=[{formatter:"hh : mm : ss",value:1e3},{formatter:"hh : mm : ss",value:5e3},{formatter:"hh : mm : ss",value:1e4},{formatter:"hh : mm : ss",value:15e3},{formatter:"hh : mm : ss",value:3e4},{formatter:"hh : mm\nMM - dd",value:6e4},{formatter:"hh : mm\nMM - dd",value:3e5},{formatter:"hh : mm\nMM - dd",value:6e5},{formatter:"hh : mm\nMM - dd",value:9e5},{formatter:"hh : mm\nMM - dd",value:18e5},{formatter:"hh : mm\nMM - dd",value:36e5},{formatter:"hh : mm\nMM - dd",value:72e5},{formatter:"hh : mm\nMM - dd",value:216e5},{formatter:"hh : mm\nMM - dd",value:432e5},{formatter:"MM - dd\nyyyy",value:864e5},{formatter:"week",value:6048e5},{formatter:"month",value:26784e5},{formatter:"quarter",value:8208e6},{formatter:"half-year",value:16416e6},{formatter:"year",value:32832e6}];return{getAutoFormatter:u,getNewDate:i,format:f,nextMonday:e,nextNthPerNmonth:t,nextNthOnMonth:o,nextNthOnQuarterYear:s,nextNthOnHalfYear:h,nextNthOnYear:c}});define("echarts/util/smartSteps",[],function(){function nt(n){return t.log(l(n))/t.LN10}function o(n){return t.pow(10,n)}function s(n){return n===c(n)}function tt(n,t,i,o){u=o||{};a=u.steps||g;h=u.secs||ht;i=r(+i||0)%99;n=+n||0;t=+t||0;f=e=0;"min"in u&&(n=+u.min||0,f=1);"max"in u&&(t=+u.max||0,e=1);n>t&&(t=[n,n=t][0]);var c=t-n;if(f&&e)return st(n,t,i);if((i||5)>c){if(s(n)&&s(t))return k(n,t,i);if(0===c)return ft(n,t,i)}return b(n,t,i)}function y(r,f,e,s){var c;s=s||0;var y=n((f-r)/e,-1),w=n(r,-1,1),b=n(f,-1),d=t.min(y.e,w.e,b.e);0===w.c?d=t.min(y.e,b.e):0===b.c&&(d=t.min(y.e,w.e));i(y,{c:0,e:d});i(w,y,1);i(b,y);s+=d;r=w.c;f=b.c;for(var k=(f-r)/e,l=o(s),p=0,v=[],c=e+1;c--;)v[c]=(r+k*c)*l;if(0>s)for(p=et(l),k=+(k*l).toFixed(p),r=+(r*l).toFixed(p),f=+(f*l).toFixed(p),c=v.length;c--;)v[c]=v[c].toFixed(p),0==+v[c]&&(v[c]="0");else r*=l,f*=l,k*=l;return h=0,a=0,u=0,{min:r,max:f,secs:e,step:k,fix:p,exp:s,pnts:v}}function n(n,t,i){t=r(t%10)||2;0>t&&(s(n)?t=(""+l(n)).replace(/0+$/,"").length||1:(n=n.toFixed(15).replace(/0+$/,""),t=n.replace(".","").replace(/^[-0]+/,"").length,n=+n));var f=c(nt(n))-t+1,u=+(n*o(-f)).toFixed(15)||0;return u=i?c(u):v(u),!u&&(f=0),(""+l(u)).length>t&&(f+=1,u/=10),{c:u,e:f}}function i(n,t,i){var r=t.e-n.e;r&&(n.e+=r,n.c*=o(-r),n.c=i?c(n.c):v(n.c))}function p(n,t,r){n.e<t.e?i(t,n,r):i(n,t,r)}function w(t,i){i=i||g;t=n(t);for(var u=t.c,r=0;u>i[r];)r++;if(!i[r])for(u/=10,t.e+=1,r=0;u>i[r];)r++;return t.c=i[r],t}function b(t,r,u){var b,c=u||+h.slice(-1),v=w((r-t)/c,a),g=n(r-t),l=n(t,-1,1),o=n(r,-1),p;if(i(g,v),i(l,v,1),i(o,v),u?b=rt(l,o,c):c=it(l,o),s(t)&&s(r)&&t*r>=0){if(c>r-t)return k(t,r,c);c=ut(t,r,u,l,o,c)}return p=d(t,r,l.c,o.c),l.c=p[0],o.c=p[1],(f||e)&&ot(t,r,l,o),y(l.c,o.c,c,o.e)}function it(n,t){for(var u,i,f,e,r=[],s=h.length;s--;)u=h[s],i=w((t.c-n.c)/u,a),i=i.c*o(i.e),f=c(n.c/i)*i,e=v(t.c/i)*i,r[s]={min:f,max:e,step:i,span:e-f};return r.sort(function(n,t){var i=n.span-t.span;return 0===i&&(i=n.step-t.step),i}),r=r[0],u=r.span/r.step,n.c=r.min,t.c=r.max,3>u?2*u:u}function rt(n,t,i){for(var h,e,f=t.c,u=(t.c-n.c)/i-1;f>n.c;)u=w(u+1,a),u=u.c*o(u.e),h=u*i,e=v(t.c/u)*u,f=e-h;var c=n.c-f,l=e-t.c,s=c-l;return s>1.1*u&&(s=r(s/u/2)*u,f+=s,e+=s),n.c=f,t.c=e,u}function ut(n,t,i,u,f,e){var l=f.c-u.c,h=l/e*o(f.e),a;return!s(h)&&(h=c(h),l=h*e,t-n>l&&(h+=1,l=h*e,!i&&h*(e-1)>=t-n&&(e-=1,l=h*e)),l>=t-n)&&(a=l-(t-n),u.c=r(n-a/2),f.c=r(t+a/2),u.e=0,f.e=0),e}function k(n,t,i){if(i=i||5,f)t=n+i;else if(e)n=t-i;else{var u=i-(t-n),s=r(n-u/2),h=r(t+u/2),o=d(n,t,s,h);n=o[0];t=o[1]}return y(n,t,i)}function ft(n,i,r){r=r||5;var u=t.min(l(i/r),r)/2.1;return f?i=n+u:e?n=i-u:(n-=u,i+=u),b(n,i,r)}function d(n,t,i,r){return n>=0&&0>i?(r-=i,i=0):0>=t&&r>0&&(i-=r,r=0),[i,r]}function et(n){return n=(+n).toFixed(15).split("."),n.pop().replace(/0+$/,"").length}function ot(t,i,r,u){var o,s;f?(o=n(t,4,1),r.e-o.e>6&&(o={c:0,e:r.e}),p(r,o),p(u,o),u.c+=o.c-r.c,r.c=o.c):e&&(s=n(i,4),u.e-s.e>6&&(s={c:0,e:u.e}),p(r,s),p(u,s),r.c+=s.c-u.c,u.c=s.c)}function st(t,u,f){var b=f?[f]:h,e=u-t,w,g;if(0===e)return u=n(u,3),f=b[0],u.c=r(u.c+f/2),y(u.c-f,u.c,f,u.e);l(u/e)<1e-6&&(u=0);l(t/e)<1e-6&&(t=0);var c,k,s,nt=[[5,10],[10,2],[50,10],[100,2]],o=[],tt=[],d=n(u-t,3),a=n(t,-1,1),p=n(u,-1);for(i(a,d,1),i(p,d),e=p.c-a.c,d.c=e,w=b.length;w--;){for(f=b[w],c=v(e/f),k=c*f-e,s=3*(k+3),s+=2*(f-b[0]+2),f%5==0&&(s-=10),g=nt.length;g--;)c%nt[g][0]==0&&(s/=nt[g][1]);tt[w]=[f,c,k,s].join();o[w]={secs:f,step:c,delta:k,score:s}}return o.sort(function(n,t){return n.score-t.score}),o=o[0],a.c=r(a.c-o.delta/2),p.c=r(p.c+o.delta/2),y(a.c,p.c,o.secs,d.e)}var u,a,h,f,e,g=[10,20,25,50],ht=[4,5,6],t=Math,r=t.round,c=t.floor,v=t.ceil,l=t.abs;return tt});define("echarts/util/smartLogSteps",["require","./number"],function(n){function ut(n){return k(),o=n||{},ft(),et(),[ot(),k()][0]}function k(){r=o=p=e=l=a=u=h=i=c=null}function ft(){i=o.logLabelBase;null==i?(c="plain",i=10,e=b):(i=+i,1>i&&(i=10),c="exponent",e=v(i));u=o.splitNumber;null==u&&(u=yt);var n=parseFloat(o.dataMin),f=parseFloat(o.dataMax);isFinite(n)||isFinite(f)?isFinite(n)?isFinite(f)?n>f&&(f=[n,n=f][0]):f=n:n=f:n=f=1;r=o.logPositive;null==r&&(r=f>0||0===n);l=r?n:-f;a=r?f:-n;t>l&&(l=t);t>a&&(a=t)}function et(){function k(){var c;u>r&&(u=r);var n=w(s(r/u)),l=g(s(r/n)),a=n*l,v=(a-et)/2,f=w(s(t-v));for(lt(f-t)&&(f-=1),p=-f*e,c=f;o>=c-n;c+=n)h.push(y(i,c))}function ft(){for(var r,u,s,c,i=d(ut,0),e=i+2;e>i&&n(i+1)+f(i+1)*it<t;)i++;for(r=d(nt,0),e=r-2;r>e&&n(r-1)+f(r-1)*it>o;)r--;for(p=-(n(i)*b+f(i)*tt),u=i;r>=u;u++)s=n(u),c=f(u),h.push(y(10,s)*y(2,c))}function d(n,t){return 3*n+t}function f(t){return t-3*n(t)}function n(n){return w(s(n/3))}h=[];var o=s(v(a)/e),t=s(v(l)/e),nt=g(o),ut=w(t),r=nt-ut,et=o-t;"exponent"===c?k():rt>=r&&u>rt?ft():k()}function ot(){for(var n=[],t=0,o=h.length;o>t;t++)n[t]=(r?1:-1)*h[t];r||n.reverse();var f=ht(),e=f.value2Coord,i=e(n[0]),u=e(n[n.length-1]);return i===u&&(i-=1,u+=1),{dataMin:i,dataMax:u,tickList:n,logPositive:r,labelFormatter:st(),dataMappingMethods:f}}function st(){if("exponent"===c){var n=i,t=e;return function(i){if(!isFinite(parseFloat(i)))return"";var r="";return 0>i&&(i=-i,r="-"),r+n+ct(v(i)/t)}}return function(n){return isFinite(parseFloat(n))?at.addCommas(d(n)):""}}function ht(){var n=r,i=p;return{value2Coord:function(r){return null==r||isNaN(r)||!isFinite(r)?r:(r=parseFloat(r),isFinite(r)?n&&t>r?r=t:!n&&r>-t&&(r=-t):r=t,r=vt(r),(n?1:-1)*(v(r)+i))},coord2Value:function(r){return null==r||isNaN(r)||!isFinite(r)?r:(r=parseFloat(r),isFinite(r)||(r=t),n?y(nt,r-i):-y(nt,-r+i))}}}function s(n){return+Number(+n).toFixed(14)}function d(n){return Number(n).toFixed(15).replace(/\.?0*$/,"")}function ct(n){var r;n=d(Math.round(n));for(var i=[],t=0,u=n.length;u>t;t++)r=n.charAt(t),i.push(pt[r]||"");return i.join("")}function lt(n){return n>-t&&t>n}var r,i,c,e,o,u,p,l,a,h,at=n("./number"),f=Math,v=f.log,y=f.pow,vt=f.abs,g=f.ceil,w=f.floor,nt=f.E,b=f.LN10,tt=f.LN2,it=tt/b,t=1e-9,yt=5,rt=2,pt={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻"};return ut});define(function(){return{color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",fontSize:17,color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{},animationDuration:1e3,legend:{itemGap:15},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",padding:[8,12,8,12],axisPointer:{type:"line",lineStyle:{color:"#607D8B",width:1},crossStyle:{color:"#607D8B"},shadowStyle:{color:"rgba(200,200,200,0.2)"}},textStyle:{fontFamily:"Roboto, sans-serif"}},dataZoom:{dataBackgroundColor:"#eceff1",fillerColor:"rgba(96,125,139,0.1)",handleColor:"#607D8B",handleSize:10},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#999",width:1}},splitLine:{lineStyle:{color:["#eee"]}},nameTextStyle:{fontFamily:"Roboto, sans-serif"},axisLabel:{textStyle:{fontFamily:"Roboto, sans-serif"}}},valueAxis:{axisLine:{lineStyle:{color:"#999",width:1}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}},nameTextStyle:{fontFamily:"Roboto, sans-serif"},axisLabel:{textStyle:{fontFamily:"Roboto, sans-serif"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:0},emphasis:{barBorderRadius:0}}},pie:{itemStyle:{normal:{borderWidth:1,borderColor:"#fff"},emphasis:{borderWidth:1,borderColor:"#fff"}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"Roboto, Arial, Verdana, sans-serif"}}});define("echarts/chart/bar",["require","./base","zrender/shape/Rectangle","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(n){function i(n,t,i,r,u){f.call(this,n,t,i,r,u);this.refresh(r)}var f=n("./base"),r=n("zrender/shape/Rectangle"),t;n("../component/axis");n("../component/grid");n("../component/dataZoom");t=n("../config");t.bar={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}},emphasis:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}}}};var u=n("../util/ecData"),e=n("zrender/tool/util"),o=n("zrender/tool/color");return i.prototype={type:t.CHART_TYPE_BAR,_buildShape:function(){this._buildPosition()},_buildNormal:function(n,i,u,f,e){for(var k,bt,kt,dt,w,it,d,h,v,y,p,a,st,rt,ht,b,ut,c,ft=this.series,o=u[0][0],g=ft[o],s="horizontal"==e,ct=this.component.xAxis,lt=this.component.yAxis,tt=s?ct.getAxis(g.xAxisIndex):lt.getAxis(g.yAxisIndex),nt=this._mapSize(tt,u),at=nt.gap,vt=nt.barGap,yt=nt.barWidthMap,pt=nt.barMaxWidthMap,wt=nt.barWidth,et=nt.barMinHeightMap,gt=nt.interval,ot=this.deepQuery([this.ecTheme,t],"island.r"),l=0,ni=i;ni>l&&null!=tt.getNameByIndex(l);l++)for(s?y=tt.getCoordByIndex(l)-at/2:p=tt.getCoordByIndex(l)+at/2,k=0,bt=u.length;bt>k;k++){for(kt=ft[u[k][0]].yAxisIndex||0,dt=ft[u[k][0]].xAxisIndex||0,d=s?lt.getAxis(kt):ct.getAxis(dt),st=a=ht=rt=d.getCoord(0),w=0,it=u[k].length;it>w;w++)o=u[k][w],g=ft[o],ut=g.data[l],c=this.getDataFromOption(ut,"-"),f[o]=f[o]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},v=Math.min(pt[o]||Number.MAX_VALUE,yt[o]||wt),"-"!==c&&(c>0?(h=w>0?d.getCoordSize(c):s?st-d.getCoord(c):d.getCoord(c)-st,1===it&&et[o]>h&&(h=et[o]),s?(a-=h,p=a):(y=a,a+=h)):0>c?(h=w>0?d.getCoordSize(c):s?d.getCoord(c)-ht:ht-d.getCoord(c),1===it&&et[o]>h&&(h=et[o]),s?(p=rt,rt+=h):(rt-=h,y=rt)):(h=0,s?(a-=h,p=a):(y=a,a+=h)),f[o][l]=s?y+v/2:p-v/2,f[o].min>c&&(f[o].min=c,s?(f[o].minY=p,f[o].minX=f[o][l]):(f[o].minX=y+h,f[o].minY=f[o][l])),f[o].max<c&&(f[o].max=c,s?(f[o].maxY=p,f[o].maxX=f[o][l]):(f[o].maxX=y+h,f[o].maxY=f[o][l])),f[o].sum+=c,f[o].counter++,l%gt==0&&(b=this._getBarItem(o,l,tt.getNameByIndex(l),y,p-(s?0:v),s?v:h,s?h:v,s?"vertical":"horizontal"),this.shapeList.push(new r(b))));for(w=0,it=u[k].length;it>w;w++)o=u[k][w],g=ft[o],ut=g.data[l],c=this.getDataFromOption(ut,"-"),v=Math.min(pt[o]||Number.MAX_VALUE,yt[o]||wt),"-"==c&&this.deepQuery([ut,g,this.option],"calculable")&&(s?(a-=ot,p=a):(y=a,a+=ot),b=this._getBarItem(o,l,tt.getNameByIndex(l),y,p-(s?0:v),s?v:ot,s?ot:v,s?"vertical":"horizontal"),b.hoverable=!1,b.draggable=!1,b.style.lineWidth=1,b.style.brushType="stroke",b.style.strokeColor=g.calculableHolderColor||this.ecTheme.calculableHolderColor||t.calculableHolderColor,this.shapeList.push(new r(b)));s?y+=v+vt:p-=v+vt}this._calculMarkMapXY(f,u,s?"y":"x")},_buildHorizontal:function(n,t,i,r){return this._buildNormal(n,t,i,r,"horizontal")},_buildVertical:function(n,t,i,r){return this._buildNormal(n,t,i,r,"vertical")},_buildOther:function(n,t,i,u){for(var y,g,c,it,k,e,ut=this.series,v=0,ft=i.length;ft>v;v++)for(y=0,g=i[v].length;g>y;y++){var f=i[v][y],a=ut[f],et=a.xAxisIndex||0,w=this.component.xAxis.getAxis(et),nt=w.getCoord(0),ot=a.yAxisIndex||0,b=this.component.yAxis.getAxis(ot),tt=b.getCoord(0);for(u[f]=u[f]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0},c=0,it=a.data.length;it>c;c++)if(k=a.data[c],e=this.getDataFromOption(k,"-"),e instanceof Array){var p,d,o=w.getCoord(e[0]),s=b.getCoord(e[1]),rt=[k,a],l=this.deepQuery(rt,"barWidth")||10,h=this.deepQuery(rt,"barHeight");null!=h?(p="horizontal",e[0]>0?(l=o-nt,o-=l):l=e[0]<0?nt-o:0,d=this._getBarItem(f,c,e[0],o,s-h/2,l,h,p)):(p="vertical",e[1]>0?h=tt-s:e[1]<0?(h=s-tt,s-=h):h=0,d=this._getBarItem(f,c,e[0],o-l/2,s,l,h,p));this.shapeList.push(new r(d));o=w.getCoord(e[0]);s=b.getCoord(e[1]);u[f].min0>e[0]&&(u[f].min0=e[0],u[f].minY0=s,u[f].minX0=o);u[f].max0<e[0]&&(u[f].max0=e[0],u[f].maxY0=s,u[f].maxX0=o);u[f].sum0+=e[0];u[f].counter0++;u[f].min1>e[1]&&(u[f].min1=e[1],u[f].minY1=s,u[f].minX1=o);u[f].max1<e[1]&&(u[f].max1=e[1],u[f].maxY1=s,u[f].maxX1=o);u[f].sum1+=e[1];u[f].counter1++}}this._calculMarkMapXY(u,i,"xy")},_mapSize:function(n,t,i){var u,f,o=this._findSpecialBarSzie(t,i),l=o.barWidthMap,a=o.barMaxWidthMap,v=o.barMinHeightMap,s=o.sBarWidthCounter,h=o.sBarWidthTotal,r=o.barGap,e=o.barCategoryGap,c=1;if(t.length!=s){if(i)u=n.getGap(),r=0,f=+(u/t.length).toFixed(2),0>=f&&(c=Math.floor(t.length/u),f=1);else if(u="string"==typeof e&&e.match(/%$/)?(n.getGap()*(100-parseFloat(e))/100).toFixed(2)-0:n.getGap()-e,"string"==typeof r&&r.match(/%$/)?(r=parseFloat(r)/100,f=+((u-h)/((t.length-1)*r+t.length-s)).toFixed(2),r=f*r):(r=parseFloat(r),f=+((u-h-r*(t.length-1))/(t.length-s)).toFixed(2)),0>=f)return this._mapSize(n,t,!0)}else if(u=s>1?"string"==typeof e&&e.match(/%$/)?+(n.getGap()*(100-parseFloat(e))/100).toFixed(2):n.getGap()-e:h,f=0,r=s>1?+((u-h)/(s-1)).toFixed(2):0,0>r)return this._mapSize(n,t,!0);return this._recheckBarMaxWidth(t,l,a,v,u,f,r,c)},_findSpecialBarSzie:function(n,t){for(var u,o,i,y,p,r,f,h,c,d=this.series,l={},a={},w={},b=0,k=0,e=0,g=n.length;g>e;e++)for(var v={barWidth:!1,barMaxWidth:!1},s=0,nt=n[e].length;nt>s;s++){if(u=n[e][s],o=d[u],!t){if(v.barWidth)l[u]=r;else if(r=this.query(o,"barWidth"),null!=r)for(l[u]=r,k+=r,b++,v.barWidth=!0,i=0,y=s;y>i;i++)p=n[e][i],l[p]=r;if(v.barMaxWidth)a[u]=f;else if(f=this.query(o,"barMaxWidth"),null!=f)for(a[u]=f,v.barMaxWidth=!0,i=0,y=s;y>i;i++)p=n[e][i],a[p]=f}w[u]=this.query(o,"barMinHeight");h=null!=h?h:this.query(o,"barGap");c=null!=c?c:this.query(o,"barCategoryGap")}return{barWidthMap:l,barMaxWidthMap:a,barMinHeightMap:w,sBarWidth:r,sBarMaxWidth:f,sBarWidthCounter:b,sBarWidthTotal:k,barGap:h,barCategoryGap:c}},_recheckBarMaxWidth:function(n,t,i,r,u,f,e,o){for(var h,s=0,c=n.length;c>s;s++)h=n[s][0],i[h]&&i[h]<f&&(u-=f-i[h]);return{barWidthMap:t,barMaxWidthMap:i,barMinHeightMap:r,gap:u,barWidth:f,barGap:e,interval:o}},_getBarItem:function(n,t,i,r,f,e,s,h){var v,g=this.series,p=g[n],b=p.data[t],it=this._sIndex2ColorMap[n],k=[b,p],nt=this.deepMerge(k,"itemStyle.normal"),tt=this.deepMerge(k,"itemStyle.emphasis"),y=nt.barBorderWidth,c,w,d;v={zlevel:p.zlevel,z:p.z,clickable:this.deepQuery(k,"clickable"),style:{x:r,y:f,width:e,height:s,brushType:"both",color:this.getItemStyleColor(this.deepQuery(k,"itemStyle.normal.color")||it,n,t,b),radius:nt.barBorderRadius,lineWidth:y,strokeColor:nt.barBorderColor},highlightStyle:{color:this.getItemStyleColor(this.deepQuery(k,"itemStyle.emphasis.color"),n,t,b),radius:tt.barBorderRadius,lineWidth:tt.barBorderWidth,strokeColor:tt.barBorderColor},_orient:h};c=v.style;v.highlightStyle.color=v.highlightStyle.color||("string"==typeof c.color?o.lift(c.color,-.3):c.color);c.x=Math.floor(c.x);c.y=Math.floor(c.y);c.height=Math.ceil(c.height);c.width=Math.ceil(c.width);y>0&&c.height>y&&c.width>y?(c.y+=y/2,c.height-=y,c.x+=y/2,c.width-=y):c.brushType="fill";v.highlightStyle.textColor=v.highlightStyle.color;v=this.addLabel(v,p,b,i,h);for(var a=[c,v.highlightStyle],l=0,rt=a.length;rt>l;l++)if(w=a[l].textPosition,"insideLeft"===w||"insideRight"===w||"insideTop"===w||"insideBottom"===w){d=5;switch(w){case"insideLeft":a[l].textX=c.x+d;a[l].textY=c.y+c.height/2;a[l].textAlign="left";a[l].textBaseline="middle";break;case"insideRight":a[l].textX=c.x+c.width-d;a[l].textY=c.y+c.height/2;a[l].textAlign="right";a[l].textBaseline="middle";break;case"insideTop":a[l].textX=c.x+c.width/2;a[l].textY=c.y+d/2;a[l].textAlign="center";a[l].textBaseline="top";break;case"insideBottom":a[l].textX=c.x+c.width/2;a[l].textY=c.y+c.height-d/2;a[l].textAlign="center";a[l].textBaseline="bottom"}a[l].textPosition="specific";a[l].textColor=a[l].textColor||"#fff"}return this.deepQuery([b,p,this.option],"calculable")&&(this.setCalculable(v),v.draggable=!0),u.pack(v,g[n],n,g[n].data[t],t,i),v},getMarkCoord:function(n,t){var s,h,c=this.series[n],i=this.xMarkMap[n],r=this.component.xAxis.getAxis(c.xAxisIndex),u=this.component.yAxis.getAxis(c.yAxisIndex),f,e,o;return t.type&&("max"===t.type||"min"===t.type||"average"===t.type)?(o=null!=t.valueIndex?t.valueIndex:null!=i.maxX0?"1":"",h=[i[t.type+"X"+o],i[t.type+"Y"+o],i[t.type+"Line"+o],i[t.type+o]]):i.isHorizontal?(s="string"==typeof t.xAxis&&r.getIndexByName?r.getIndexByName(t.xAxis):t.xAxis||0,f=i[s],f=null!=f?f:"string"!=typeof t.xAxis&&r.getCoordByIndex?r.getCoordByIndex(t.xAxis||0):r.getCoord(t.xAxis||0),h=[f,u.getCoord(t.yAxis||0)]):(s="string"==typeof t.yAxis&&u.getIndexByName?u.getIndexByName(t.yAxis):t.yAxis||0,e=i[s],e=null!=e?e:"string"!=typeof t.yAxis&&u.getCoordByIndex?u.getCoordByIndex(t.yAxis||0):u.getCoord(t.yAxis||0),h=[r.getCoord(t.xAxis||0),e]),h},refresh:function(n){n&&(this.option=n,this.series=n.series);this.backupShapeList();this._buildShape()},addDataAnimation:function(n,t){function v(){e--;0===e&&t&&t()}for(var s,h,c,l,o,r,a,e,y=this.series,f={},i=0,p=n.length;p>i;i++)f[n[i][0]]=n[i];for(e=0,i=this.shapeList.length-1;i>=0;i--)if(r=u.get(this.shapeList[i],"seriesIndex"),f[r]&&!f[r][3]&&"rectangle"===this.shapeList[i].type){if(a=u.get(this.shapeList[i],"dataIndex"),o=y[r],f[r][2]&&a===o.data.length-1){this.zr.delShape(this.shapeList[i].id);continue}if(!f[r][2]&&0===a){this.zr.delShape(this.shapeList[i].id);continue}"horizontal"===this.shapeList[i]._orient?(l=this.component.yAxis.getAxis(o.yAxisIndex||0).getGap(),c=f[r][2]?-l:l,s=0):(h=this.component.xAxis.getAxis(o.xAxisIndex||0).getGap(),s=f[r][2]?h:-h,c=0);this.shapeList[i].position=[0,0];e++;this.zr.animate(this.shapeList[i].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[s,c]}).done(v).start()}e||t&&t()}},e.inherits(i,f),n("../chart").define("bar",i),i});define("echarts/chart/line",["require","./base","zrender/shape/Polyline","../util/shape/Icon","../util/shape/HalfSmoothPolygon","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(n){function t(n,t,i,u,f){r.call(this,n,t,i,u,f);this.refresh(u)}function o(n,t,i){var s=t.x,l=t.y,e=t.width,o=t.height,f=o/2,r,a,h,c,v;t.symbol.match("empty")&&(n.fillStyle="#fff");t.brushType="both";r=t.symbol.replace("empty","").toLowerCase();r.match("star")?(f=r.replace("star","")-0||5,l-=1,r="star"):("rectangle"===r||"arrow"===r)&&(s+=(e-o)/2,e=o);a="";(r.match("image")&&(a=r.replace(new RegExp("^image:\\/\\/"),""),r="image",s+=Math.round((e-o)/2)-1,e=o+=2),r=u.prototype.iconLibrary[r])?(h=t.x,c=t.y,n.moveTo(h,c+f),n.lineTo(h+5,c+f),n.moveTo(h+t.width-5,c+f),n.lineTo(h+t.width,c+f),v=this,r(n,{x:s+4,y:l+4,width:e-8,height:o-8,n:f,image:a},function(){v.modSelf();i()})):(n.moveTo(s,l+f),n.lineTo(s+e,l+f))}var r=n("./base"),s=n("zrender/shape/Polyline"),u=n("../util/shape/Icon"),h=n("../util/shape/HalfSmoothPolygon"),i;n("../component/axis");n("../component/grid");n("../component/dataZoom");i=n("../config");i.line={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,dataFilter:"nearest",itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:!1}}},symbolSize:2,showAllSymbol:!1};var f=n("../util/ecData"),e=n("zrender/tool/util"),c=n("zrender/tool/color");return t.prototype={type:i.CHART_TYPE_LINE,_buildShape:function(){this.finalPLMap={};this._buildPosition()},_buildHorizontal:function(n,t,i,r){for(var rt,e,d,h,g,a,v,y,c,p,nt,tt,it,w,f,k=this.series,u=i[0][0],l=k[u],b=this.component.xAxis.getAxis(l.xAxisIndex||0),o={},s=0,ut=t;ut>s&&null!=b.getNameByIndex(s);s++){for(y=b.getCoordByIndex(s),e=0,d=i.length;d>e;e++)for(v=this.component.yAxis.getAxis(k[i[e][0]].yAxisIndex||0),nt=p=it=tt=v.getCoord(0),h=0,g=i[e].length;g>h;h++)u=i[e][h],l=k[u],w=l.data[s],f=this.getDataFromOption(w,"-"),o[u]=o[u]||[],r[u]=r[u]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==f?(f>=0?(p-=h>0?v.getCoordSize(f):nt-v.getCoord(f),c=p):0>f&&(tt+=h>0?v.getCoordSize(f):v.getCoord(f)-it,c=tt),o[u].push([y,c,s,b.getNameByIndex(s),y,nt]),r[u].min>f&&(r[u].min=f,r[u].minY=c,r[u].minX=y),r[u].max<f&&(r[u].max=f,r[u].maxY=c,r[u].maxX=y),r[u].sum+=f,r[u].counter++):o[u].length>0&&(this.finalPLMap[u]=this.finalPLMap[u]||[],this.finalPLMap[u].push(o[u]),o[u]=[]);for(p=this.component.grid.getY(),e=0,d=i.length;d>e;e++)for(h=0,g=i[e].length;g>h;h++)u=i[e][h],l=k[u],w=l.data[s],f=this.getDataFromOption(w,"-"),"-"==f&&this.deepQuery([w,l,this.option],"calculable")&&(rt=this.deepQuery([w,l],"symbolSize"),p+=2*rt+5,c=p,this.shapeList.push(this._getCalculableItem(u,s,b.getNameByIndex(s),y,c,"horizontal")))}for(a in o)o[a].length>0&&(this.finalPLMap[a]=this.finalPLMap[a]||[],this.finalPLMap[a].push(o[a]),o[a]=[]);this._calculMarkMapXY(r,i,"y");this._buildBorkenLine(n,this.finalPLMap,b,"horizontal")},_buildVertical:function(n,t,i,r){for(var rt,e,d,h,g,a,v,c,y,p,nt,tt,it,w,f,k=this.series,u=i[0][0],l=k[u],b=this.component.yAxis.getAxis(l.yAxisIndex||0),o={},s=0,ut=t;ut>s&&null!=b.getNameByIndex(s);s++){for(y=b.getCoordByIndex(s),e=0,d=i.length;d>e;e++)for(v=this.component.xAxis.getAxis(k[i[e][0]].xAxisIndex||0),nt=p=it=tt=v.getCoord(0),h=0,g=i[e].length;g>h;h++)u=i[e][h],l=k[u],w=l.data[s],f=this.getDataFromOption(w,"-"),o[u]=o[u]||[],r[u]=r[u]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==f?(f>=0?(p+=h>0?v.getCoordSize(f):v.getCoord(f)-nt,c=p):0>f&&(tt-=h>0?v.getCoordSize(f):it-v.getCoord(f),c=tt),o[u].push([c,y,s,b.getNameByIndex(s),nt,y]),r[u].min>f&&(r[u].min=f,r[u].minX=c,r[u].minY=y),r[u].max<f&&(r[u].max=f,r[u].maxX=c,r[u].maxY=y),r[u].sum+=f,r[u].counter++):o[u].length>0&&(this.finalPLMap[u]=this.finalPLMap[u]||[],this.finalPLMap[u].push(o[u]),o[u]=[]);for(p=this.component.grid.getXend(),e=0,d=i.length;d>e;e++)for(h=0,g=i[e].length;g>h;h++)u=i[e][h],l=k[u],w=l.data[s],f=this.getDataFromOption(w,"-"),"-"==f&&this.deepQuery([w,l,this.option],"calculable")&&(rt=this.deepQuery([w,l],"symbolSize"),p-=2*rt+5,c=p,this.shapeList.push(this._getCalculableItem(u,s,b.getNameByIndex(s),c,y,"vertical")))}for(a in o)o[a].length>0&&(this.finalPLMap[a]=this.finalPLMap[a]||[],this.finalPLMap[a].push(o[a]),o[a]=[]);this._calculMarkMapXY(r,i,"x");this._buildBorkenLine(n,this.finalPLMap,b,"vertical")},_buildOther:function(n,t,i,r){for(var v,w,u,c,p,b,l,k,d,f,o,h,s,y,g=this.series,e={},a=0,nt=i.length;nt>a;a++)for(v=0,w=i[a].length;w>v;v++)for(u=i[a][v],c=g[u],y=this.component.xAxis.getAxis(c.xAxisIndex||0),p=this.component.yAxis.getAxis(c.yAxisIndex||0),b=p.getCoord(0),e[u]=e[u]||[],r[u]=r[u]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0},l=0,k=c.data.length;k>l;l++)d=c.data[l],f=this.getDataFromOption(d,"-"),f instanceof Array&&(o=y.getCoord(f[0]),h=p.getCoord(f[1]),e[u].push([o,h,l,f[0],o,b]),r[u].min0>f[0]&&(r[u].min0=f[0],r[u].minY0=h,r[u].minX0=o),r[u].max0<f[0]&&(r[u].max0=f[0],r[u].maxY0=h,r[u].maxX0=o),r[u].sum0+=f[0],r[u].counter0++,r[u].min1>f[1]&&(r[u].min1=f[1],r[u].minY1=h,r[u].minX1=o),r[u].max1<f[1]&&(r[u].max1=f[1],r[u].maxY1=h,r[u].maxX1=o),r[u].sum1+=f[1],r[u].counter1++);for(s in e)e[s].length>0&&(this.finalPLMap[s]=this.finalPLMap[s]||[],this.finalPLMap[s].push(e[s]),e[s]=[]);this._calculMarkMapXY(r,i,"xy");this._buildBorkenLine(n,this.finalPLMap,y,"other")},_buildBorkenLine:function(n,t,i,r){for(var o,ut,a,ft,g,nt,w,v="other"==r?"horizontal":r,y=this.series,b=n.length-1;b>=0;b--){var l=n[b],u=y[l],k=t[l];if(u.type===this.type&&null!=k)for(var tt=this._getBbox(l,v),it=this._sIndex2ColorMap[l],d=this.query(u,"itemStyle.normal.lineStyle.width"),et=this.query(u,"itemStyle.normal.lineStyle.type"),ot=this.query(u,"itemStyle.normal.lineStyle.color"),st=this.getItemStyleColor(this.query(u,"itemStyle.normal.color"),l,-1),ht=null!=this.query(u,"itemStyle.normal.areaStyle"),rt=this.query(u,"itemStyle.normal.areaStyle.color"),p=0,ct=k.length;ct>p;p++){if(o=k[p],ut="other"!=r&&this._isLarge(v,o),ut)o=this._getLargePointList(v,o,u.dataFilter);else for(a=0,ft=o.length;ft>a;a++)w=u.data[o[a][2]],(this.deepQuery([w,u,this.option],"calculable")||this.deepQuery([w,u],"showAllSymbol")||"categoryAxis"===i.type&&i.isMainAxis(o[a][2])&&"none"!=this.deepQuery([w,u],"symbol"))&&this.shapeList.push(this._getSymbol(l,o[a][2],o[a][3],o[a][0],o[a][1],v));g=new s({zlevel:u.zlevel,z:u.z,style:{miterLimit:d,pointList:o,strokeColor:ot||st||it,lineWidth:d,lineType:et,smooth:this._getSmooth(u.smooth),smoothConstraint:tt,shadowColor:this.query(u,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(u,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(u,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(u,"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:!1,_main:!0,_seriesIndex:l,_orient:v});(f.pack(g,y[l],l,0,p,y[l].name),this.shapeList.push(g),ht)&&(nt=new h({zlevel:u.zlevel,z:u.z,style:{miterLimit:d,pointList:e.clone(o).concat([[o[o.length-1][4],o[o.length-1][5]],[o[0][4],o[0][5]]]),brushType:"fill",smooth:this._getSmooth(u.smooth),smoothConstraint:tt,color:rt?rt:c.alpha(it,.5)},highlightStyle:{brushType:"fill"},hoverable:!1,_main:!0,_seriesIndex:l,_orient:v}),f.pack(nt,y[l],l,0,p,y[l].name),this.shapeList.push(nt))}}},_getBbox:function(n,t){var r=this.component.grid.getBbox(),i=this.xMarkMap[n];return null!=i.minX0?[[Math.min(i.minX0,i.maxX0,i.minX1,i.maxX1),Math.min(i.minY0,i.maxY0,i.minY1,i.maxY1)],[Math.max(i.minX0,i.maxX0,i.minX1,i.maxX1),Math.max(i.minY0,i.maxY0,i.minY1,i.maxY1)]]:("horizontal"===t?(r[0][1]=Math.min(i.minY,i.maxY),r[1][1]=Math.max(i.minY,i.maxY)):(r[0][0]=Math.min(i.minX,i.maxX),r[1][0]=Math.max(i.minX,i.maxX)),r)},_isLarge:function(n,t){return t.length<2?!1:"horizontal"===n?Math.abs(t[0][0]-t[1][0])<.5:Math.abs(t[0][1]-t[1][1])<.5},_getLargePointList:function(n,t,i){var o,s,l,h,f,u,e,r,w,v,c;if(o="horizontal"===n?this.component.grid.getWidth():this.component.grid.getHeight(),s=t.length,l=[],"function"!=typeof i)switch(i){case"min":i=function(n){return Math.max.apply(null,n)};break;case"max":i=function(n){return Math.min.apply(null,n)};break;case"average":i=function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t];return i/n.length};break;default:i=function(n){return n[0]}}for(h=[],f=0;o>f;f++)if(u=Math.floor(s/o*f),e=Math.min(Math.floor(s/o*(f+1)),s),!(u>=e)){for(r=u;e>r;r++)h[r-u]="horizontal"===n?t[r][1]:t[r][0];h.length=e-u;for(var a=i(h),y=-1,p=1/0,r=u;e>r;r++)w="horizontal"===n?t[r][1]:t[r][0],v=Math.abs(w-a),p>v&&(y=r,p=v);c=t[y].slice();"horizontal"===n?c[1]=a:c[0]=a;l.push(c)}return l},_getSmooth:function(n){return n?.3:0},_getCalculableItem:function(n,t,r,u,f,e){var h=this.series,s=h[n].calculableHolderColor||this.ecTheme.calculableHolderColor||i.calculableHolderColor,o=this._getSymbol(n,t,r,u,f,e);return o.style.color=s,o.style.strokeColor=s,o.rotation=[0,0],o.hoverable=!1,o.draggable=!1,o.style.text=void 0,o},_getSymbol:function(n,t,i,r,u,f){var h=this.series,e=h[n],s=e.data[t],o=this.getSymbolShape(e,n,s,t,i,r,u,this._sIndex2ShapeMap[n],this._sIndex2ColorMap[n],"#fff","vertical"===f?"horizontal":"vertical");return o.zlevel=e.zlevel,o.z=e.z+1,this.deepQuery([s,e,this.option],"calculable")&&(this.setCalculable(o),o.draggable=!0),o},getMarkCoord:function(n,t){var e=this.series[n],i=this.xMarkMap[n],u=this.component.xAxis.getAxis(e.xAxisIndex),f=this.component.yAxis.getAxis(e.yAxisIndex),r;return t.type&&("max"===t.type||"min"===t.type||"average"===t.type)?(r=null!=t.valueIndex?t.valueIndex:null!=i.maxX0?"1":"",[i[t.type+"X"+r],i[t.type+"Y"+r],i[t.type+"Line"+r],i[t.type+r]]):["string"!=typeof t.xAxis&&u.getCoordByIndex?u.getCoordByIndex(t.xAxis||0):u.getCoord(t.xAxis||0),"string"!=typeof t.yAxis&&f.getCoordByIndex?f.getCoordByIndex(t.yAxis||0):f.getCoord(t.yAxis||0)]},refresh:function(n){n&&(this.option=n,this.series=n.series);this.backupShapeList();this._buildShape()},ontooltipHover:function(n,t){for(var u,s,i,h,f,r,e=n.seriesIndex,c=n.dataIndex,o=e.length;o--;)if(f=this.finalPLMap[e[o]])for(u=0,s=f.length;s>u;u++)for(r=f[u],i=0,h=r.length;h>i;i++)c===r[i][2]&&t.push(this._getSymbol(e[o],r[i][2],r[i][3],r[i][0],r[i][1],"horizontal"))},addDataAnimation:function(n,t){function y(){c--;0===c&&t&&t()}function p(n){n.style.controlPointList=null}for(var s,a,h,v,u,r,o,c,f,l,w=this.series,e={},i=0,b=n.length;b>i;i++)e[n[i][0]]=n[i];for(c=0,i=this.shapeList.length-1;i>=0;i--)if(u=this.shapeList[i]._seriesIndex,e[u]&&!e[u][3]){if(this.shapeList[i]._main&&this.shapeList[i].style.pointList.length>1)(r=this.shapeList[i].style.pointList,a=Math.abs(r[0][0]-r[1][0]),v=Math.abs(r[0][1]-r[1][1]),o="horizontal"===this.shapeList[i]._orient,e[u][2])?("half-smooth-polygon"===this.shapeList[i].type&&(f=r.length,this.shapeList[i].style.pointList[f-3]=r[f-2],this.shapeList[i].style.pointList[f-3][o?0:1]=r[f-4][o?0:1],this.shapeList[i].style.pointList[f-2]=r[f-1]),this.shapeList[i].style.pointList.pop(),o?(s=a,h=0):(s=0,h=-v)):((this.shapeList[i].style.pointList.shift(),"half-smooth-polygon"===this.shapeList[i].type)&&(l=this.shapeList[i].style.pointList.pop(),o?l[0]=r[0][0]:l[1]=r[0][1],this.shapeList[i].style.pointList.push(l)),o?(s=-a,h=0):(s=0,h=v)),this.shapeList[i].style.controlPointList=null,this.zr.modShape(this.shapeList[i]);else{if(e[u][2]&&this.shapeList[i]._dataIndex===w[u].data.length-1){this.zr.delShape(this.shapeList[i].id);continue}if(!e[u][2]&&0===this.shapeList[i]._dataIndex){this.zr.delShape(this.shapeList[i].id);continue}}this.shapeList[i].position=[0,0];c++;this.zr.animate(this.shapeList[i].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[s,h]}).during(p).done(y).start()}c||t&&t()}},u.prototype.iconLibrary.legendLineIcon=o,e.inherits(t,r),n("../chart").define("line",t),t});define("echarts/util/shape/HalfSmoothPolygon",["require","zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(n){function t(n){i.call(this,n)}var i=n("zrender/shape/Base"),r=n("zrender/shape/util/smoothBezier"),u=n("zrender/tool/util");return t.prototype={type:"half-smooth-polygon",buildPath:function(t,i){var u=i.pointList,o,s,h,c,f,e;if(!(u.length<2))if(i.smooth){for(o=r(u.slice(0,-2),i.smooth,!1,i.smoothConstraint),t.moveTo(u[0][0],u[0][1]),f=u.length,e=0;f-3>e;e++)s=o[2*e],h=o[2*e+1],c=u[e+1],t.bezierCurveTo(s[0],s[1],h[0],h[1],c[0],c[1]);t.lineTo(u[f-2][0],u[f-2][1]);t.lineTo(u[f-1][0],u[f-1][1]);t.lineTo(u[0][0],u[0][1])}else n("zrender/shape/Polygon").prototype.buildPath(t,i)}},u.inherits(t,i),t});define("echarts/chart/pie",["require","./base","zrender/shape/Text","zrender/shape/Ring","zrender/shape/Circle","zrender/shape/Sector","zrender/shape/Polyline","../config","../util/ecData","zrender/tool/util","zrender/tool/math","zrender/tool/color","../chart"],function(n){function f(n,i,r,u,f){e.call(this,n,i,r,u,f);var o=this;o.shapeHandler.onmouseover=function(n){var i=n.target,u=t.get(i,"seriesIndex"),f=t.get(i,"dataIndex"),l=t.get(i,"special"),e=[i.style.x,i.style.y],a=i.style.startAngle,v=i.style.endAngle,s=((v+a)/2+360)%360,h=i.highlightStyle.color,c=o.getLabel(u,f,l,e,s,h,!0),r;c&&o.zr.addHoverShape(c);r=o.getLabelLine(u,f,e,i.style.r0,i.style.r,s,h,!0);r&&o.zr.addHoverShape(r)};this.refresh(u)}var e=n("./base"),o=n("zrender/shape/Text"),s=n("zrender/shape/Ring"),h=n("zrender/shape/Circle"),c=n("zrender/shape/Sector"),l=n("zrender/shape/Polyline"),u=n("../config");u.pie={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockWise:!0,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!1},labelLine:{show:!1,length:20,lineStyle:{width:1,type:"solid"}}}}};var t=n("../util/ecData"),r=n("zrender/tool/util"),i=n("zrender/tool/math"),a=n("zrender/tool/color");return f.prototype={type:u.CHART_TYPE_PIE,_buildShape:function(){var i=this.series,c=this.component.legend,o,f,r,e,n,l;for(this.selectedMap={},this._selected={},this._selectedMode=!1,n=0,l=i.length;l>n;n++)if(i[n].type===u.CHART_TYPE_PIE){if(i[n]=this.reformOption(i[n]),this.legendHoverLink=i[n].legendHoverLink||this.legendHoverLink,e=i[n].name||"",this.selectedMap[e]=c?c.isSelected(e):!0,!this.selectedMap[e])continue;o=this.parseCenter(this.zr,i[n].center);f=this.parseRadius(this.zr,i[n].radius);this._selectedMode=this._selectedMode||i[n].selectedMode;this._selected[n]=[];this.deepQuery([i[n],this.option],"calculable")&&(r={zlevel:i[n].zlevel,z:i[n].z,hoverable:!1,style:{x:o[0],y:o[1],r0:f[0]<=10?0:f[0]-10,r:f[1]+10,brushType:"stroke",lineWidth:1,strokeColor:i[n].calculableHolderColor||this.ecTheme.calculableHolderColor||u.calculableHolderColor}},t.pack(r,i[n],n,void 0,-1),this.setCalculable(r),r=f[0]<=10?new h(r):new s(r),this.shapeList.push(r));this._buildSinglePie(n);this.buildMark(n)}this.addShapeList()},_buildSinglePie:function(n){for(var rt,e,ut=this.series,o=ut[n],i=o.data,a=this.component.legend,g=0,nt=0,p=0,v=Number.NEGATIVE_INFINITY,l=[],t=0,c=i.length;c>t;t++)e=i[t].name,this.selectedMap[e]=a?a.isSelected(e):!0,this.selectedMap[e]&&!isNaN(i[t].value)&&(0!=+i[t].value?g++:nt++,p+=+i[t].value,v=Math.max(v,+i[t].value));if(0!==p){for(var s,tt,w,b,h,r,u=100,y=o.clockWise,f=(o.startAngle.toFixed(2)- -360)%360,k=o.minAngle||.01,it=360-k*g-.01*nt,d=o.roseType,t=0,c=i.length;c>t;t++)(e=i[t].name,this.selectedMap[e]&&!isNaN(i[t].value))&&((tt=a?a.getColor(e):this.zr.getColor(t),u=i[t].value/p,s="area"!=d?y?f-u*it-(0!==u?k:.01):u*it+f+(0!==u?k:.01):y?f-360/c:360/c+f,s=s.toFixed(2)-0,u=(100*u).toFixed(2),w=this.parseCenter(this.zr,o.center),b=this.parseRadius(this.zr,o.radius),h=+b[0],r=+b[1],"radius"===d?r=i[t].value/v*(r-h)*.8+.2*(r-h)+h:"area"===d&&(r=Math.sqrt(i[t].value/v)*(r-h)+h),y)&&(rt=f,f=s,s=rt),this._buildItem(l,n,t,u,i[t].selected,w,h,r,f,s,tt),y||(f=s));for(this._autoLabelLayout(l,w,r),t=0,c=l.length;c>t;t++)this.shapeList.push(l[t]);l=null}},_buildItem:function(n,i,r,u,f,e,o,s,h,c,l){var a=this.series,p=((c+h)/2+360)%360,w=this.getSector(i,r,u,f,e,o,s,h,c,l),v,y;t.pack(w,a[i],i,a[i].data[r],r,a[i].data[r].name,u);n.push(w);v=this.getLabel(i,r,u,e,p,l,!1);y=this.getLabelLine(i,r,e,o,s,p,l,!1);y&&(t.pack(y,a[i],i,a[i].data[r],r,a[i].data[r].name,u),n.push(y));v&&(t.pack(v,a[i],i,a[i].data[r],r,a[i].data[r].name,u),v._labelLine=y,n.push(v))},getSector:function(n,t,r,u,f,e,o,s,h,l){var tt=this.series,y=tt[n],p=y.data[t],b=[p,y],k=this.deepMerge(b,"itemStyle.normal")||{},d=this.deepMerge(b,"itemStyle.emphasis")||{},w=this.getItemStyleColor(k.color,n,t,p)||l,it=this.getItemStyleColor(d.color,n,t,p)||("string"==typeof w?a.lift(w,-.2):w),v={zlevel:y.zlevel,z:y.z,clickable:this.deepQuery(b,"clickable"),style:{x:f[0],y:f[1],r0:e,r:o,startAngle:s,endAngle:h,brushType:"both",color:w,lineWidth:k.borderWidth,strokeColor:k.borderColor,lineJoin:"round"},highlightStyle:{color:it,lineWidth:d.borderWidth,strokeColor:d.borderColor,lineJoin:"round"},_seriesIndex:n,_dataIndex:t},g,nt;return u?(g=((v.style.startAngle+v.style.endAngle)/2).toFixed(2)-0,v.style._hasSelected=!0,v.style._x=v.style.x,v.style._y=v.style.y,nt=this.query(y,"selectedOffset"),v.style.x+=i.cos(g,!0)*nt,v.style.y-=i.sin(g,!0)*nt,this._selected[n][t]=!0):this._selected[n][t]=!1,this._selectedMode&&(v.onclick=this.shapeHandler.onclick),this.deepQuery([p,y,this.option],"calculable")&&(this.setCalculable(v),v.draggable=!0),(this._needLabel(y,p,!0)||this._needLabelLine(y,p,!0))&&(v.onmouseover=this.shapeHandler.onmouseover),v=new c(v)},getLabel:function(n,t,u,f,e,s,h){var it=this.series,v=it[n],b=v.data[t],a;if(this._needLabel(v,b,h)){var y,w,p,d=h?"emphasis":"normal",g=r.merge(r.clone(b.itemStyle)||{},v.itemStyle),c=g[d].label,k=c.textStyle||{},nt=f[0],tt=f[1],l=this.parseRadius(this.zr,v.radius);return c.position=c.position||g.normal.label.position,"center"===c.position?(y=nt,w=tt,p="center"):"inner"===c.position||"inside"===c.position?(l=(l[0]+l[1])*(c.distance||.5),y=Math.round(nt+l*i.cos(e,!0)),w=Math.round(tt-l*i.sin(e,!0)),s="#fff",p="center"):(l=l[1]- -g[d].labelLine.length,y=Math.round(nt+l*i.cos(e,!0)),w=Math.round(tt-l*i.sin(e,!0)),p=e>=90&&270>=e?"right":"left"),"center"!=c.position&&"inner"!=c.position&&"inside"!=c.position&&(y+="left"===p?20:-20),b.__labelX=y-("left"===p?5:-5),b.__labelY=w,a=new o({zlevel:v.zlevel,z:v.z+1,hoverable:!1,style:{x:y,y:w,color:k.color||s,text:this.getLabelText(n,t,u,d),textAlign:k.align||p,textBaseline:k.baseline||"middle",textFont:this.getFont(k)},highlightStyle:{brushType:"fill"}}),a._radius=l,a._labelPosition=c.position||"outer",a._rect=a.getRect(a.style),a._seriesIndex=n,a._dataIndex=t,a}},getLabelText:function(n,t,i,r){var o=this.series,e=o[n],f=e.data[t],u=this.deepQuery([f,e],"itemStyle."+r+".label.formatter");return u?"function"==typeof u?u.call(this.myChart,{seriesIndex:n,seriesName:e.name||"",series:e,dataIndex:t,data:f,name:f.name,value:f.value,percent:i}):"string"==typeof u?(u=u.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}"),u=u.replace("{a0}",e.name).replace("{b0}",f.name).replace("{c0}",f.value).replace("{d0}",i)):void 0:f.name},getLabelLine:function(n,t,u,f,e,o,s,h){var nt=this.series,c=nt[n],a=c.data[t];if(this._needLabelLine(c,a,h)){var tt=h?"emphasis":"normal",it=r.merge(r.clone(a.itemStyle)||{},c.itemStyle),y=it[tt].labelLine,v=y.lineStyle||{},p=u[0],w=u[1],b=e,k=this.parseRadius(this.zr,c.radius)[1]- -y.length,d=i.cos(o,!0),g=i.sin(o,!0);return new l({zlevel:c.zlevel,z:c.z+1,hoverable:!1,style:{pointList:[[p+b*d,w-b*g],[p+k*d,w-k*g],[a.__labelX,a.__labelY]],strokeColor:v.color||s,lineType:v.type,lineWidth:v.width},_seriesIndex:n,_dataIndex:t})}},_needLabel:function(n,t,i){return this.deepQuery([t,n],"itemStyle."+(i?"emphasis":"normal")+".label.show")},_needLabelLine:function(n,t,i){return this.deepQuery([t,n],"itemStyle."+(i?"emphasis":"normal")+".labelLine.show")},_autoLabelLayout:function(n,t,i){for(var u=[],f=[],r=0,e=n.length;e>r;r++)("outer"===n[r]._labelPosition||"outside"===n[r]._labelPosition)&&(n[r]._rect._y=n[r]._rect.y,n[r]._rect.x<t[0]?u.push(n[r]):f.push(n[r]));this._layoutCalculate(u,t,i,-1);this._layoutCalculate(f,t,i,1)},_layoutCalculate:function(n,t,i,r){function a(t,i,r){for(var u=t;i>u;u++)if(n[u]._rect.y+=r,n[u].style.y+=r,n[u]._labelLine&&(n[u]._labelLine.style.pointList[1][1]+=r,n[u]._labelLine.style.pointList[2][1]+=r),u>t&&i>u+1&&n[u+1]._rect.y>n[u]._rect.y+n[u]._rect.height)return void o(u,r/2);o(i-1,r/2)}function o(t,i){for(var r=t;r>=0&&(n[r]._rect.y-=i,n[r].style.y-=i,n[r]._labelLine&&(n[r]._labelLine.style.pointList[1][1]-=i,n[r]._labelLine.style.pointList[2][1]-=i),!(r>0&&n[r]._rect.y>n[r-1]._rect.y+n[r-1]._rect.height));r--);}function h(n,t,i,r,u){for(var e,c,s,h=i[0],l=i[1],o=u>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,f=0,a=n.length;a>f;f++)c=Math.abs(n[f]._rect.y-l),s=n[f]._radius-r,e=r+s>c?Math.sqrt((r+s+20)*(r+s+20)-Math.pow(n[f]._rect.y-l,2)):Math.abs(n[f]._rect.x+(u>0?0:n[f]._rect.width)-h),t&&e>=o&&(e=o-10),!t&&o>=e&&(e=o+10),n[f]._rect.x=n[f].style.x=h+e*u,n[f]._labelLine&&(n[f]._labelLine.style.pointList[2][0]=h+(e-5)*u,n[f]._labelLine.style.pointList[1][0]=h+(e-20)*u),o=e}var u;n.sort(function(n,t){return n._rect.y-t._rect.y});for(var s,f=0,e=n.length,c=[],l=[],u=0;e>u;u++)s=n[u]._rect.y-f,0>s&&a(u,e,-s,r),f=n[u]._rect.y+n[u]._rect.height;for(this.zr.getHeight()-f<0&&o(e-1,f-this.zr.getHeight()),u=0;e>u;u++)n[u]._rect.y>=t[1]?l.push(n[u]):c.push(n[u]);h(l,!0,t,i,r);h(c,!1,t,i,r)},reformOption:function(n){var t=r.merge;return n=t(t(n||{},r.clone(this.ecTheme.pie||{})),r.clone(u.pie)),n.itemStyle.normal.label.textStyle=this.getTextStyle(n.itemStyle.normal.label.textStyle),n.itemStyle.emphasis.label.textStyle=this.getTextStyle(n.itemStyle.emphasis.label.textStyle),this.z=n.z,this.zlevel=n.zlevel,n},refresh:function(n){n&&(this.option=n,this.series=n.series);this.backupShapeList();this._buildShape()},addDataAnimation:function(n,t){function l(){s--;0===s&&t&&t()}for(var v,o,e,y=this.series,w={},i=0,h=n.length;h>i;i++)w[n[i][0]]=n[i];var s=0,a={},b={},k={},f=this.shapeList;this.shapeList=[];for(var r,d,p,c={},i=0,h=n.length;h>i;i++)r=n[i][0],d=n[i][2],p=n[i][3],y[r]&&y[r].type===u.CHART_TYPE_PIE&&(d?(p||(a[r+"_"+y[r].data.length]="delete"),c[r]=1):p?c[r]=0:(a[r+"_-1"]="delete",c[r]=-1),this._buildSinglePie(r));for(i=0,h=this.shapeList.length;h>i;i++)switch(r=this.shapeList[i]._seriesIndex,v=this.shapeList[i]._dataIndex,o=r+"_"+v,this.shapeList[i].type){case"sector":a[o]=this.shapeList[i];break;case"text":b[o]=this.shapeList[i];break;case"polyline":k[o]=this.shapeList[i]}for(this.shapeList=[],i=0,h=f.length;h>i;i++)if(r=f[i]._seriesIndex,w[r]){if(v=f[i]._dataIndex+c[r],o=r+"_"+v,e=a[o],!e)continue;if("sector"===f[i].type)"delete"!=e?(s++,this.zr.animate(f[i].id,"style").when(400,{startAngle:e.style.startAngle,endAngle:e.style.endAngle}).done(l).start()):(s++,this.zr.animate(f[i].id,"style").when(400,c[r]<0?{startAngle:f[i].style.startAngle}:{endAngle:f[i].style.endAngle}).done(l).start());else if("text"===f[i].type||"polyline"===f[i].type)if("delete"===e)this.zr.delShape(f[i].id);else switch(f[i].type){case"text":s++;e=b[o];this.zr.animate(f[i].id,"style").when(400,{x:e.style.x,y:e.style.y}).done(l).start();break;case"polyline":s++;e=k[o];this.zr.animate(f[i].id,"style").when(400,{pointList:e.style.pointList}).done(l).start()}}this.shapeList=f;s||t&&t()},onclick:function(n){var l=this.series,c;if(this.isClick&&n.target){this.isClick=!1;for(var s,r=n.target,h=r.style,e=t.get(r,"seriesIndex"),o=t.get(r,"dataIndex"),f=0,a=this.shapeList.length;a>f;f++)this.shapeList[f].id===r.id?((e=t.get(r,"seriesIndex"),o=t.get(r,"dataIndex"),h._hasSelected)?(r.style.x=r.style._x,r.style.y=r.style._y,r.style._hasSelected=!1,this._selected[e][o]=!1):(c=((h.startAngle+h.endAngle)/2).toFixed(2)-0,r.style._hasSelected=!0,this._selected[e][o]=!0,r.style._x=r.style.x,r.style._y=r.style.y,s=this.query(l[e],"selectedOffset"),r.style.x+=i.cos(c,!0)*s,r.style.y-=i.sin(c,!0)*s),this.zr.modShape(r.id)):this.shapeList[f].style._hasSelected&&"single"===this._selectedMode&&(e=t.get(this.shapeList[f],"seriesIndex"),o=t.get(this.shapeList[f],"dataIndex"),this.shapeList[f].style.x=this.shapeList[f].style._x,this.shapeList[f].style.y=this.shapeList[f].style._y,this.shapeList[f].style._hasSelected=!1,this._selected[e][o]=!1,this.zr.modShape(this.shapeList[f].id));this.messageCenter.dispatch(u.EVENT.PIE_SELECTED,n.event,{selected:this._selected,target:t.get(r,"name")},this.myChart);this.zr.refreshNextFrame()}}},r.inherits(f,e),n("../chart").define("pie",f),f})